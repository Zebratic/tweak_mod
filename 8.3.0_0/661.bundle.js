(self.webpackChunktweak=self.webpackChunktweak||[]).push([[661],{3547:(t,e,i)=>{i.d(e,{P:()=>r,g:()=>n});const n={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:i(1170).v.text},r={CurrentDragAndDropData:void 0}},4850:(t,e,i)=>{i.d(e,{Y:()=>r,p:()=>o});var n=i(4669);class r{constructor(t,e,i){const r=t=>this.emitter.fire(t);this.emitter=new n.Q5({onFirstListenerAdd:()=>t.addEventListener(e,r,i),onLastListenerRemove:()=>t.removeEventListener(e,r,i)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function o(t){return t.preventDefault(),t.stopPropagation(),t}},8626:(t,e,i)=>{i.d(e,{X:()=>o,Z:()=>n});class n{constructor(t){this.domNode=t,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(t){const e=r(t);this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth)}setWidth(t){const e=r(t);this._width!==e&&(this._width=e,this.domNode.style.width=this._width)}setHeight(t){const e=r(t);this._height!==e&&(this._height=e,this.domNode.style.height=this._height)}setTop(t){const e=r(t);this._top!==e&&(this._top=e,this.domNode.style.top=this._top)}setLeft(t){const e=r(t);this._left!==e&&(this._left=e,this.domNode.style.left=this._left)}setBottom(t){const e=r(t);this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom)}setRight(t){const e=r(t);this._right!==e&&(this._right=e,this.domNode.style.right=this._right)}setFontFamily(t){this._fontFamily!==t&&(this._fontFamily=t,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(t){const e=r(t);this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize)}setFontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(t){this._fontFeatureSettings!==t&&(this._fontFeatureSettings=t,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(t){this._textDecoration!==t&&(this._textDecoration=t,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(t){const e=r(t);this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(t){const e=r(t);this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(t){this._className!==t&&(this._className=t,this.domNode.className=this._className)}toggleClassName(t,e){this.domNode.classList.toggle(t,e),this._className=this.domNode.className}setDisplay(t){this._display!==t&&(this._display=t,this.domNode.style.display=this._display)}setPosition(t){this._position!==t&&(this._position=t,this.domNode.style.position=this._position)}setVisibility(t){this._visibility!==t&&(this._visibility=t,this.domNode.style.visibility=this._visibility)}setColor(t){this._color!==t&&(this._color=t,this.domNode.style.color=this._color)}setBackgroundColor(t){this._backgroundColor!==t&&(this._backgroundColor=t,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(t){this._layerHint!==t&&(this._layerHint=t,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(t){this._boxShadow!==t&&(this._boxShadow=t,this.domNode.style.boxShadow=t)}setContain(t){this._contain!==t&&(this._contain=t,this.domNode.style.contain=this._contain)}setAttribute(t,e){this.domNode.setAttribute(t,e)}removeAttribute(t){this.domNode.removeAttribute(t)}appendChild(t){this.domNode.appendChild(t.domNode)}removeChild(t){this.domNode.removeChild(t.domNode)}}function r(t){return"number"==typeof t?`${t}px`:t}function o(t){return new n(t)}},8764:(t,e,i)=>{i.d(e,{BO:()=>o,IY:()=>r,az:()=>s});var n=i(5321);function r(t,e={}){const i=s(e);return i.textContent=t,i}function o(t,e={}){const i=s(e);return h(i,function(t,e){const i={type:1,children:[]};let n=0,r=i;const o=[],s=new a(t);for(;!s.eos();){let t=s.next();const i="\\"===t&&0!==c(s.peek(),e);if(i&&(t=s.next()),!i&&l(t,e)&&t===s.peek()){s.advance(),2===r.type&&(r=o.pop());const i=c(t,e);if(r.type===i||5===r.type&&6===i)r=o.pop();else{const t={type:i,children:[]};5===i&&(t.index=n,n++),r.children.push(t),o.push(r),r=t}}else if("\n"===t)2===r.type&&(r=o.pop()),r.children.push({type:8});else if(2!==r.type){const e={type:2,content:t};r.children.push(e),o.push(r),r=e}else r.content+=t}2===r.type&&(r=o.pop());o.length;return i}(t,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),i}function s(t){const e=t.inline?"span":"div",i=document.createElement(e);return t.className&&(i.className=t.className),i}class a{constructor(t){this.source=t,this.index=0}eos(){return this.index>=this.source.length}next(){const t=this.peek();return this.advance(),t}peek(){return this.source[this.index]}advance(){this.index++}}function h(t,e,i,r){let o;if(2===e.type)o=document.createTextNode(e.content||"");else if(3===e.type)o=document.createElement("b");else if(4===e.type)o=document.createElement("i");else if(7===e.type&&r)o=document.createElement("code");else if(5===e.type&&i){const t=document.createElement("a");i.disposables.add(n.mu(t,"click",(t=>{i.callback(String(e.index),t)}))),o=t}else 8===e.type?o=document.createElement("br"):1===e.type&&(o=t);o&&t!==o&&t.appendChild(o),o&&Array.isArray(e.children)&&e.children.forEach((t=>{h(o,t,i,r)}))}function l(t,e){return 0!==c(t,e)}function c(t,e){switch(t){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}},3911:(t,e,i)=>{i.d(e,{C:()=>o});var n=i(5321),r=i(9917);class o{constructor(){this._hooks=new r.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(t,e){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,t&&i&&i(e)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(t,e,i,o,s){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=o,this._onStopCallback=s;let a=t;try{t.setPointerCapture(e),this._hooks.add((0,r.OF)((()=>{t.releasePointerCapture(e)})))}catch(t){a=window}this._hooks.add(n.nm(a,n.tw.POINTER_MOVE,(t=>{t.buttons===i?(t.preventDefault(),this._pointerMoveCallback(t)):this.stopMonitoring(!0)}))),this._hooks.add(n.nm(a,n.tw.POINTER_UP,(t=>this.stopMonitoring(!0))))}}},553:(t,e,i)=>{i.d(e,{o:()=>l,t:()=>n});var n,r=i(5321),o=i(9488),s=i(9898),a=i(9917),h=function(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s};!function(t){t.Tap="-monaco-gesturetap",t.Change="-monaco-gesturechange",t.Start="-monaco-gesturestart",t.End="-monaco-gesturesend",t.Contextmenu="-monaco-gesturecontextmenu"}(n||(n={}));class l extends a.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(r.nm(document,"touchstart",(t=>this.onTouchStart(t)),{passive:!1})),this._register(r.nm(document,"touchend",(t=>this.onTouchEnd(t)))),this._register(r.nm(document,"touchmove",(t=>this.onTouchMove(t)),{passive:!1}))}static addTarget(t){return l.isTouchDevice()?(l.INSTANCE||(l.INSTANCE=new l),l.INSTANCE.targets.push(t),{dispose:()=>{l.INSTANCE.targets=l.INSTANCE.targets.filter((e=>e!==t))}}):a.JT.None}static ignoreTarget(t){return l.isTouchDevice()?(l.INSTANCE||(l.INSTANCE=new l),l.INSTANCE.ignoreTargets.push(t),{dispose:()=>{l.INSTANCE.ignoreTargets=l.INSTANCE.ignoreTargets.filter((e=>e!==t))}}):a.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(t){const e=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,r=t.targetTouches.length;i<r;i++){const r=t.targetTouches.item(i);this.activeTouches[r.identifier]={id:r.identifier,initialTarget:r.target,initialTimeStamp:e,initialPageX:r.pageX,initialPageY:r.pageY,rollingTimestamps:[e],rollingPageX:[r.pageX],rollingPageY:[r.pageY]};const o=this.newGestureEvent(n.Start,r.target);o.pageX=r.pageX,o.pageY=r.pageY,this.dispatchEvent(o)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}onTouchEnd(t){const e=Date.now(),i=Object.keys(this.activeTouches).length;for(let r=0,s=t.changedTouches.length;r<s;r++){const s=t.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(s.identifier)))continue;const a=this.activeTouches[s.identifier],h=Date.now()-a.initialTimeStamp;if(h<l.HOLD_DELAY&&Math.abs(a.initialPageX-o.Gb(a.rollingPageX))<30&&Math.abs(a.initialPageY-o.Gb(a.rollingPageY))<30){const t=this.newGestureEvent(n.Tap,a.initialTarget);t.pageX=o.Gb(a.rollingPageX),t.pageY=o.Gb(a.rollingPageY),this.dispatchEvent(t)}else if(h>=l.HOLD_DELAY&&Math.abs(a.initialPageX-o.Gb(a.rollingPageX))<30&&Math.abs(a.initialPageY-o.Gb(a.rollingPageY))<30){const t=this.newGestureEvent(n.Contextmenu,a.initialTarget);t.pageX=o.Gb(a.rollingPageX),t.pageY=o.Gb(a.rollingPageY),this.dispatchEvent(t)}else if(1===i){const t=o.Gb(a.rollingPageX),i=o.Gb(a.rollingPageY),n=o.Gb(a.rollingTimestamps)-a.rollingTimestamps[0],r=t-a.rollingPageX[0],s=i-a.rollingPageY[0],h=this.targets.filter((t=>a.initialTarget instanceof Node&&t.contains(a.initialTarget)));this.inertia(h,e,Math.abs(r)/n,r>0?1:-1,t,Math.abs(s)/n,s>0?1:-1,i)}this.dispatchEvent(this.newGestureEvent(n.End,a.initialTarget)),delete this.activeTouches[s.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(t,e){const i=document.createEvent("CustomEvent");return i.initEvent(t,!1,!0),i.initialTarget=e,i.tapCount=0,i}dispatchEvent(t){if(t.type===n.Tap){const e=(new Date).getTime();let i=0;i=e-this._lastSetTapCountTime>l.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=e,t.tapCount=i}else t.type!==n.Change&&t.type!==n.Contextmenu||(this._lastSetTapCountTime=0);for(let e=0;e<this.ignoreTargets.length;e++)if(t.initialTarget instanceof Node&&this.ignoreTargets[e].contains(t.initialTarget))return;this.targets.forEach((e=>{t.initialTarget instanceof Node&&e.contains(t.initialTarget)&&(e.dispatchEvent(t),this.dispatched=!0)}))}inertia(t,e,i,o,s,a,h,c){this.handle=r.jL((()=>{const r=Date.now(),d=r-e;let u=0,g=0,f=!0;i+=l.SCROLL_FRICTION*d,a+=l.SCROLL_FRICTION*d,i>0&&(f=!1,u=o*i*d),a>0&&(f=!1,g=h*a*d);const p=this.newGestureEvent(n.Change);p.translationX=u,p.translationY=g,t.forEach((t=>t.dispatchEvent(p))),f||this.inertia(t,r,i,o,s+u,a,h,c+g)}))}onTouchMove(t){const e=Date.now();for(let i=0,r=t.changedTouches.length;i<r;i++){const r=t.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(r.identifier)))continue;const s=this.activeTouches[r.identifier],a=this.newGestureEvent(n.Change,s.initialTarget);a.translationX=r.pageX-o.Gb(s.rollingPageX),a.translationY=r.pageY-o.Gb(s.rollingPageY),a.pageX=r.pageX,a.pageY=r.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(r.pageX),s.rollingPageY.push(r.pageY),s.rollingTimestamps.push(e)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}}l.SCROLL_FRICTION=-.005,l.HOLD_DELAY=700,l.CLEAR_TAP_COUNT_TIME=400,h([s.H],l,"isTouchDevice",null)},6033:(t,e,i)=>{i.d(e,{Y:()=>g,g:()=>f});var n=i(6268),r=i(3547),o=i(5321),s=i(553),a=i(1433),h=i(4741),l=i(9917),c=i(1432),d=i(8401),u=i(3580);class g extends l.JT{constructor(t,e,i={}){super(),this.options=i,this._context=t||this,this._action=e,e instanceof h.aU&&this._register(e.onDidChange((t=>{this.element&&this.handleActionChangeEvent(t)})))}get action(){return this._action}handleActionChangeEvent(t){void 0!==t.enabled&&this.updateEnabled(),void 0!==t.checked&&this.updateChecked(),void 0!==t.class&&this.updateClass(),void 0!==t.label&&(this.updateLabel(),this.updateTooltip()),void 0!==t.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new h.Wi)),this._actionRunner}set actionRunner(t){this._actionRunner=t}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(t){this._context=t}render(t){const e=this.element=t;this._register(s.o.addTarget(t));const i=this.options&&this.options.draggable;i&&(t.draggable=!0,n.isFirefox&&this._register((0,o.nm)(t,o.tw.DRAG_START,(t=>{var e;return null===(e=t.dataTransfer)||void 0===e?void 0:e.setData(r.g.TEXT,this._action.label)})))),this._register((0,o.nm)(e,s.t.Tap,(t=>this.onClick(t,!0)))),this._register((0,o.nm)(e,o.tw.MOUSE_DOWN,(t=>{i||o.zB.stop(t,!0),this._action.enabled&&0===t.button&&e.classList.add("active")}))),c.dz&&this._register((0,o.nm)(e,o.tw.CONTEXT_MENU,(t=>{0===t.button&&!0===t.ctrlKey&&this.onClick(t)}))),this._register((0,o.nm)(e,o.tw.CLICK,(t=>{o.zB.stop(t,!0),this.options&&this.options.isMenu||this.onClick(t)}))),this._register((0,o.nm)(e,o.tw.DBLCLICK,(t=>{o.zB.stop(t,!0)}))),[o.tw.MOUSE_UP,o.tw.MOUSE_OUT].forEach((t=>{this._register((0,o.nm)(e,t,(t=>{o.zB.stop(t),e.classList.remove("active")})))}))}onClick(t,e=!1){var i;o.zB.stop(t,!0);const n=d.Jp(this._context)?(null===(i=this.options)||void 0===i?void 0:i.useEventAsContext)?t:{preserveFocus:e}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(t){this.element&&(this.element.tabIndex=t?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.getAction().tooltip}updateTooltip(){var t;if(!this.element)return;const e=null!==(t=this.getTooltip())&&void 0!==t?t:"";this.element.setAttribute("aria-label",e),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(e):(this.customHover=(0,a.g)(this.options.hoverDelegate,this.element,e),this._store.add(this.customHover))):this.element.title=e}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class f extends g{constructor(t,e,i={}){super(t,e,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass=""}render(t){super.render(t),this.element&&(this.label=(0,o.R3)(this.element,(0,o.$)("a.action-label"))),this.label&&(this._action.id===h.Z0.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,o.R3)(this.element,(0,o.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(t){this.label&&(this.label.tabIndex=t?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}getTooltip(){let t=null;return this.getAction().tooltip?t=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(t=this.getAction().label,this.options.keybinding&&(t=u.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",t,this.options.keybinding))),null!=t?t:void 0}updateClass(){var t;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):null===(t=this.label)||void 0===t||t.classList.remove("codicon")}updateEnabled(){var t,e;this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),null===(t=this.element)||void 0===t||t.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),null===(e=this.element)||void 0===e||e.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},317:(t,e,i)=>{i.d(e,{o:()=>d});var n=i(5321),r=i(9069),o=i(6033),s=i(4741),a=i(4669),h=i(9917),l=i(8401),c=function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}h((n=n.apply(t,e||[])).next())}))};class d extends h.JT{constructor(t,e={}){var i,h,l,c,d,u;let g,f;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new a.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new a.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new a.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new a.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=e,this._context=null!==(i=e.context)&&void 0!==i?i:null,this._orientation=null!==(h=this.options.orientation)&&void 0!==h?h:0,this._triggerKeys={keyDown:null!==(c=null===(l=this.options.triggerKeys)||void 0===l?void 0:l.keyDown)&&void 0!==c&&c,keys:null!==(u=null===(d=this.options.triggerKeys)||void 0===d?void 0:d.keys)&&void 0!==u?u:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new s.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun((t=>this._onDidRun.fire(t)))),this._register(this._actionRunner.onBeforeRun((t=>this._onBeforeRun.fire(t)))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==e.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:g=[15],f=[17];break;case 1:g=[16],f=[18],this.domNode.className+=" vertical"}this._register(n.nm(this.domNode,n.tw.KEY_DOWN,(t=>{const e=new r.y(t);let i=!0;const n="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;g&&(e.equals(g[0])||e.equals(g[1]))?i=this.focusPrevious():f&&(e.equals(f[0])||e.equals(f[1]))?i=this.focusNext():e.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():e.equals(14)?i=this.focusFirst():e.equals(13)?i=this.focusLast():e.equals(2)&&n instanceof o.Y&&n.trapsArrowNavigation?i=this.focusNext():this.isTriggerKeyEvent(e)?this._triggerKeys.keyDown?this.doTrigger(e):this.triggerKeyDown=!0:i=!1,i&&(e.preventDefault(),e.stopPropagation())}))),this._register(n.nm(this.domNode,n.tw.KEY_UP,(t=>{const e=new r.y(t);this.isTriggerKeyEvent(e)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(e)),e.preventDefault(),e.stopPropagation()):(e.equals(2)||e.equals(1026))&&this.updateFocusedItem()}))),this.focusTracker=this._register(n.go(this.domNode)),this._register(this.focusTracker.onDidBlur((()=>{n.vY()!==this.domNode&&n.jg(n.vY(),this.domNode)||(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)}))),this._register(this.focusTracker.onDidFocus((()=>this.updateFocusedItem()))),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),t.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(t){if(this.focusable=t,this.focusable){const t=this.viewItems.find((t=>t instanceof o.Y&&t.isEnabled()));t instanceof o.Y&&t.setFocusable(!0)}else this.viewItems.forEach((t=>{t instanceof o.Y&&t.setFocusable(!1)}))}isTriggerKeyEvent(t){let e=!1;return this._triggerKeys.keys.forEach((i=>{e=e||t.equals(i)})),e}updateFocusedItem(){for(let t=0;t<this.actionsList.children.length;t++){const e=this.actionsList.children[t];if(n.jg(n.vY(),e)){this.focusedItem=t;break}}}get context(){return this._context}set context(t){this._context=t,this.viewItems.forEach((e=>e.setActionContext(t)))}get actionRunner(){return this._actionRunner}set actionRunner(t){t&&(this._actionRunner=t,this.viewItems.forEach((e=>e.actionRunner=t)))}getContainer(){return this.domNode}push(t,e={}){const i=Array.isArray(t)?t:[t];let r=l.hj(e.index)?e.index:null;i.forEach((t=>{const i=document.createElement("li");let s;i.className="action-item",i.setAttribute("role","presentation"),this.options.actionViewItemProvider&&(s=this.options.actionViewItemProvider(t)),s||(s=new o.g(this.context,t,Object.assign({hoverDelegate:this.options.hoverDelegate},e))),this.options.allowContextMenu||this.viewItemDisposables.set(s,n.nm(i,n.tw.CONTEXT_MENU,(t=>{n.zB.stop(t,!0)}))),s.actionRunner=this._actionRunner,s.setActionContext(this.context),s.render(i),this.focusable&&s instanceof o.Y&&0===this.viewItems.length&&s.setFocusable(!0),null===r||r<0||r>=this.actionsList.children.length?(this.actionsList.appendChild(i),this.viewItems.push(s),this._actionIds.push(t.id)):(this.actionsList.insertBefore(i,this.actionsList.children[r]),this.viewItems.splice(r,0,s),this._actionIds.splice(r,0,t.id),r++)})),"number"==typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,h.B9)(this.viewItems),this.viewItemDisposables.forEach((t=>t.dispose())),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],n.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(t){let e,i=!1;if(void 0===t?i=!0:"number"==typeof t?e=t:"boolean"==typeof t&&(i=t),i&&void 0===this.focusedItem){const t=this.viewItems.findIndex((t=>t.isEnabled()));this.focusedItem=-1===t?void 0:t,this.updateFocus(void 0,void 0,!0)}else void 0!==e&&(this.focusedItem=e),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(t){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let i;do{if(!t&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=e,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===s.Z0.ID));return this.updateFocus(),!0}focusPrevious(t){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!t&&this.options.preventLoopNavigation)return this.focusedItem=e,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===s.Z0.ID));return this.updateFocus(!0),!0}updateFocus(t,e,i=!1){var n;void 0===this.focusedItem&&this.actionsList.focus({preventScroll:e}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(n=this.viewItems[this.previouslyFocusedItem])||void 0===n||n.blur());const r=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(r){let n=!0;l.mf(r.focus)||(n=!1),this.options.focusOnlyEnabledItems&&l.mf(r.isEnabled)&&!r.isEnabled()&&(n=!1),r.action.id===s.Z0.ID&&(n=!1),n?(i||this.previouslyFocusedItem!==this.focusedItem)&&(r.focus(t),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:e}),this.previouslyFocusedItem=void 0)}}doTrigger(t){if(void 0===this.focusedItem)return;const e=this.viewItems[this.focusedItem];if(e instanceof o.Y){const i=null===e._context||void 0===e._context?t:e._context;this.run(e._action,i)}}run(t,e){return c(this,void 0,void 0,(function*(){yield this._actionRunner.run(t,e)}))}dispose(){(0,h.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},3070:(t,e,i)=>{i.d(e,{V:()=>l});var n=i(5321),r=i(1307),o=i(7927),s=i(3794),a=i(4669);const h=i(3580).NC("defaultLabel","input");class l extends s.${constructor(t,e,i,s){var l;super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalToggles=[],this._onDidOptionChange=this._register(new a.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new a.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new a.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new a.Q5),this._onKeyUp=this._register(new a.Q5),this._onCaseSensitiveKeyDown=this._register(new a.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new a.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=e,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||h,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const c=s.appendCaseSensitiveLabel||"",d=s.appendWholeWordsLabel||"",u=s.appendRegexLabel||"",g=s.history||[],f=!!s.flexibleHeight,p=!!s.flexibleWidth,m=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new o.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:g,showHistoryHint:s.showHistoryHint,flexibleHeight:f,flexibleWidth:p,flexibleMaxHeight:m})),this.regex=this._register(new r.eH({appendTitle:u,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange((t=>{this._onDidOptionChange.fire(t),!t&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.regex.onKeyDown((t=>{this._onRegexKeyDown.fire(t)}))),this.wholeWords=this._register(new r.Qx({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange((t=>{this._onDidOptionChange.fire(t),!t&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this.caseSensitive=this._register(new r.rk({appendTitle:c,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange((t=>{this._onDidOptionChange.fire(t),!t&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.caseSensitive.onKeyDown((t=>{this._onCaseSensitiveKeyDown.fire(t)})));const _=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(t=>{if(t.equals(15)||t.equals(17)||t.equals(9)){const e=_.indexOf(document.activeElement);if(e>=0){let i=-1;t.equals(17)?i=(e+1)%_.length:t.equals(15)&&(i=0===e?_.length-1:e-1),t.equals(9)?(_[e].blur(),this.inputBox.focus()):i>=0&&_[i].focus(),n.zB.stop(t,!0)}}})),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none");for(const t of null!==(l=null==s?void 0:s.additionalToggles)&&void 0!==l?l:[])this._register(t),this.controls.appendChild(t.domNode),this._register(t.onChange((t=>{this._onDidOptionChange.fire(t),!t&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()}))),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce(((t,e)=>t+e.width()),0),this.domNode.appendChild(this.controls),null==t||t.appendChild(this.domNode),this._register(n.nm(this.inputBox.inputElement,"compositionstart",(t=>{this.imeSessionInProgress=!0}))),this._register(n.nm(this.inputBox.inputElement,"compositionend",(t=>{this.imeSessionInProgress=!1,this._onInput.fire()}))),this.onkeydown(this.inputBox.inputElement,(t=>this._onKeyDown.fire(t))),this.onkeyup(this.inputBox.inputElement,(t=>this._onKeyUp.fire(t))),this.oninput(this.inputBox.inputElement,(t=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(t=>this._onMouseDown.fire(t)))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const t of this.additionalToggles)t.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const t of this.additionalToggles)t.disable()}setFocusInputOnOptionClick(t){this.fixFocusOnOptionClickEnabled=t}setEnabled(t){t?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(t){this.inputBox.value!==t&&(this.inputBox.value=t)}style(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionForeground=t.inputActiveOptionForeground,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const t={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(t),this.wholeWords.style(t),this.caseSensitive.style(t);for(const e of this.additionalToggles)e.style(t);const e={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(e)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(t){this.caseSensitive.checked=t}getWholeWords(){return this.wholeWords.checked}setWholeWords(t){this.wholeWords.checked=t}getRegex(){return this.regex.checked}setRegex(t){this.regex.checked=t,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(t){this.inputBox.showMessage(t)}clearMessage(){this.inputBox.hideMessage()}}},1307:(t,e,i)=>{i.d(e,{Qx:()=>c,eH:()=>d,rk:()=>l});var n=i(2900),r=i(3046),o=i(3580);const s=o.NC("caseDescription","Match Case"),a=o.NC("wordsDescription","Match Whole Word"),h=o.NC("regexDescription","Use Regular Expression");class l extends n.Z{constructor(t){super({icon:r.lA.caseSensitive,title:s+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class c extends n.Z{constructor(t){super({icon:r.lA.wholeWord,title:a+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class d extends n.Z{constructor(t){super({icon:r.lA.regex,title:h+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}},1433:(t,e,i)=>{i.d(e,{O:()=>u,g:()=>f});var n=i(5321),r=i(5393),o=i(1050),s=i(9365),a=i(1212),h=i(9917),l=i(8401),c=i(3580),d=function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}h((n=n.apply(t,e||[])).next())}))};function u(t,e){(0,l.HD)(e)?t.title=(0,a.x$)(e):(null==e?void 0:e.markdownNotSupportedFallback)?t.title=e.markdownNotSupportedFallback:t.removeAttribute("title")}class g{constructor(t,e,i){this.hoverDelegate=t,this.target=e,this.fadeInAnimation=i}update(t,e,i){var n;return d(this,void 0,void 0,(function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let r;if(void 0===t||(0,l.HD)(t)||t instanceof HTMLElement)r=t;else if((0,l.mf)(t.markdown)){this._hoverWidget||this.show((0,c.NC)("iconLabel.loading","Loading..."),e),this._cancellationTokenSource=new o.A;const i=this._cancellationTokenSource.token;if(r=yield t.markdown(i),void 0===r&&(r=t.markdownNotSupportedFallback),this.isDisposed||i.isCancellationRequested)return}else r=null!==(n=t.markdown)&&void 0!==n?n:t.markdownNotSupportedFallback;this.show(r,e,i)}))}show(t,e,i){const n=this._hoverWidget;if(this.hasContent(t)){const r=Object.assign({content:t,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!n},i);this._hoverWidget=this.hoverDelegate.showHover(r,e)}null==n||n.dispose()}hasContent(t){return!!t&&(!(0,s.Fr)(t)||!!t.value)}get isDisposed(){var t;return null===(t=this._hoverWidget)||void 0===t?void 0:t.isDisposed}dispose(){var t,e;null===(t=this._hoverWidget)||void 0===t||t.dispose(),null===(e=this._cancellationTokenSource)||void 0===e||e.dispose(!0),this._cancellationTokenSource=void 0}}function f(t,e,i,o){let s,a;const l=(e,i)=>{var n;e&&(null==a||a.dispose(),a=void 0),i&&(null==s||s.dispose(),s=void 0),null===(n=t.onDidHideHover)||void 0===n||n.call(t)},c=(n,s,h)=>new r._F((()=>d(this,void 0,void 0,(function*(){a&&!a.isDisposed||(a=new g(t,h||e,n>0),yield a.update(i,s,o))}))),n),u=n.nm(e,n.tw.MOUSE_OVER,(()=>{if(s)return;const i=new h.SL;i.add(n.nm(e,n.tw.MOUSE_LEAVE,(t=>l(!1,t.fromElement===e)),!0));i.add(n.nm(e,n.tw.MOUSE_DOWN,(()=>l(!0,!0)),!0));const r={targetElements:[e],dispose:()=>{}};if(void 0===t.placement||"mouse"===t.placement){const t=t=>{r.x=t.x+10,t.target instanceof HTMLElement&&t.target.classList.contains("action-label")&&l(!0,!0)};i.add(n.nm(e,n.tw.MOUSE_MOVE,t,!0))}i.add(c(t.delay,!1,r)),s=i}),!0);return{show:t=>{l(!1,!0),c(0,t)},hide:()=>{l(!0,!0)},update:(t,e)=>d(this,void 0,void 0,(function*(){i=t,yield null==a?void 0:a.update(i,void 0,e)})),dispose:()=>{u.dispose(),l(!0,!0)}}}},7927:(t,e,i)=>{i.d(e,{p:()=>b,W:()=>k});var n=i(5321),r=i(4850),o=i(8764),s=i(317),a=i(5152),h=i(9802),l=i(3794),c=i(1264),d=i(4669);class u{constructor(t,e=0,i=t.length,n=e-1){this.items=t,this.start=e,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class g{constructor(t=[],e=10){this._initialize(t),this._limit=e,this._onChange()}getHistory(){return this._elements}add(t){this._history.delete(t),this._history.add(t),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(t){return this._history.has(t)}_onChange(){this._reduceToLimit();const t=this._elements;this._navigator=new u(t,0,t.length,t.length)}_reduceToLimit(){const t=this._elements;t.length>this._limit&&this._initialize(t.slice(t.length-this._limit))}_currentPosition(){const t=this._navigator.current();return t?this._elements.indexOf(t):-1}_initialize(t){this._history=new Set;for(const e of t)this._history.add(e)}get _elements(){const t=[];return this._history.forEach((e=>t.push(e))),t}}var f=i(6248),p=i(3580);const m=n.$,_={inputBackground:c.Il.fromHex("#3C3C3C"),inputForeground:c.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:c.Il.fromHex("#55AAFF"),inputValidationInfoBackground:c.Il.fromHex("#063B49"),inputValidationWarningBorder:c.Il.fromHex("#B89500"),inputValidationWarningBackground:c.Il.fromHex("#352A05"),inputValidationErrorBorder:c.Il.fromHex("#BE1100"),inputValidationErrorBackground:c.Il.fromHex("#5A1D1D")};class k extends l.${constructor(t,e,i){var o;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new d.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=e,this.options=i||Object.create(null),(0,f.jB)(this.options,_,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(o=this.options.tooltip)&&void 0!==o?o:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=n.R3(t,m(".monaco-inputbox.idle"));const a=this.options.flexibleHeight?"textarea":"input",l=n.R3(this.element,m(".ibwrapper"));if(this.input=n.R3(l,m(a+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,(()=>this.element.classList.add("synthetic-focus"))),this.onblur(this.input,(()=>this.element.classList.remove("synthetic-focus"))),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=n.R3(l,m("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new h.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),n.R3(t,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((t=>this.input.scrollTop=t.scrollTop)));const e=this._register(new r.Y(document,"selectionchange")),i=d.ju.filter(e.event,(()=>{const t=document.getSelection();return(null==t?void 0:t.anchorNode)===l}));this._register(i(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,(()=>this.onValueChange())),this.onblur(this.input,(()=>this.onBlur())),this.onfocus(this.input,(()=>this.onFocus())),this.ignoreGesture(this.input),setTimeout((()=>this.updateMirror()),0),this.options.actions&&(this.actionbar=this._register(new s.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(t){this.placeholder=t,this.input.setAttribute("placeholder",t)}setTooltip(t){this.tooltip=t,this.input.title=t}setAriaLabel(t){this.ariaLabel=t,t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:n.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(t=null){this.input.select(),t&&(this.input.setSelectionRange(t.start,t.end),t.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return n.w(this.input)}set width(t){if(this.options.flexibleHeight&&this.options.flexibleWidth){let e=0;if(this.mirror){e=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)}this.input.style.width=t-e+"px"}else this.input.style.width=t+"px";this.mirror&&(this.mirror.style.width=t+"px")}set paddingRight(t){this.input.style.width=`calc(100% - ${t}px)`,this.mirror&&(this.mirror.style.paddingRight=t+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const t=this.cachedContentHeight,e=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:e}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(t,e){this.message=t,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(t.type));const i=this.stylesForType(this.message.type);this.element.style.border=i.border?`1px solid ${i.border}`:"",(this.hasFocus()||e)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==t?void 0:t.type}stylesForType(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let t;const e=()=>t.style.width=n.w(this.element)+"px";let i;this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:i=>{if(!this.message)return null;t=n.R3(i,m(".monaco-inputbox-container")),e();const r={inline:!0,className:"monaco-inputbox-message"},s=this.message.formatContent?(0,o.BO)(this.message.content,r):(0,o.IY)(this.message.content,r);s.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return s.style.backgroundColor=a.background?a.background.toString():"",s.style.color=a.foreground?a.foreground.toString():"",s.style.border=a.border?`1px solid ${a.border}`:"",n.R3(t,s),null},onHide:()=>{this.state="closed"},layout:e}),i=3===this.message.type?p.NC("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?p.NC("alertWarningMessage","Warning: {0}",this.message.content):p.NC("alertInfoMessage","Info: {0}",this.message.content),a.Z9(i),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const t=this.value,e=10===t.charCodeAt(t.length-1)?" ":"";(t+e).replace(/\u000c/g,"")?this.mirror.textContent=t+e:this.mirror.innerText=" ",this.layout()}style(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const t=this.inputBackground?this.inputBackground.toString():"",e=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=t,this.element.style.color=e,this.input.style.backgroundColor="inherit",this.input.style.color=e,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;const t=this.cachedContentHeight;this.cachedContentHeight=n.wn(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(t){const e=this.inputElement,i=e.selectionStart,n=e.selectionEnd,r=e.value;null!==i&&null!==n&&(this.value=r.substr(0,i)+t+r.substr(n),e.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class b extends k{constructor(t,e,i){const n=p.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with ⇅ plus a single space, then used as a hint where input field keeps history"]},"for history"),r=` or ⇅ ${n}`,o=` (⇅ ${n})`;super(t,e,i),this._onDidFocus=this._register(new d.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new d.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new g(i.history,100);const s=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(r)&&!this.placeholder.endsWith(o)&&this.history.getHistory().length){const t=this.placeholder.endsWith(")")?r:o,e=this.placeholder+t;i.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=e:this.setPlaceHolder(e)}};this.observer=new MutationObserver(((t,e)=>{t.forEach((t=>{t.target.textContent||s()}))})),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,(()=>s())),this.onblur(this.input,(()=>{const t=t=>{if(this.placeholder.endsWith(t)){const e=this.placeholder.slice(0,this.placeholder.length-t.length);return i.showPlaceholderOnFocus?this.placeholder=e:this.setPlaceHolder(e),!0}return!1};t(o)||t(r)}))}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),t&&(this.value=t,a.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,a.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let t=this.history.current();return t||(t=this.history.last(),this.history.next()),t}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},3098:(t,e,i)=>{i.d(e,{g:()=>b,l:()=>u});var n=i(5321),r=i(4850),o=i(553),s=i(5393),a=i(9898),h=i(4669),l=i(9917),c=i(1432),d=function(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s};var u;!function(t){t.North="north",t.South="south",t.East="east",t.West="west"}(u||(u={}));const g=new h.Q5;const f=new h.Q5;class p{constructor(){this.disposables=new l.SL}get onPointerMove(){return this.disposables.add(new r.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new r.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}d([a.H],p.prototype,"onPointerMove",null),d([a.H],p.prototype,"onPointerUp",null);class m{constructor(t){this.el=t,this.disposables=new l.SL}get onPointerMove(){return this.disposables.add(new r.Y(this.el,o.t.Change)).event}get onPointerUp(){return this.disposables.add(new r.Y(this.el,o.t.End)).event}dispose(){this.disposables.dispose()}}d([a.H],m.prototype,"onPointerMove",null),d([a.H],m.prototype,"onPointerUp",null);class _{constructor(t){this.factory=t}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}d([a.H],_.prototype,"onPointerMove",null),d([a.H],_.prototype,"onPointerUp",null);const k="pointer-events-disabled";class b extends l.JT{constructor(t,e,i){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new s.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new h.Q5),this._onDidStart=this._register(new h.Q5),this._onDidChange=this._register(new h.Q5),this._onDidReset=this._register(new h.Q5),this._onDidEnd=this._register(new h.Q5),this.orthogonalStartSashDisposables=this._register(new l.SL),this.orthogonalStartDragHandleDisposables=this._register(new l.SL),this.orthogonalEndSashDisposables=this._register(new l.SL),this.orthogonalEndDragHandleDisposables=this._register(new l.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,n.R3)(t,(0,n.$)(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),c.dz&&this.el.classList.add("mac");const a=this._register(new r.Y(this.el,"mousedown")).event;this._register(a((t=>this.onPointerStart(t,new p)),this));const d=this._register(new r.Y(this.el,"dblclick")).event;this._register(d(this.onPointerDoublePress,this));const u=this._register(new r.Y(this.el,"mouseenter")).event;this._register(u((()=>b.onMouseEnter(this))));const _=this._register(new r.Y(this.el,"mouseleave")).event;this._register(_((()=>b.onMouseLeave(this)))),this._register(o.o.addTarget(this.el));const k=h.ju.map(this._register(new r.Y(this.el,o.t.Start)).event,(t=>{var e;return Object.assign(Object.assign({},t),{target:null!==(e=t.initialTarget)&&void 0!==e?e:null})}));this._register(k((t=>this.onPointerStart(t,new m(this.el))),this));const v=this._register(new r.Y(this.el,o.t.Tap)).event,C=h.ju.map(h.ju.filter(h.ju.debounce(v,((t,e)=>{var i;return{event:e,count:(null!==(i=null==t?void 0:t.count)&&void 0!==i?i:0)+1}}),250),(({count:t})=>2===t)),(({event:t})=>{var e;return Object.assign(Object.assign({},t),{target:null!==(e=t.initialTarget)&&void 0!==e?e:null})}));this._register(C(this.onPointerDoublePress,this)),"number"==typeof i.size?(this.size=i.size,0===i.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(g.event((t=>{this.size=t,this.layout()})))),this._register(f.event((t=>this.hoverDelay=t))),this.layoutProvider=e,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",false),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(t){this._state!==t&&(this.el.classList.toggle("disabled",0===t),this.el.classList.toggle("minimum",1===t),this.el.classList.toggle("maximum",2===t),this._state=t,this.onDidEnablementChange.fire(t))}set orthogonalStartSash(t){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),t){const e=e=>{this.orthogonalStartDragHandleDisposables.clear(),0!==e&&(this._orthogonalStartDragHandle=(0,n.R3)(this.el,(0,n.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,l.OF)((()=>this._orthogonalStartDragHandle.remove()))),this.orthogonalStartDragHandleDisposables.add(new r.Y(this._orthogonalStartDragHandle,"mouseenter")).event((()=>b.onMouseEnter(t)),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new r.Y(this._orthogonalStartDragHandle,"mouseleave")).event((()=>b.onMouseLeave(t)),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(t.onDidEnablementChange.event(e,this)),e(t.state)}this._orthogonalStartSash=t}set orthogonalEndSash(t){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),t){const e=e=>{this.orthogonalEndDragHandleDisposables.clear(),0!==e&&(this._orthogonalEndDragHandle=(0,n.R3)(this.el,(0,n.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,l.OF)((()=>this._orthogonalEndDragHandle.remove()))),this.orthogonalEndDragHandleDisposables.add(new r.Y(this._orthogonalEndDragHandle,"mouseenter")).event((()=>b.onMouseEnter(t)),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new r.Y(this._orthogonalEndDragHandle,"mouseleave")).event((()=>b.onMouseLeave(t)),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(t.onDidEnablementChange.event(e,this)),e(t.state)}this._orthogonalEndSash=t}onPointerStart(t,e){n.zB.stop(t);let i=!1;if(!t.__orthogonalSashEvent){const n=this.getOrthogonalSash(t);n&&(i=!0,t.__orthogonalSashEvent=!0,n.onPointerStart(t,new _(e)))}if(this.linkedSash&&!t.__linkedSashEvent&&(t.__linkedSashEvent=!0,this.linkedSash.onPointerStart(t,new _(e))),!this.state)return;const r=(0,n.H$)("iframe");for(const t of r)t.classList.add(k);const o=t.pageX,s=t.pageY,a=t.altKey,h={startX:o,currentX:o,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(h);const d=(0,n.dS)(this.el),u=()=>{let t="";t=i?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":c.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":c.dz?"col-resize":"ew-resize",d.textContent=`* { cursor: ${t} !important; }`},g=new l.SL;u(),i||this.onDidEnablementChange.event(u,null,g);e.onPointerMove((t=>{n.zB.stop(t,!1);const e={startX:o,currentX:t.pageX,startY:s,currentY:t.pageY,altKey:a};this._onDidChange.fire(e)}),null,g),e.onPointerUp((t=>{n.zB.stop(t,!1),this.el.removeChild(d),this.el.classList.remove("active"),this._onDidEnd.fire(),g.dispose();for(const t of r)t.classList.remove(k)}),null,g),g.add(e)}onPointerDoublePress(t){const e=this.getOrthogonalSash(t);e&&e._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(t,e=!1){t.el.classList.contains("active")?(t.hoverDelayer.cancel(),t.el.classList.add("hover")):t.hoverDelayer.trigger((()=>t.el.classList.add("hover")),t.hoverDelay).then(void 0,(()=>{})),!e&&t.linkedSash&&b.onMouseEnter(t.linkedSash,!0)}static onMouseLeave(t,e=!1){t.hoverDelayer.cancel(),t.el.classList.remove("hover"),!e&&t.linkedSash&&b.onMouseLeave(t.linkedSash,!0)}clearSashHoverState(){b.onMouseLeave(this)}layout(){if(0===this.orientation){const t=this.layoutProvider;this.el.style.left=t.getVerticalSashLeft(this)-this.size/2+"px",t.getVerticalSashTop&&(this.el.style.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(this.el.style.height=t.getVerticalSashHeight(this)+"px")}else{const t=this.layoutProvider;this.el.style.top=t.getHorizontalSashTop(this)-this.size/2+"px",t.getHorizontalSashLeft&&(this.el.style.left=t.getHorizontalSashLeft(this)+"px"),t.getHorizontalSashWidth&&(this.el.style.width=t.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(t){if(t.target&&t.target instanceof HTMLElement)return t.target.classList.contains("orthogonal-drag-handle")?t.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}dispose(){super.dispose(),this.el.remove()}}},9802:(t,e,i)=>{i.d(e,{s$:()=>x,NB:()=>I,$Z:()=>N});var n=i(6268),r=i(5321),o=i(8626),s=i(7448),a=i(3911),h=i(3794),l=i(5393);const c=11;class d extends h.${constructor(t){super(),this._onActivate=t.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=t.bgWidth+"px",this.bgDomNode.style.height=t.bgHeight+"px",void 0!==t.top&&(this.bgDomNode.style.top="0px"),void 0!==t.left&&(this.bgDomNode.style.left="0px"),void 0!==t.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==t.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=t.className,this.domNode.classList.add(...t.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==t.top&&(this.domNode.style.top=t.top+"px"),void 0!==t.left&&(this.domNode.style.left=t.left+"px"),void 0!==t.bottom&&(this.domNode.style.bottom=t.bottom+"px"),void 0!==t.right&&(this.domNode.style.right=t.right+"px"),this._pointerMoveMonitor=this._register(new a.C),this._register(r.mu(this.bgDomNode,r.tw.POINTER_DOWN,(t=>this._arrowPointerDown(t)))),this._register(r.mu(this.domNode,r.tw.POINTER_DOWN,(t=>this._arrowPointerDown(t)))),this._pointerdownRepeatTimer=this._register(new l.zh),this._pointerdownScheduleRepeatTimer=this._register(new l._F)}_arrowPointerDown(t){if(!(t.target&&t.target instanceof Element))return;this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet((()=>{this._pointerdownRepeatTimer.cancelAndSet((()=>this._onActivate()),1e3/24)}),200),this._pointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,(t=>{}),(()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()})),t.preventDefault()}}var u=i(9917);class g extends u.JT{constructor(t,e,i){super(),this._visibility=t,this._visibleClassName=e,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new l._F)}setVisibility(t){this._visibility!==t&&(this._visibility=t,this._updateShouldBeVisible())}setShouldBeVisible(t){this._rawShouldBeVisible=t,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const t=this._applyVisibilitySetting();this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())}setIsNeeded(t){this._isNeeded!==t&&(this._isNeeded=t,this.ensureVisibility())}setDomNode(t){this._domNode=t,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((()=>{var t;null===(t=this._domNode)||void 0===t||t.setClassName(this._visibleClassName)}),0))}_hide(t){var e;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(e=this._domNode)||void 0===e||e.setClassName(this._invisibleClassName+(t?" fade":"")))}}var f=i(1432);class p extends h.${constructor(t){super(),this._lazyRender=t.lazyRender,this._host=t.host,this._scrollable=t.scrollable,this._scrollByPage=t.scrollByPage,this._scrollbarState=t.scrollbarState,this._visibilityController=this._register(new g(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new a.C),this._shouldRender=!0,this.domNode=(0,o.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(r.nm(this.domNode.domNode,r.tw.POINTER_DOWN,(t=>this._domNodePointerDown(t))))}_createArrow(t){const e=this._register(new d(t));this.domNode.domNode.appendChild(e.bgDomNode),this.domNode.domNode.appendChild(e.domNode)}_createSlider(t,e,i,n){this.slider=(0,o.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(e),"number"==typeof i&&this.slider.setWidth(i),"number"==typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(r.nm(this.slider.domNode,r.tw.POINTER_DOWN,(t=>{0===t.button&&(t.preventDefault(),this._sliderPointerDown(t))}))),this.onclick(this.slider.domNode,(t=>{t.leftButton&&t.stopPropagation()}))}_onElementSize(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(t){t.target===this.domNode.domNode&&this._onPointerDown(t)}delegatePointerDown(t){const e=this.domNode.domNode.getClientRects()[0].top,i=e+this._scrollbarState.getSliderPosition(),n=e+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderPointerPosition(t);i<=r&&r<=n?0===t.button&&(t.preventDefault(),this._sliderPointerDown(t)):this._onPointerDown(t)}_onPointerDown(t){let e,i;if(t.target===this.domNode.domNode&&"number"==typeof t.offsetX&&"number"==typeof t.offsetY)e=t.offsetX,i=t.offsetY;else{const n=r.i(this.domNode.domNode);e=t.pageX-n.left,i=t.pageY-n.top}const n=this._pointerDownRelativePosition(e,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),0===t.button&&(t.preventDefault(),this._sliderPointerDown(t))}_sliderPointerDown(t){if(!(t.target&&t.target instanceof Element))return;const e=this._sliderPointerPosition(t),i=this._sliderOrthogonalPointerPosition(t),n=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,(t=>{const r=this._sliderOrthogonalPointerPosition(t),o=Math.abs(r-i);if(f.ED&&o>140)return void this._setDesiredScrollPositionNow(n.getScrollPosition());const s=this._sliderPointerPosition(t)-e;this._setDesiredScrollPositionNow(n.getDesiredScrollPositionFromDelta(s))}),(()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()})),this._host.onDragStart()}_setDesiredScrollPositionNow(t){const e={};this.writeScrollPosition(e,t),this._scrollable.setScrollPositionNow(e)}updateScrollbarSize(t){this._updateScrollbarSize(t),this._scrollbarState.setScrollbarSize(t),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class m{constructor(t,e,i,n,r,o){this._scrollbarSize=Math.round(e),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(t),this._visibleSize=n,this._scrollSize=r,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new m(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(t){const e=Math.round(t);return this._visibleSize!==e&&(this._visibleSize=e,this._refreshComputedValues(),!0)}setScrollSize(t){const e=Math.round(t);return this._scrollSize!==e&&(this._scrollSize=e,this._refreshComputedValues(),!0)}setScrollPosition(t){const e=Math.round(t);return this._scrollPosition!==e&&(this._scrollPosition=e,this._refreshComputedValues(),!0)}setScrollbarSize(t){this._scrollbarSize=Math.round(t)}setOppositeScrollbarSize(t){this._oppositeScrollbarSize=Math.round(t)}static _computeValues(t,e,i,n,r){const o=Math.max(0,i-t),s=Math.max(0,o-2*e),a=n>0&&n>i;if(!a)return{computedAvailableSize:Math.round(o),computedIsNeeded:a,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const h=Math.round(Math.max(20,Math.floor(i*s/n))),l=(s-h)/(n-i),c=r*l;return{computedAvailableSize:Math.round(o),computedIsNeeded:a,computedSliderSize:Math.round(h),computedSliderRatio:l,computedSliderPosition:Math.round(c)}}_refreshComputedValues(){const t=m._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(t){if(!this._computedIsNeeded)return 0;const e=t-this._arrowSize-this._computedSliderSize/2;return Math.round(e/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(t){if(!this._computedIsNeeded)return 0;const e=t-this._arrowSize;let i=this._scrollPosition;return e<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(t){if(!this._computedIsNeeded)return 0;const e=this._computedSliderPosition+t;return Math.round(e/this._computedSliderRatio)}}var _=i(3046);class k extends p{constructor(t,e,i){const n=t.getScrollDimensions(),r=t.getCurrentScrollPosition();if(super({lazyRender:e.lazyRender,host:i,scrollbarState:new m(e.horizontalHasArrows?e.arrowSize:0,2===e.horizontal?0:e.horizontalScrollbarSize,2===e.vertical?0:e.verticalScrollbarSize,n.width,n.scrollWidth,r.scrollLeft),visibility:e.horizontal,extraScrollbarClassName:"horizontal",scrollable:t,scrollByPage:e.scrollByPage}),e.horizontalHasArrows){const t=(e.arrowSize-c)/2,i=(e.horizontalScrollbarSize-c)/2;this._createArrow({className:"scra",icon:_.lA.scrollbarButtonLeft,top:i,left:t,bottom:void 0,right:void 0,bgWidth:e.arrowSize,bgHeight:e.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new s.q(null,1,0))}),this._createArrow({className:"scra",icon:_.lA.scrollbarButtonRight,top:i,left:void 0,bottom:void 0,right:t,bgWidth:e.arrowSize,bgHeight:e.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new s.q(null,-1,0))})}this._createSlider(Math.floor((e.horizontalScrollbarSize-e.horizontalSliderSize)/2),0,void 0,e.horizontalSliderSize)}_updateSlider(t,e){this.slider.setWidth(t),this.slider.setLeft(e)}_renderDomNode(t,e){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(t){return this._shouldRender=this._onElementScrollSize(t.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(t.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(t,e){return t}_sliderPointerPosition(t){return t.pageX}_sliderOrthogonalPointerPosition(t){return t.pageY}_updateScrollbarSize(t){this.slider.setHeight(t)}writeScrollPosition(t,e){t.scrollLeft=e}updateOptions(t){this.updateScrollbarSize(2===t.horizontal?0:t.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===t.vertical?0:t.verticalScrollbarSize),this._visibilityController.setVisibility(t.horizontal),this._scrollByPage=t.scrollByPage}}class b extends p{constructor(t,e,i){const n=t.getScrollDimensions(),r=t.getCurrentScrollPosition();if(super({lazyRender:e.lazyRender,host:i,scrollbarState:new m(e.verticalHasArrows?e.arrowSize:0,2===e.vertical?0:e.verticalScrollbarSize,0,n.height,n.scrollHeight,r.scrollTop),visibility:e.vertical,extraScrollbarClassName:"vertical",scrollable:t,scrollByPage:e.scrollByPage}),e.verticalHasArrows){const t=(e.arrowSize-c)/2,i=(e.verticalScrollbarSize-c)/2;this._createArrow({className:"scra",icon:_.lA.scrollbarButtonUp,top:t,left:i,bottom:void 0,right:void 0,bgWidth:e.verticalScrollbarSize,bgHeight:e.arrowSize,onActivate:()=>this._host.onMouseWheel(new s.q(null,0,1))}),this._createArrow({className:"scra",icon:_.lA.scrollbarButtonDown,top:void 0,left:i,bottom:t,right:void 0,bgWidth:e.verticalScrollbarSize,bgHeight:e.arrowSize,onActivate:()=>this._host.onMouseWheel(new s.q(null,0,-1))})}this._createSlider(0,Math.floor((e.verticalScrollbarSize-e.verticalSliderSize)/2),e.verticalSliderSize,void 0)}_updateSlider(t,e){this.slider.setHeight(t),this.slider.setTop(e)}_renderDomNode(t,e){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(t){return this._shouldRender=this._onElementScrollSize(t.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(t.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(t,e){return e}_sliderPointerPosition(t){return t.pageY}_sliderOrthogonalPointerPosition(t){return t.pageX}_updateScrollbarSize(t){this.slider.setWidth(t)}writeScrollPosition(t,e){t.scrollTop=e}updateOptions(t){this.updateScrollbarSize(2===t.vertical?0:t.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(t.vertical),this._scrollByPage=t.scrollByPage}}var v=i(4669),C=i(6633);class S{constructor(t,e,i){this.timestamp=t,this.deltaX=e,this.deltaY=i,this.score=0}}class w{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let t=1,e=0,i=1,n=this._rear;for(;;){const r=n===this._front?t:Math.pow(2,-i);if(t-=r,e+=this._memory[n].score*r,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return e<=.5}accept(t,e,i){const n=new S(t,e,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(t){if(Math.abs(t.deltaX)>0&&Math.abs(t.deltaY)>0)return 1;let e=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return this._isAlmostInt(t.deltaX)&&this._isAlmostInt(t.deltaY)||(e+=.25),Math.min(Math.max(e,0),1)}_isAlmostInt(t){return Math.abs(Math.round(t)-t)<.01}}w.INSTANCE=new w;class L extends h.${constructor(t,e,i){super(),this._onScroll=this._register(new v.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new v.Q5),t.style.overflow="hidden",this._options=function(t){const e={lazyRender:void 0!==t.lazyRender&&t.lazyRender,className:void 0!==t.className?t.className:"",useShadows:void 0===t.useShadows||t.useShadows,handleMouseWheel:void 0===t.handleMouseWheel||t.handleMouseWheel,flipAxes:void 0!==t.flipAxes&&t.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==t.consumeMouseWheelIfScrollbarIsNeeded&&t.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==t.alwaysConsumeMouseWheel&&t.alwaysConsumeMouseWheel,scrollYToX:void 0!==t.scrollYToX&&t.scrollYToX,mouseWheelScrollSensitivity:void 0!==t.mouseWheelScrollSensitivity?t.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==t.fastScrollSensitivity?t.fastScrollSensitivity:5,scrollPredominantAxis:void 0===t.scrollPredominantAxis||t.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===t.mouseWheelSmoothScroll||t.mouseWheelSmoothScroll,arrowSize:void 0!==t.arrowSize?t.arrowSize:11,listenOnDomNode:void 0!==t.listenOnDomNode?t.listenOnDomNode:null,horizontal:void 0!==t.horizontal?t.horizontal:1,horizontalScrollbarSize:void 0!==t.horizontalScrollbarSize?t.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==t.horizontalSliderSize?t.horizontalSliderSize:0,horizontalHasArrows:void 0!==t.horizontalHasArrows&&t.horizontalHasArrows,vertical:void 0!==t.vertical?t.vertical:1,verticalScrollbarSize:void 0!==t.verticalScrollbarSize?t.verticalScrollbarSize:10,verticalHasArrows:void 0!==t.verticalHasArrows&&t.verticalHasArrows,verticalSliderSize:void 0!==t.verticalSliderSize?t.verticalSliderSize:0,scrollByPage:void 0!==t.scrollByPage&&t.scrollByPage};e.horizontalSliderSize=void 0!==t.horizontalSliderSize?t.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=void 0!==t.verticalSliderSize?t.verticalSliderSize:e.verticalScrollbarSize,f.dz&&(e.className+=" mac");return e}(e),this._scrollable=i,this._register(this._scrollable.onScroll((t=>{this._onWillScroll.fire(t),this._onDidScroll(t),this._onScroll.fire(t)})));const n={onMouseWheel:t=>this._onMouseWheel(t),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new b(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new k(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(t),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,o.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,o.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,o.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(t=>this._onMouseOver(t))),this.onmouseleave(this._listenOnDomNode,(t=>this._onMouseLeave(t))),this._hideTimeout=this._register(new l._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,u.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(t){this._verticalScrollbar.delegatePointerDown(t)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(t){this._scrollable.setScrollDimensions(t,!1)}updateClassName(t){this._options.className=t,f.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(t){void 0!==t.handleMouseWheel&&(this._options.handleMouseWheel=t.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==t.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity),void 0!==t.fastScrollSensitivity&&(this._options.fastScrollSensitivity=t.fastScrollSensitivity),void 0!==t.scrollPredominantAxis&&(this._options.scrollPredominantAxis=t.scrollPredominantAxis),void 0!==t.horizontal&&(this._options.horizontal=t.horizontal),void 0!==t.vertical&&(this._options.vertical=t.vertical),void 0!==t.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=t.horizontalScrollbarSize),void 0!==t.verticalScrollbarSize&&(this._options.verticalScrollbarSize=t.verticalScrollbarSize),void 0!==t.scrollByPage&&(this._options.scrollByPage=t.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(t){if(this._mouseWheelToDispose.length>0!==t&&(this._mouseWheelToDispose=(0,u.B9)(this._mouseWheelToDispose),t)){const t=t=>{this._onMouseWheel(new s.q(t))};this._mouseWheelToDispose.push(r.nm(this._listenOnDomNode,r.tw.MOUSE_WHEEL,t,{passive:!1}))}}_onMouseWheel(t){const e=w.INSTANCE;{const i=window.devicePixelRatio/(0,n.getZoomFactor)();f.ED||f.IJ?e.accept(Date.now(),t.deltaX/i,t.deltaY/i):e.accept(Date.now(),t.deltaX,t.deltaY)}let i=!1;if(t.deltaY||t.deltaX){let n=t.deltaY*this._options.mouseWheelScrollSensitivity,r=t.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(n)>=Math.abs(r)?r=0:n=0),this._options.flipAxes&&([n,r]=[r,n]);const o=!f.dz&&t.browserEvent&&t.browserEvent.shiftKey;!this._options.scrollYToX&&!o||r||(r=n,n=0),t.browserEvent&&t.browserEvent.altKey&&(r*=this._options.fastScrollSensitivity,n*=this._options.fastScrollSensitivity);const s=this._scrollable.getFutureScrollPosition();let a={};if(n){const t=50*n,e=s.scrollTop-(t<0?Math.floor(t):Math.ceil(t));this._verticalScrollbar.writeScrollPosition(a,e)}if(r){const t=50*r,e=s.scrollLeft-(t<0?Math.floor(t):Math.ceil(t));this._horizontalScrollbar.writeScrollPosition(a,e)}if(a=this._scrollable.validateScrollPosition(a),s.scrollLeft!==a.scrollLeft||s.scrollTop!==a.scrollTop){this._options.mouseWheelSmoothScroll&&e.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),i=!0}}let r=i;!r&&this._options.alwaysConsumeMouseWheel&&(r=!0),!r&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(r=!0),r&&(t.preventDefault(),t.stopPropagation())}_onDidScroll(t){this._shouldRender=this._horizontalScrollbar.onDidScroll(t)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(t)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const t=this._scrollable.getCurrentScrollPosition(),e=t.scrollTop>0,i=t.scrollLeft>0,n=i?" left":"",r=e?" top":"",o=i||e?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${n}`),this._topShadowDomNode.setClassName(`shadow${r}`),this._topLeftShadowDomNode.setClassName(`shadow${o}${r}${n}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(t){this._mouseIsOver=!1,this._hide()}_onMouseOver(t){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((()=>this._hide()),500)}}class I extends L{constructor(t,e){(e=e||{}).mouseWheelSmoothScroll=!1;const i=new C.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:t=>r.jL(t)});super(t,e,i),this._register(i)}setScrollPosition(t){this._scrollable.setScrollPositionNow(t)}}class N extends L{constructor(t,e,i){super(t,e,i)}setScrollPosition(t){t.reuseAnimation?this._scrollable.setScrollPositionSmooth(t,t.reuseAnimation):this._scrollable.setScrollPositionNow(t)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class x extends L{constructor(t,e){(e=e||{}).mouseWheelSmoothScroll=!1;const i=new C.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:t=>r.jL(t)});super(t,e,i),this._register(i),this._element=t,this.onScroll((t=>{t.scrollTopChanged&&(this._element.scrollTop=t.scrollTop),t.scrollLeftChanged&&(this._element.scrollLeft=t.scrollLeft)})),this.scanDomNode()}setScrollPosition(t){this._scrollable.setScrollPositionNow(t)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},2900:(t,e,i)=>{i.d(e,{Z:()=>h});var n=i(3794),r=i(3046),o=i(1264),s=i(4669);const a={inputActiveOptionBorder:o.Il.fromHex("#007ACC00"),inputActiveOptionForeground:o.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:o.Il.fromHex("#0E639C50")};class h extends n.${constructor(t){super(),this._onChange=this._register(new s.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new s.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},a),t),this._checked=this._opts.isChecked;const e=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,e.push(...r.dT.asClassNameArray(this._icon))),this._opts.actionClassName&&e.push(...this._opts.actionClassName.split(" ")),this._checked&&e.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...e),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(t=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),t.preventDefault())})),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,(t=>{if(10===t.keyCode||3===t.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),t.preventDefault(),void t.stopPropagation();this._onKeyDown.fire(t)}))}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(t){t.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=t.inputActiveOptionBorder),t.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=t.inputActiveOptionForeground),t.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=t.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},3794:(t,e,i)=>{i.d(e,{$:()=>h});var n=i(5321),r=i(9069),o=i(7448),s=i(553),a=i(9917);class h extends a.JT{onclick(t,e){this._register(n.nm(t,n.tw.CLICK,(t=>e(new o.n(t)))))}onmousedown(t,e){this._register(n.nm(t,n.tw.MOUSE_DOWN,(t=>e(new o.n(t)))))}onmouseover(t,e){this._register(n.nm(t,n.tw.MOUSE_OVER,(t=>e(new o.n(t)))))}onmouseleave(t,e){this._register(n.nm(t,n.tw.MOUSE_LEAVE,(t=>e(new o.n(t)))))}onkeydown(t,e){this._register(n.nm(t,n.tw.KEY_DOWN,(t=>e(new r.y(t)))))}onkeyup(t,e){this._register(n.nm(t,n.tw.KEY_UP,(t=>e(new r.y(t)))))}oninput(t,e){this._register(n.nm(t,n.tw.INPUT,e))}onblur(t,e){this._register(n.nm(t,n.tw.BLUR,e))}onfocus(t,e){this._register(n.nm(t,n.tw.FOCUS,e))}ignoreGesture(t){s.o.ignoreTarget(t)}}},5393:(t,e,i)=>{i.d(e,{Aq:()=>x,CR:()=>I,J8:()=>c,PG:()=>d,Ps:()=>b,To:()=>w,Ue:()=>L,Vg:()=>k,Vs:()=>_,_F:()=>v,eP:()=>u,jT:()=>N,ne:()=>f,pY:()=>S,rH:()=>m,vp:()=>p,zS:()=>D,zh:()=>C});var n=i(1050),r=i(7301),o=i(4669),s=i(9917),a=i(1432),h=function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}h((n=n.apply(t,e||[])).next())}))},l=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise((function(n,r){(function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)})(n,r,(e=t[i](e)).done,e.value)}))}}};function c(t){return!!t&&"function"==typeof t.then}function d(t){const e=new n.A,i=t(e.token),o=new Promise(((t,n)=>{const o=e.token.onCancellationRequested((()=>{o.dispose(),e.dispose(),n(new r.FU)}));Promise.resolve(i).then((i=>{o.dispose(),e.dispose(),t(i)}),(t=>{o.dispose(),e.dispose(),n(t)}))}));return new class{cancel(){e.cancel()}then(t,e){return o.then(t,e)}catch(t){return this.then(void 0,t)}finally(t){return o.finally(t)}}}function u(t,e,i){return new Promise(((n,r)=>{const o=e.onCancellationRequested((()=>{o.dispose(),n(i)}));t.then(n,r).finally((()=>o.dispose()))}))}class g{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(t){if(this.activePromise){if(this.queuedPromiseFactory=t,!this.queuedPromise){const t=()=>{this.queuedPromise=null;const t=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,t};this.queuedPromise=new Promise((e=>{this.activePromise.then(t,t).then(e)}))}return new Promise(((t,e)=>{this.queuedPromise.then(t,e)}))}return this.activePromise=t(),new Promise(((t,e)=>{this.activePromise.then((e=>{this.activePromise=null,t(e)}),(t=>{this.activePromise=null,e(t)}))}))}}const f=Symbol("MicrotaskDelay");class p{constructor(t){this.defaultDelay=t,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(t,e=this.defaultDelay){this.task=t,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(((t,e)=>{this.doResolve=t,this.doReject=e})).then((()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const t=this.task;return this.task=null,t()}})));const i=()=>{var t;this.deferred=null,null===(t=this.doResolve)||void 0===t||t.call(this,null)};return this.deferred=e===f?(t=>{let e=!0;return queueMicrotask((()=>{e&&(e=!1,t())})),{isTriggered:()=>e,dispose:()=>{e=!1}}})(i):((t,e)=>{let i=!0;const n=setTimeout((()=>{i=!1,e()}),t);return{isTriggered:()=>i,dispose:()=>{clearTimeout(n),i=!1}}})(e,i),this.completionPromise}isTriggered(){var t;return!!(null===(t=this.deferred)||void 0===t?void 0:t.isTriggered())}cancel(){var t;this.cancelTimeout(),this.completionPromise&&(null===(t=this.doReject)||void 0===t||t.call(this,new r.FU),this.completionPromise=null)}cancelTimeout(){var t;null===(t=this.deferred)||void 0===t||t.dispose(),this.deferred=null}dispose(){this.cancel()}}class m{constructor(t){this.delayer=new p(t),this.throttler=new g}trigger(t,e){return this.delayer.trigger((()=>this.throttler.queue(t)),e)}dispose(){this.delayer.dispose()}}function _(t,e){return e?new Promise(((i,n)=>{const o=setTimeout((()=>{s.dispose(),i()}),t),s=e.onCancellationRequested((()=>{clearTimeout(o),s.dispose(),n(new r.FU)}))})):d((e=>_(t,e)))}function k(t,e=0){const i=setTimeout(t,e);return(0,s.OF)((()=>clearTimeout(i)))}function b(t,e=(t=>!!t),i=null){let n=0;const r=t.length,o=()=>{if(n>=r)return Promise.resolve(i);const s=t[n++];return Promise.resolve(s()).then((t=>e(t)?Promise.resolve(t):o()))};return o()}class v{constructor(t,e){this._token=-1,"function"==typeof t&&"number"==typeof e&&this.setIfNotSet(t,e)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,e){this.cancel(),this._token=setTimeout((()=>{this._token=-1,t()}),e)}setIfNotSet(t,e){-1===this._token&&(this._token=setTimeout((()=>{this._token=-1,t()}),e))}}class C{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(t,e){this.cancel(),this._token=setInterval((()=>{t()}),e)}}class S{constructor(t,e){this.timeoutToken=-1,this.runner=t,this.timeout=e,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(t=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,t)}get delay(){return this.timeout}set delay(t){this.timeout=t}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var t;null===(t=this.runner)||void 0===t||t.call(this)}}let w;w="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?t=>{(0,a.fn)((()=>{if(e)return;const i=Date.now()+15;t(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,i-Date.now())}))}));let e=!1;return{dispose(){e||(e=!0)}}}:(t,e)=>{const i=requestIdleCallback(t,"number"==typeof e?{timeout:e}:void 0);let n=!1;return{dispose(){n||(n=!0,cancelIdleCallback(i))}}};class L{constructor(t){this._didRun=!1,this._executor=()=>{try{this._value=t()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=w((()=>this._executor()))}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class I{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise(((t,e)=>{this.completeCallback=t,this.errorCallback=e}))}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(t){return new Promise((e=>{this.completeCallback(t),this.resolved=!0,e()}))}cancel(){new Promise((t=>{this.errorCallback(new r.FU),this.rejected=!0,t()}))}}var N;!function(t){t.settled=function(t){return h(this,void 0,void 0,(function*(){let e;const i=yield Promise.all(t.map((t=>t.then((t=>t),(t=>{e||(e=t)})))));if(void 0!==e)throw e;return i}))},t.withAsyncBody=function(t){return new Promise(((e,i)=>h(this,void 0,void 0,(function*(){try{yield t(e,i)}catch(t){i(t)}}))))}}(N||(N={}));class x{constructor(t){this._state=0,this._results=[],this._error=null,this._onStateChanged=new o.Q5,queueMicrotask((()=>h(this,void 0,void 0,(function*(){const e={emitOne:t=>this.emitOne(t),emitMany:t=>this.emitMany(t),reject:t=>this.reject(t)};try{yield Promise.resolve(t(e)),this.resolve()}catch(t){this.reject(t)}finally{e.emitOne=void 0,e.emitMany=void 0,e.reject=void 0}}))))}static fromArray(t){return new x((e=>{e.emitMany(t)}))}static fromPromise(t){return new x((e=>h(this,void 0,void 0,(function*(){e.emitMany(yield t)}))))}static fromPromises(t){return new x((e=>h(this,void 0,void 0,(function*(){yield Promise.all(t.map((t=>h(this,void 0,void 0,(function*(){return e.emitOne(yield t)})))))}))))}static merge(t){return new x((e=>h(this,void 0,void 0,(function*(){yield Promise.all(t.map((t=>{var i,n;return h(this,void 0,void 0,(function*(){var r,o;try{for(i=l(t);!(n=yield i.next()).done;){const t=n.value;e.emitOne(t)}}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&(yield o.call(i))}finally{if(r)throw r.error}}}))})))}))))}[Symbol.asyncIterator](){let t=0;return{next:()=>h(this,void 0,void 0,(function*(){for(;;){if(2===this._state)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(1===this._state)return{done:!0,value:void 0};yield o.ju.toPromise(this._onStateChanged.event)}}))}}static map(t,e){return new x((i=>h(this,void 0,void 0,(function*(){var n,r;try{for(var o,s=l(t);!(o=yield s.next()).done;){const t=o.value;i.emitOne(e(t))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=s.return)&&(yield r.call(s))}finally{if(n)throw n.error}}}))))}map(t){return x.map(this,t)}static filter(t,e){return new x((i=>h(this,void 0,void 0,(function*(){var n,r;try{for(var o,s=l(t);!(o=yield s.next()).done;){const t=o.value;e(t)&&i.emitOne(t)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=s.return)&&(yield r.call(s))}finally{if(n)throw n.error}}}))))}filter(t){return x.filter(this,t)}static coalesce(t){return x.filter(t,(t=>!!t))}coalesce(){return x.coalesce(this)}static toPromise(t){var e,i,n,r;return h(this,void 0,void 0,(function*(){const o=[];try{for(e=l(t);!(i=yield e.next()).done;){const t=i.value;o.push(t)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=e.return)&&(yield r.call(e))}finally{if(n)throw n.error}}return o}))}toPromise(){return x.toPromise(this)}emitOne(t){0===this._state&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){0===this._state&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(t){0===this._state&&(this._state=2,this._error=t,this._onStateChanged.fire())}}x.EMPTY=x.fromArray([]);class y extends x{constructor(t,e){super(e),this._source=t}cancel(){this._source.cancel()}}function D(t){const e=new n.A,i=t(e.token);return new y(e,(t=>h(this,void 0,void 0,(function*(){var n,o;const s=e.token.onCancellationRequested((()=>{s.dispose(),e.dispose(),t.reject(new r.FU)}));try{try{for(var a,h=l(i);!(a=yield h.next()).done;){const i=a.value;if(e.token.isCancellationRequested)return;t.emitOne(i)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=h.return)&&(yield o.call(h))}finally{if(n)throw n.error}}s.dispose(),e.dispose()}catch(i){s.dispose(),e.dispose(),t.reject(i)}}))))}},1050:(t,e,i)=>{i.d(e,{A:()=>a,T:()=>o});var n=i(4669);const r=Object.freeze((function(t,e){const i=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(i)}}}));var o;!function(t){t.isCancellationToken=function(e){return e===t.None||e===t.Cancelled||(e instanceof s||!(!e||"object"!=typeof e)&&("boolean"==typeof e.isCancellationRequested&&"function"==typeof e.onCancellationRequested))},t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.ju.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r})}(o||(o={}));class s{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?r:(this._emitter||(this._emitter=new n.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class a{constructor(t){this._token=void 0,this._parentListener=void 0,this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token instanceof s&&this._token.cancel():this._token=o.Cancelled}dispose(t=!1){t&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof s&&this._token.dispose():this._token=o.None}}},1264:(t,e,i)=>{function n(t,e){const i=Math.pow(10,e);return Math.round(t*i)/i}i.d(e,{Il:()=>a,VS:()=>r,tx:()=>s});class r{constructor(t,e,i,r=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,t)),this.g=0|Math.min(255,Math.max(0,e)),this.b=0|Math.min(255,Math.max(0,i)),this.a=n(Math.max(Math.min(1,r),0),3)}static equals(t,e){return t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a}}class o{constructor(t,e,i,r){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=n(Math.max(Math.min(1,e),0),3),this.l=n(Math.max(Math.min(1,i),0),3),this.a=n(Math.max(Math.min(1,r),0),3)}static equals(t,e){return t.h===e.h&&t.s===e.s&&t.l===e.l&&t.a===e.a}static fromRGBA(t){const e=t.r/255,i=t.g/255,n=t.b/255,r=t.a,s=Math.max(e,i,n),a=Math.min(e,i,n);let h=0,l=0;const c=(a+s)/2,d=s-a;if(d>0){switch(l=Math.min(c<=.5?d/(2*c):d/(2-2*c),1),s){case e:h=(i-n)/d+(i<n?6:0);break;case i:h=(n-e)/d+2;break;case n:h=(e-i)/d+4}h*=60,h=Math.round(h)}return new o(h,l,c,r)}static _hue2rgb(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}static toRGBA(t){const e=t.h/360,{s:i,l:n,a:s}=t;let a,h,l;if(0===i)a=h=l=n;else{const t=n<.5?n*(1+i):n+i-n*i,r=2*n-t;a=o._hue2rgb(r,t,e+1/3),h=o._hue2rgb(r,t,e),l=o._hue2rgb(r,t,e-1/3)}return new r(Math.round(255*a),Math.round(255*h),Math.round(255*l),s)}}class s{constructor(t,e,i,r){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=n(Math.max(Math.min(1,e),0),3),this.v=n(Math.max(Math.min(1,i),0),3),this.a=n(Math.max(Math.min(1,r),0),3)}static equals(t,e){return t.h===e.h&&t.s===e.s&&t.v===e.v&&t.a===e.a}static fromRGBA(t){const e=t.r/255,i=t.g/255,n=t.b/255,r=Math.max(e,i,n),o=r-Math.min(e,i,n),a=0===r?0:o/r;let h;return h=0===o?0:r===e?((i-n)/o%6+6)%6:r===i?(n-e)/o+2:(e-i)/o+4,new s(Math.round(60*h),a,r,t.a)}static toRGBA(t){const{h:e,s:i,v:n,a:o}=t,s=n*i,a=s*(1-Math.abs(e/60%2-1)),h=n-s;let[l,c,d]=[0,0,0];return e<60?(l=s,c=a):e<120?(l=a,c=s):e<180?(c=s,d=a):e<240?(c=a,d=s):e<300?(l=a,d=s):e<=360&&(l=s,d=a),l=Math.round(255*(l+h)),c=Math.round(255*(c+h)),d=Math.round(255*(d+h)),new r(l,c,d,o)}}class a{constructor(t){if(!t)throw new Error("Color needs a value");if(t instanceof r)this.rgba=t;else if(t instanceof o)this._hsla=t,this.rgba=o.toRGBA(t);else{if(!(t instanceof s))throw new Error("Invalid color ctor argument");this._hsva=t,this.rgba=s.toRGBA(t)}}static fromHex(t){return a.Format.CSS.parseHex(t)||a.red}get hsla(){return this._hsla?this._hsla:o.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:s.fromRGBA(this.rgba)}equals(t){return!!t&&r.equals(this.rgba,t.rgba)&&o.equals(this.hsla,t.hsla)&&s.equals(this.hsva,t.hsva)}getRelativeLuminance(){return n(.2126*a._relativeLuminanceForComponent(this.rgba.r)+.7152*a._relativeLuminanceForComponent(this.rgba.g)+.0722*a._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(t){const e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(t){return this.getRelativeLuminance()>t.getRelativeLuminance()}isDarkerThan(t){return this.getRelativeLuminance()<t.getRelativeLuminance()}lighten(t){return new a(new o(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))}darken(t){return new a(new o(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))}transparent(t){const{r:e,g:i,b:n,a:o}=this.rgba;return new a(new r(e,i,n,o*t))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new a(new r(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=a.Format.CSS.format(this)),this._toString}static getLighterColor(t,e,i){if(t.isLighterThan(e))return t;i=i||.5;const n=t.getRelativeLuminance(),r=e.getRelativeLuminance();return i=i*(r-n)/r,t.lighten(i)}static getDarkerColor(t,e,i){if(t.isDarkerThan(e))return t;i=i||.5;const n=t.getRelativeLuminance();return i=i*(n-e.getRelativeLuminance())/n,t.darken(i)}}a.white=new a(new r(255,255,255,1)),a.black=new a(new r(0,0,0,1)),a.red=new a(new r(255,0,0,1)),a.blue=new a(new r(0,0,255,1)),a.green=new a(new r(0,255,0,1)),a.cyan=new a(new r(0,255,255,1)),a.lightgrey=new a(new r(211,211,211,1)),a.transparent=new a(new r(0,0,0,0)),function(t){let e;!function(e){let i;!function(e){function i(t){const e=t.toString(16);return 2!==e.length?"0"+e:e}function n(t){switch(t){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}e.formatRGB=function(e){return 1===e.rgba.a?`rgb(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b})`:t.Format.CSS.formatRGBA(e)},e.formatRGBA=function(t){return`rgba(${t.rgba.r}, ${t.rgba.g}, ${t.rgba.b}, ${+t.rgba.a.toFixed(2)})`},e.formatHSL=function(e){return 1===e.hsla.a?`hsl(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%)`:t.Format.CSS.formatHSLA(e)},e.formatHSLA=function(t){return`hsla(${t.hsla.h}, ${(100*t.hsla.s).toFixed(2)}%, ${(100*t.hsla.l).toFixed(2)}%, ${t.hsla.a.toFixed(2)})`},e.formatHex=function(t){return`#${i(t.rgba.r)}${i(t.rgba.g)}${i(t.rgba.b)}`},e.formatHexA=function(e,n=!1){return n&&1===e.rgba.a?t.Format.CSS.formatHex(e):`#${i(e.rgba.r)}${i(e.rgba.g)}${i(e.rgba.b)}${i(Math.round(255*e.rgba.a))}`},e.format=function(e){return e.isOpaque()?t.Format.CSS.formatHex(e):t.Format.CSS.formatRGBA(e)},e.parseHex=function(e){const i=e.length;if(0===i)return null;if(35!==e.charCodeAt(0))return null;if(7===i){const i=16*n(e.charCodeAt(1))+n(e.charCodeAt(2)),o=16*n(e.charCodeAt(3))+n(e.charCodeAt(4)),s=16*n(e.charCodeAt(5))+n(e.charCodeAt(6));return new t(new r(i,o,s,1))}if(9===i){const i=16*n(e.charCodeAt(1))+n(e.charCodeAt(2)),o=16*n(e.charCodeAt(3))+n(e.charCodeAt(4)),s=16*n(e.charCodeAt(5))+n(e.charCodeAt(6)),a=16*n(e.charCodeAt(7))+n(e.charCodeAt(8));return new t(new r(i,o,s,a/255))}if(4===i){const i=n(e.charCodeAt(1)),o=n(e.charCodeAt(2)),s=n(e.charCodeAt(3));return new t(new r(16*i+i,16*o+o,16*s+s))}if(5===i){const i=n(e.charCodeAt(1)),o=n(e.charCodeAt(2)),s=n(e.charCodeAt(3)),a=n(e.charCodeAt(4));return new t(new r(16*i+i,16*o+o,16*s+s,(16*a+a)/255))}return null}}(i=e.CSS||(e.CSS={}))}(e=t.Format||(t.Format={}))}(a||(a={}))},9898:(t,e,i)=>{function n(t,e,i){let n=null,r=null;if("function"==typeof i.value?(n="value",r=i.value,r.length):"function"==typeof i.get&&(n="get",r=i.get),!r)throw new Error("not supported");const o=`$memoize$${e}`;i[n]=function(...t){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,t)}),this[o]}}i.d(e,{H:()=>n})},5527:(t,e,i)=>{i.d(e,{KM:()=>c,ej:()=>a,fn:()=>h,oP:()=>u,yj:()=>l});var n=i(2663),r=i(1432),o=i(7295);function s(t){return 47===t||92===t}function a(t){return t.replace(/[\\/]/g,n.KR.sep)}function h(t){return-1===t.indexOf("/")&&(t=a(t)),/^[a-zA-Z]:(\/|$)/.test(t)&&(t="/"+t),t}function l(t,e=n.KR.sep){if(!t)return"";const i=t.length,r=t.charCodeAt(0);if(s(r)){if(s(t.charCodeAt(1))&&!s(t.charCodeAt(2))){let n=3;const r=n;for(;n<i&&!s(t.charCodeAt(n));n++);if(r!==n&&!s(t.charCodeAt(n+1)))for(n+=1;n<i;n++)if(s(t.charCodeAt(n)))return t.slice(0,n+1).replace(/[\\/]/g,e)}return e}if(d(r)&&58===t.charCodeAt(1))return s(t.charCodeAt(2))?t.slice(0,2)+e:t.slice(0,2);let o=t.indexOf("://");if(-1!==o)for(o+=3;o<i;o++)if(s(t.charCodeAt(o)))return t.slice(0,o+1);return""}function c(t,e,i,r=n.ir){if(t===e)return!0;if(!t||!e)return!1;if(e.length>t.length)return!1;if(i){if(!(0,o.ok)(t,e))return!1;if(e.length===t.length)return!0;let i=e.length;return e.charAt(e.length-1)===r&&i--,t.charAt(i)===r}return e.charAt(e.length-1)!==r&&(e+=r),0===t.indexOf(e)}function d(t){return t>=65&&t<=90||t>=97&&t<=122}function u(t,e=r.ED){return!!e&&(d(t.charCodeAt(0))&&58===t.charCodeAt(1))}},5392:(t,e,i)=>{i.d(e,{CL:()=>W,EW:()=>U,Ji:()=>s,KZ:()=>S,Oh:()=>y,Sy:()=>l,ir:()=>h,jB:()=>D,l7:()=>G,mB:()=>T,mX:()=>q,or:()=>o});var n=i(3702),r=i(7295);function o(...t){return function(e,i){for(let n=0,r=t.length;n<r;n++){const r=t[n](e,i);if(r)return r}return null}}a.bind(void 0,!1);const s=a.bind(void 0,!0);function a(t,e,i){if(!i||i.length<e.length)return null;let n;return n=t?r.ok(i,e):0===i.indexOf(e),n?e.length>0?[{start:0,end:e.length}]:[]:null}function h(t,e){const i=e.toLowerCase().indexOf(t.toLowerCase());return-1===i?null:[{start:i,end:i+t.length}]}function l(t,e){return c(t.toLowerCase(),e.toLowerCase(),0,0)}function c(t,e,i,n){if(i===t.length)return[];if(n===e.length)return null;if(t[i]===e[n]){let r=null;return(r=c(t,e,i+1,n+1))?k({start:n,end:n+1},r):null}return c(t,e,i,n+1)}function d(t){return 97<=t&&t<=122}function u(t){return 65<=t&&t<=90}function g(t){return 48<=t&&t<=57}function f(t){return 32===t||9===t||10===t||13===t}const p=new Set;function m(t){return f(t)||p.has(t)}function _(t){return d(t)||u(t)||g(t)}function k(t,e){return 0===e.length?e=[t]:t.end===e[0].start?e[0].start=t.start:e.unshift(t),e}function b(t,e){for(let i=e;i<t.length;i++){const e=t.charCodeAt(i);if(u(e)||g(e)||i>0&&!_(t.charCodeAt(i-1)))return i}return t.length}function v(t,e,i,n){if(i===t.length)return[];if(n===e.length)return null;if(t[i]!==e[n].toLowerCase())return null;{let r=null,o=n+1;for(r=v(t,e,i+1,n+1);!r&&(o=b(e,o))<e.length;)r=v(t,e,i+1,o),o++;return null===r?null:k({start:n,end:n+1},r)}}function C(t,e){if(!e)return null;if(0===(e=e.trim()).length)return null;if(!function(t){let e=0,i=0,n=0,r=0;for(let o=0;o<t.length;o++)n=t.charCodeAt(o),u(n)&&e++,d(n)&&i++,f(n)&&r++;return 0!==e&&0!==i||0!==r?e<=5:t.length<=30}(t))return null;if(e.length>60)return null;const i=function(t){let e=0,i=0,n=0,r=0,o=0;for(let s=0;s<t.length;s++)o=t.charCodeAt(s),u(o)&&e++,d(o)&&i++,_(o)&&n++,g(o)&&r++;return{upperPercent:e/t.length,lowerPercent:i/t.length,alphaPercent:n/t.length,numericPercent:r/t.length}}(e);if(!function(t){const{upperPercent:e,lowerPercent:i,alphaPercent:n,numericPercent:r}=t;return i>.2&&e<.8&&n>.6&&r<.2}(i)){if(!function(t){const{upperPercent:e,lowerPercent:i}=t;return 0===i&&e>.6}(i))return null;e=e.toLowerCase()}let n=null,r=0;for(t=t.toLowerCase();r<e.length&&null===(n=v(t,e,0,r));)r=b(e,r+1);return n}function S(t,e,i=!1){if(!e||0===e.length)return null;let n=null,r=0;for(t=t.toLowerCase(),e=e.toLowerCase();r<e.length&&null===(n=w(t,e,0,r,i));)r=L(e,r+1);return n}function w(t,e,i,n,r){if(i===t.length)return[];if(n===e.length)return null;if(o=t.charCodeAt(i),s=e.charCodeAt(n),o===s||m(o)&&m(s)){let o=null,s=n+1;if(o=w(t,e,i+1,n+1,r),!r)for(;!o&&(s=L(e,s))<e.length;)o=w(t,e,i+1,s,r),s++;return null===o?null:k({start:n,end:n+1},o)}return null;var o,s}function L(t,e){for(let i=e;i<t.length;i++)if(m(t.charCodeAt(i))||i>0&&m(t.charCodeAt(i-1)))return i;return t.length}"()[]{}<>`'\"-/;:,.?!".split("").forEach((t=>p.add(t.charCodeAt(0))));const I=o(s,C,h),N=o(s,C,l),x=new n.z6(1e4);function y(t,e,i=!1){if("string"!=typeof t||"string"!=typeof e)return null;let n=x.get(t);n||(n=new RegExp(r.un(t),"i"),x.set(t,n));const o=n.exec(e);return o?[{start:o.index,end:o.index+o[0].length}]:i?N(t,e):I(t,e)}function D(t,e,i,n,r,o){const s=Math.min(13,t.length);for(;i<s;i++){const s=U(t,e,i,n,r,o,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(s)return s}return[0,o]}function T(t){if(void 0===t)return[];const e=[],i=t[1];for(let n=t.length-1;n>1;n--){const r=t[n]+i,o=e[e.length-1];o&&o.end===r?o.end=r+1:e.push({start:r,end:r+1})}return e}const B=128;function E(){const t=[],e=[];for(let t=0;t<=B;t++)e[t]=0;for(let i=0;i<=B;i++)t.push(e.slice(0));return t}function A(t){const e=[];for(let i=0;i<=t;i++)e[i]=0;return e}const O=A(256),F=A(256),P=E(),M=E(),R=E();function z(t,e){if(e<0||e>=t.length)return!1;const i=t.codePointAt(e);switch(i){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!r.C8(i)}}function H(t,e){if(e<0||e>=t.length)return!1;switch(t.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function V(t,e,i){return e[t]!==i[t]}var W;!function(t){t.Default=[-100,0],t.isDefault=function(t){return!t||2===t.length&&-100===t[0]&&0===t[1]}}(W||(W={}));class q{constructor(t,e){this.firstMatchCanBeWeak=t,this.boostFullMatch=e}}function U(t,e,i,n,r,o,s=q.default){const a=t.length>B?B:t.length,h=n.length>B?B:n.length;if(i>=a||o>=h||a-i>h-o)return;if(!function(t,e,i,n,r,o,s=!1){for(;e<i&&r<o;)t[e]===n[r]&&(s&&(O[e]=r),e+=1),r+=1;return e===i}(e,i,a,r,o,h,!0))return;!function(t,e,i,n,r,o){let s=t-1,a=e-1;for(;s>=i&&a>=n;)r[s]===o[a]&&(F[s]=a,s--),a--}(a,h,i,o,e,r);let l=1,c=1,d=i,u=o;const g=[!1];for(l=1,d=i;d<a;l++,d++){const s=O[d],f=F[d],p=d+1<a?F[d+1]:h;for(c=s-o+1,u=s;u<p;c++,u++){let a=Number.MIN_SAFE_INTEGER,p=!1;u<=f&&(a=j(t,e,d,i,n,r,u,h,o,0===P[l-1][c-1],g));let m=0;a!==Number.MAX_SAFE_INTEGER&&(p=!0,m=a+M[l-1][c-1]);const _=u>s,k=_?M[l][c-1]+(P[l][c-1]>0?-5:0):0,b=u>s+1&&P[l][c-1]>0,v=b?M[l][c-2]+(P[l][c-2]>0?-5:0):0;if(b&&(!_||v>=k)&&(!p||v>=m))M[l][c]=v,R[l][c]=3,P[l][c]=0;else if(_&&(!p||k>=m))M[l][c]=k,R[l][c]=2,P[l][c]=0;else{if(!p)throw new Error("not possible");M[l][c]=m,R[l][c]=1,P[l][c]=P[l-1][c-1]+1}}}if(!g[0]&&!s.firstMatchCanBeWeak)return;l--,c--;const f=[M[l][c],o];let p=0,m=0;for(;l>=1;){let t=c;do{const e=R[l][t];if(3===e)t-=2;else{if(2!==e)break;t-=1}}while(t>=1);p>1&&e[i+l-1]===r[o+c-1]&&!V(t+o-1,n,r)&&p+1>P[l][t]&&(t=c),t===c?p++:p=1,m||(m=t),l--,c=t-1,f.push(c)}h===a&&s.boostFullMatch&&(f[0]+=2);const _=m-a;return f[0]-=_,f}function j(t,e,i,n,r,o,s,a,h,l,c){if(e[i]!==o[s])return Number.MIN_SAFE_INTEGER;let d=1,u=!1;return s===i-n?d=t[i]===r[s]?7:5:!V(s,r,o)||0!==s&&V(s-1,r,o)?!z(o,s)||0!==s&&z(o,s-1)?(z(o,s-1)||H(o,s-1))&&(d=5,u=!0):d=5:(d=t[i]===r[s]?7:5,u=!0),d>1&&i===n&&(c[0]=!0),u||(u=V(s,r,o)||z(o,s-1)||H(o,s-1)),i===n?s>h&&(d-=u?3:5):d+=l?u?2:0:u?0:1,s+1===a&&(d-=u?3:5),d}function G(t,e,i,n,r,o,s){return function(t,e,i,n,r,o,s,a){let h=U(t,e,i,n,r,o,a);if(h&&!s)return h;if(t.length>=3){const e=Math.min(7,t.length-1);for(let s=i+1;s<e;s++){const e=$(t,s);if(e){const t=U(e,e.toLowerCase(),i,n,r,o,a);t&&(t[0]-=3,(!h||t[0]>h[0])&&(h=t))}}}return h}(t,e,i,n,r,o,!0,s)}function $(t,e){if(e+1>=t.length)return;const i=t[e],n=t[e+1];return i!==n?t.slice(0,e)+n+i+t.slice(e+2):void 0}q.default={boostFullMatch:!0,firstMatchCanBeWeak:!1}},9365:(t,e,i)=>{i.d(e,{CP:()=>a,Fr:()=>h,W5:()=>s,d9:()=>l,oR:()=>c,v1:()=>d});var n=i(7301),r=i(1212),o=i(7295);class s{constructor(t="",e=!1){var i,r,o;if(this.value=t,"string"!=typeof this.value)throw(0,n.b1)("value");"boolean"==typeof e?(this.isTrusted=e,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(i=e.isTrusted)&&void 0!==i?i:void 0,this.supportThemeIcons=null!==(r=e.supportThemeIcons)&&void 0!==r&&r,this.supportHtml=null!==(o=e.supportHtml)&&void 0!==o&&o)}appendText(t,e=0){var i;return this.value+=(i=this.supportThemeIcons?(0,r.Qo)(t):t,i.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")).replace(/([ \t]+)/g,((t,e)=>"&nbsp;".repeat(e.length))).replace(/\>/gm,"\\>").replace(/\n/g,1===e?"\\\n":"\n\n"),this}appendMarkdown(t){return this.value+=t,this}appendCodeblock(t,e){return this.value+="\n```",this.value+=t,this.value+="\n",this.value+=e,this.value+="\n```\n",this}appendLink(t,e,i){return this.value+="[",this.value+=this._escape(e,"]"),this.value+="](",this.value+=this._escape(String(t),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(t,e){const i=new RegExp((0,o.ec)(e),"g");return t.replace(i,((e,i)=>"\\"!==t.charAt(i-1)?`\\${e}`:e))}}function a(t){return h(t)?!t.value:!Array.isArray(t)||t.every(a)}function h(t){return t instanceof s||!(!t||"object"!=typeof t)&&!("string"!=typeof t.value||"boolean"!=typeof t.isTrusted&&void 0!==t.isTrusted||"boolean"!=typeof t.supportThemeIcons&&void 0!==t.supportThemeIcons)}function l(t){return t.replace(/"/g,"&quot;")}function c(t){return t?t.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):t}function d(t){const e=[],i=t.split("|").map((t=>t.trim()));t=i[0];const n=i[1];if(n){const t=/height=(\d+)/.exec(n),i=/width=(\d+)/.exec(n),r=t?t[1]:"",o=i?i[1]:"",s=isFinite(parseInt(o)),a=isFinite(parseInt(r));s&&e.push(`width="${o}"`),a&&e.push(`height="${r}"`)}return{href:t,dimensions:e}}},1212:(t,e,i)=>{i.d(e,{Gt:()=>m,Ho:()=>p,Qo:()=>c,f$:()=>u,x$:()=>f});var n=i(3046),r=i(5392),o=i(7295);const s="$(",a=new RegExp(`\\$\\(${n.dT.iconNameExpression}(?:${n.dT.iconModifierExpression})?\\)`,"g"),h=new RegExp(n.dT.iconNameCharacter),l=new RegExp(`(\\\\)?${a.source}`,"g");function c(t){return t.replace(l,((t,e)=>e?t:`\\${t}`))}const d=new RegExp(`\\\\${a.source}`,"g");function u(t){return t.replace(d,(t=>`\\${t}`))}const g=new RegExp(`(\\s)?(\\\\)?${a.source}(\\s)?`,"g");function f(t){return-1===t.indexOf(s)?t:t.replace(g,((t,e,i,n)=>i?t:e||n||""))}function p(t){const e=t.indexOf(s);return-1===e?{text:t}:function(t,e){const i=[];let n="";function r(t){if(t){n+=t;for(const e of t)i.push(d)}}let o,a,l=-1,c="",d=0,u=e;const g=t.length;r(t.substr(0,e));for(;u<g;){if(o=t[u],a=t[u+1],o===s[0]&&a===s[1])l=u,r(c),c=s,u++;else if(")"===o&&-1!==l){d+=u-l+1,l=-1,c=""}else-1!==l?h.test(o)?c+=o:(r(c),l=-1,c=""):r(o);u++}return r(c),{text:n,iconOffsets:i}}(t,e)}function m(t,e,i=!1){const{text:n,iconOffsets:s}=e;if(!s||0===s.length)return(0,r.Oh)(t,n,i);const a=(0,o.j3)(n," "),h=n.length-a.length,l=(0,r.Oh)(t,a,i);if(l)for(const t of l){const e=s[t.start+h]+h;t.start+=e,t.end+=e}return l}},3702:(t,e,i)=>{i.d(e,{Id:()=>d,Y9:()=>g,z6:()=>p});var n,r,o=i(7295);class s{constructor(){this._value="",this._pos=0}reset(t){return this._value=t,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(t){return t.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class a{constructor(t=!0){this._caseSensitive=t}reset(t){return this._value=t,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let t=!0;for(;this._to<this._value.length;this._to++){if(46===this._value.charCodeAt(this._to)){if(!t)break;this._from++}else t=!1}return this}cmp(t){return this._caseSensitive?(0,o.TT)(t,this._value,0,t.length,this._from,this._to):(0,o.j_)(t,this._value,0,t.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class h{constructor(t=!0,e=!0){this._splitOnBackslash=t,this._caseSensitive=e}reset(t){this._from=0,this._to=0,this._value=t,this._valueLen=t.length;for(let e=t.length-1;e>=0;e--,this._valueLen--){const t=this._value.charCodeAt(e);if(!(47===t||this._splitOnBackslash&&92===t))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let t=!0;for(;this._to<this._valueLen;this._to++){const e=this._value.charCodeAt(this._to);if(47===e||this._splitOnBackslash&&92===e){if(!t)break;this._from++}else t=!1}return this}cmp(t){return this._caseSensitive?(0,o.TT)(t,this._value,0,t.length,this._from,this._to):(0,o.j_)(t,this._value,0,t.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class l{constructor(t,e){this._ignorePathCasing=t,this._ignoreQueryAndFragment=e,this._states=[],this._stateIdx=0}reset(t){return this._value=t,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new h(!1,!this._ignorePathCasing(t)),this._pathIterator.reset(t.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(t)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(t){if(1===this._states[this._stateIdx])return(0,o.zY)(t,this._value.scheme);if(2===this._states[this._stateIdx])return(0,o.zY)(t,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(t);if(4===this._states[this._stateIdx])return(0,o.qu)(t,this._value.query);if(5===this._states[this._stateIdx])return(0,o.qu)(t,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class c{constructor(){this.height=1}rotateLeft(){const t=this.right;return this.right=t.left,t.left=this,this.updateHeight(),t.updateHeight(),t}rotateRight(){const t=this.left;return this.left=t.right,t.right=this,this.updateHeight(),t.updateHeight(),t}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var t,e;return null!==(e=null===(t=this.left)||void 0===t?void 0:t.height)&&void 0!==e?e:0}get heightRight(){var t,e;return null!==(e=null===(t=this.right)||void 0===t?void 0:t.height)&&void 0!==e?e:0}}class d{constructor(t){this._iter=t}static forUris(t=(()=>!1),e=(()=>!1)){return new d(new l(t,e))}static forStrings(){return new d(new s)}static forConfigKeys(){return new d(new a)}clear(){this._root=void 0}set(t,e){const i=this._iter.reset(t);let n;this._root||(this._root=new c,this._root.segment=i.value());const r=[];for(n=this._root;;){const t=i.cmp(n.segment);if(t>0)n.left||(n.left=new c,n.left.segment=i.value()),r.push([-1,n]),n=n.left;else if(t<0)n.right||(n.right=new c,n.right.segment=i.value()),r.push([1,n]),n=n.right;else{if(!i.hasNext())break;i.next(),n.mid||(n.mid=new c,n.mid.segment=i.value()),r.push([0,n]),n=n.mid}}const o=n.value;n.value=e,n.key=t;for(let t=r.length-1;t>=0;t--){const e=r[t][1];e.updateHeight();const i=e.balanceFactor();if(i<-1||i>1){const i=r[t][0],n=r[t+1][0];if(1===i&&1===n)r[t][1]=e.rotateLeft();else if(-1===i&&-1===n)r[t][1]=e.rotateRight();else if(1===i&&-1===n)e.right=r[t+1][1]=r[t+1][1].rotateRight(),r[t][1]=e.rotateLeft();else{if(-1!==i||1!==n)throw new Error;e.left=r[t+1][1]=r[t+1][1].rotateLeft(),r[t][1]=e.rotateRight()}if(t>0)switch(r[t-1][0]){case-1:r[t-1][1].left=r[t][1];break;case 1:r[t-1][1].right=r[t][1];break;case 0:r[t-1][1].mid=r[t][1]}else this._root=r[0][1]}}return o}get(t){var e;return null===(e=this._getNode(t))||void 0===e?void 0:e.value}_getNode(t){const e=this._iter.reset(t);let i=this._root;for(;i;){const t=e.cmp(i.segment);if(t>0)i=i.left;else if(t<0)i=i.right;else{if(!e.hasNext())break;e.next(),i=i.mid}}return i}has(t){const e=this._getNode(t);return!(void 0===(null==e?void 0:e.value)&&void 0===(null==e?void 0:e.mid))}delete(t){return this._delete(t,!1)}deleteSuperstr(t){return this._delete(t,!0)}_delete(t,e){var i;const n=this._iter.reset(t),r=[];let o=this._root;for(;o;){const t=n.cmp(o.segment);if(t>0)r.push([-1,o]),o=o.left;else if(t<0)r.push([1,o]),o=o.right;else{if(!n.hasNext())break;n.next(),r.push([0,o]),o=o.mid}}if(o){if(e?(o.left=void 0,o.mid=void 0,o.right=void 0,o.height=1):(o.key=void 0,o.value=void 0),!o.mid&&!o.value)if(o.left&&o.right){const t=this._min(o.right),{key:e,value:i,segment:n}=t;this._delete(t.key,!1),o.key=e,o.value=i,o.segment=n}else{const t=null!==(i=o.left)&&void 0!==i?i:o.right;if(r.length>0){const[e,i]=r[r.length-1];switch(e){case-1:i.left=t;break;case 0:i.mid=t;break;case 1:i.right=t}}else this._root=t}for(let t=r.length-1;t>=0;t--){const e=r[t][1];e.updateHeight();const i=e.balanceFactor();if(i>1?(e.right.balanceFactor()>=0||(e.right=e.right.rotateRight()),r[t][1]=e.rotateLeft()):i<-1&&(e.left.balanceFactor()<=0||(e.left=e.left.rotateLeft()),r[t][1]=e.rotateRight()),t>0)switch(r[t-1][0]){case-1:r[t-1][1].left=r[t][1];break;case 1:r[t-1][1].right=r[t][1];break;case 0:r[t-1][1].mid=r[t][1]}else this._root=r[0][1]}}}_min(t){for(;t.left;)t=t.left;return t}findSubstr(t){const e=this._iter.reset(t);let i,n=this._root;for(;n;){const t=e.cmp(n.segment);if(t>0)n=n.left;else if(t<0)n=n.right;else{if(!e.hasNext())break;e.next(),i=n.value||i,n=n.mid}}return n&&n.value||i}findSuperstr(t){const e=this._iter.reset(t);let i=this._root;for(;i;){const t=e.cmp(i.segment);if(t>0)i=i.left;else if(t<0)i=i.right;else{if(!e.hasNext())return i.mid?this._entries(i.mid):void 0;e.next(),i=i.mid}}}forEach(t){for(const[e,i]of this)t(i,e)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(t){const e=[];return this._dfsEntries(t,e),e[Symbol.iterator]()}_dfsEntries(t,e){t&&(t.left&&this._dfsEntries(t.left,e),t.value&&e.push([t.key,t.value]),t.mid&&this._dfsEntries(t.mid,e),t.right&&this._dfsEntries(t.right,e))}}class u{constructor(t,e){this.uri=t,this.value=e}}class g{constructor(t,e){this[n]="ResourceMap",t instanceof g?(this.map=new Map(t.map),this.toKey=null!=e?e:g.defaultToKey):(this.map=new Map,this.toKey=null!=t?t:g.defaultToKey)}set(t,e){return this.map.set(this.toKey(t),new u(t,e)),this}get(t){var e;return null===(e=this.map.get(this.toKey(t)))||void 0===e?void 0:e.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,e){void 0!==e&&(t=t.bind(e));for(const[e,i]of this.map)t(i.value,i.uri,this)}*values(){for(const t of this.map.values())yield t.value}*keys(){for(const t of this.map.values())yield t.uri}*entries(){for(const t of this.map.values())yield[t.uri,t.value]}*[(n=Symbol.toStringTag,Symbol.iterator)](){for(const[,t]of this.map)yield[t.uri,t.value]}}g.defaultToKey=t=>t.toString();class f{constructor(){this[r]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return null===(t=this._head)||void 0===t?void 0:t.value}get last(){var t;return null===(t=this._tail)||void 0===t?void 0:t.value}has(t){return this._map.has(t)}get(t,e=0){const i=this._map.get(t);if(i)return 0!==e&&this.touch(i,e),i.value}set(t,e,i=0){let n=this._map.get(t);if(n)n.value=e,0!==i&&this.touch(n,i);else{switch(n={key:t,value:e,next:void 0,previous:void 0},i){case 0:case 2:default:this.addItemLast(n);break;case 1:this.addItemFirst(n)}this._map.set(t,n),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){const e=this._map.get(t);if(e)return this._map.delete(t),this.removeItem(e),this._size--,e.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,e){const i=this._state;let n=this._head;for(;n;){if(e?t.bind(e)(n.value,n.key,this):t(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const t=this,e=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(t._state!==e)throw new Error("LinkedMap got modified during iteration.");if(i){const t={value:i.key,done:!1};return i=i.next,t}return{value:void 0,done:!0}}};return n}values(){const t=this,e=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(t._state!==e)throw new Error("LinkedMap got modified during iteration.");if(i){const t={value:i.value,done:!1};return i=i.next,t}return{value:void 0,done:!0}}};return n}entries(){const t=this,e=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(t._state!==e)throw new Error("LinkedMap got modified during iteration.");if(i){const t={value:[i.key,i.value],done:!1};return i=i.next,t}return{value:void 0,done:!0}}};return n}[(r=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(0===t)return void this.clear();let e=this._head,i=this.size;for(;e&&i>t;)this._map.delete(e.key),e=e.next,i--;this._head=e,this._size=i,e&&(e.previous=void 0),this._state++}addItemFirst(t){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");t.next=this._head,this._head.previous=t}else this._tail=t;this._head=t,this._state++}addItemLast(t){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");t.previous=this._tail,this._tail.next=t}else this._head=t;this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{const e=t.next,i=t.previous;if(!e||!i)throw new Error("Invalid list");e.previous=i,i.next=e}t.next=void 0,t.previous=void 0,this._state++}touch(t,e){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===e||2===e)if(1===e){if(t===this._head)return;const e=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(e.previous=i,i.next=e),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(2===e){if(t===this._tail)return;const e=t.next,i=t.previous;t===this._head?(e.previous=void 0,this._head=e):(e.previous=i,i.next=e),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}toJSON(){const t=[];return this.forEach(((e,i)=>{t.push([i,e])})),t}fromJSON(t){this.clear();for(const[e,i]of t)this.set(e,i)}}class p extends f{constructor(t,e=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,e),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get(t,e=2){return super.get(t,e)}peek(t){return super.get(t,0)}set(t,e){return super.set(t,e,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},6248:(t,e,i)=>{i.d(e,{I8:()=>r,_A:()=>o,fS:()=>c,jB:()=>l,rs:()=>a});var n=i(8401);function r(t){if(!t||"object"!=typeof t)return t;if(t instanceof RegExp)return t;const e=Array.isArray(t)?[]:{};return Object.keys(t).forEach((i=>{t[i]&&"object"==typeof t[i]?e[i]=r(t[i]):e[i]=t[i]})),e}function o(t){if(!t||"object"!=typeof t)return t;const e=[t];for(;e.length>0;){const t=e.shift();Object.freeze(t);for(const i in t)if(s.call(t,i)){const r=t[i];"object"!=typeof r||Object.isFrozen(r)||(0,n.fU)(r)||e.push(r)}}return t}const s=Object.prototype.hasOwnProperty;function a(t,e){return h(t,e,new Set)}function h(t,e,i){if((0,n.Jp)(t))return t;const r=e(t);if(void 0!==r)return r;if((0,n.kJ)(t)){const n=[];for(const r of t)n.push(h(r,e,i));return n}if((0,n.Kn)(t)){if(i.has(t))throw new Error("Cannot clone recursive data-structure");i.add(t);const n={};for(const r in t)s.call(t,r)&&(n[r]=h(t[r],e,i));return i.delete(t),n}return t}function l(t,e,i=!0){return(0,n.Kn)(t)?((0,n.Kn)(e)&&Object.keys(e).forEach((r=>{r in t?i&&((0,n.Kn)(t[r])&&(0,n.Kn)(e[r])?l(t[r],e[r],i):t[r]=e[r]):t[r]=e[r]})),t):e}function c(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(typeof t!=typeof e)return!1;if("object"!=typeof t)return!1;if(Array.isArray(t)!==Array.isArray(e))return!1;let i,n;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(!c(t[i],e[i]))return!1}else{const r=[];for(n in t)r.push(n);r.sort();const o=[];for(n in e)o.push(n);if(o.sort(),!c(r,o))return!1;for(i=0;i<r.length;i++)if(!c(t[r[i]],e[r[i]]))return!1}return!0}},5935:(t,e,i)=>{i.d(e,{AH:()=>k,DZ:()=>p,EZ:()=>f,Hx:()=>g,SF:()=>d,Vb:()=>w,Vo:()=>_,XX:()=>m,Xy:()=>u,i3:()=>v,lX:()=>b,z_:()=>l});var n=i(5527),r=i(6663),o=i(2663),s=i(1432),a=i(7295),h=i(666);function l(t){return(0,h.q)(t,!0)}class c{constructor(t){this._ignorePathCasing=t}compare(t,e,i=!1){return t===e?0:(0,a.qu)(this.getComparisonKey(t,i),this.getComparisonKey(e,i))}isEqual(t,e,i=!1){return t===e||!(!t||!e)&&this.getComparisonKey(t,i)===this.getComparisonKey(e,i)}getComparisonKey(t,e=!1){return t.with({path:this._ignorePathCasing(t)?t.path.toLowerCase():void 0,fragment:e?null:void 0}).toString()}isEqualOrParent(t,e,i=!1){if(t.scheme===e.scheme){if(t.scheme===r.lg.file)return n.KM(l(t),l(e),this._ignorePathCasing(t))&&t.query===e.query&&(i||t.fragment===e.fragment);if(C(t.authority,e.authority))return n.KM(t.path,e.path,this._ignorePathCasing(t),"/")&&t.query===e.query&&(i||t.fragment===e.fragment)}return!1}joinPath(t,...e){return h.o.joinPath(t,...e)}basenameOrAuthority(t){return f(t)||t.authority}basename(t){return o.KR.basename(t.path)}extname(t){return o.KR.extname(t.path)}dirname(t){if(0===t.path.length)return t;let e;return t.scheme===r.lg.file?e=h.o.file(o.XX(l(t))).path:(e=o.KR.dirname(t.path),t.authority&&e.length&&47!==e.charCodeAt(0)&&(e="/")),t.with({path:e})}normalizePath(t){if(!t.path.length)return t;let e;return e=t.scheme===r.lg.file?h.o.file(o.Fv(l(t))).path:o.KR.normalize(t.path),t.with({path:e})}relativePath(t,e){if(t.scheme!==e.scheme||!C(t.authority,e.authority))return;if(t.scheme===r.lg.file){const i=o.Gf(l(t),l(e));return s.ED?n.ej(i):i}let i=t.path||"/";const a=e.path||"/";if(this._ignorePathCasing(t)){let t=0;for(const e=Math.min(i.length,a.length);t<e&&(i.charCodeAt(t)===a.charCodeAt(t)||i.charAt(t).toLowerCase()===a.charAt(t).toLowerCase());t++);i=a.substr(0,t)+i.substr(t)}return o.KR.relative(i,a)}resolvePath(t,e){if(t.scheme===r.lg.file){const i=h.o.file(o.DB(l(t),e));return t.with({authority:i.authority,path:i.path})}return e=n.fn(e),t.with({path:o.KR.resolve(t.path,e)})}isAbsolutePath(t){return!!t.path&&"/"===t.path[0]}isEqualAuthority(t,e){return t===e||void 0!==t&&void 0!==e&&(0,a.qq)(t,e)}hasTrailingPathSeparator(t,e=o.ir){if(t.scheme===r.lg.file){const i=l(t);return i.length>n.yj(i).length&&i[i.length-1]===e}{const e=t.path;return e.length>1&&47===e.charCodeAt(e.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}}removeTrailingPathSeparator(t,e=o.ir){return S(t,e)?t.with({path:t.path.substr(0,t.path.length-1)}):t}addTrailingPathSeparator(t,e=o.ir){let i=!1;if(t.scheme===r.lg.file){const r=l(t);i=void 0!==r&&r.length===n.yj(r).length&&r[r.length-1]===e}else{e="/";const n=t.path;i=1===n.length&&47===n.charCodeAt(n.length-1)}return i||S(t,e)?t:t.with({path:t.path+"/"})}}const d=new c((()=>!1)),u=(new c((t=>t.scheme!==r.lg.file||!s.IJ)),new c((t=>!0)),d.isEqual.bind(d)),g=(d.isEqualOrParent.bind(d),d.getComparisonKey.bind(d),d.basenameOrAuthority.bind(d)),f=d.basename.bind(d),p=d.extname.bind(d),m=d.dirname.bind(d),_=d.joinPath.bind(d),k=d.normalizePath.bind(d),b=d.relativePath.bind(d),v=d.resolvePath.bind(d),C=(d.isAbsolutePath.bind(d),d.isEqualAuthority.bind(d)),S=d.hasTrailingPathSeparator.bind(d);d.removeTrailingPathSeparator.bind(d),d.addTrailingPathSeparator.bind(d);var w;!function(t){t.META_DATA_LABEL="label",t.META_DATA_DESCRIPTION="description",t.META_DATA_SIZE="size",t.META_DATA_MIME="mime",t.parseMetaData=function(e){const i=new Map;e.path.substring(e.path.indexOf(";")+1,e.path.lastIndexOf(";")).split(";").forEach((t=>{const[e,n]=t.split(":");e&&n&&i.set(e,n)}));const n=e.path.substring(0,e.path.indexOf(";"));return n&&i.set(t.META_DATA_MIME,n),i}}(w||(w={}))},6633:(t,e,i)=>{i.d(e,{Rm:()=>s});var n=i(4669),r=i(9917);class o{constructor(t,e,i,n,r,o,s){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(e|=0,i|=0,n|=0,r|=0,o|=0,s|=0),this.rawScrollLeft=n,this.rawScrollTop=s,e<0&&(e=0),n+e>i&&(n=i-e),n<0&&(n=0),r<0&&(r=0),s+r>o&&(s=o-r),s<0&&(s=0),this.width=e,this.scrollWidth=i,this.scrollLeft=n,this.height=r,this.scrollHeight=o,this.scrollTop=s}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,e){return new o(this._forceIntegerValues,void 0!==t.width?t.width:this.width,void 0!==t.scrollWidth?t.scrollWidth:this.scrollWidth,e?this.rawScrollLeft:this.scrollLeft,void 0!==t.height?t.height:this.height,void 0!==t.scrollHeight?t.scrollHeight:this.scrollHeight,e?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new o(this._forceIntegerValues,this.width,this.scrollWidth,void 0!==t.scrollLeft?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==t.scrollTop?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,e){const i=this.width!==t.width,n=this.scrollWidth!==t.scrollWidth,r=this.scrollLeft!==t.scrollLeft,o=this.height!==t.height,s=this.scrollHeight!==t.scrollHeight,a=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:e,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:r,heightChanged:o,scrollHeightChanged:s,scrollTopChanged:a}}}class s extends r.JT{constructor(t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new n.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=t.smoothScrollDuration,this._scheduleAtNextAnimationFrame=t.scheduleAtNextAnimationFrame,this._state=new o(t.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(t){this._smoothScrollDuration=t}validateScrollPosition(t){return this._state.withScrollPosition(t)}getScrollDimensions(){return this._state}setScrollDimensions(t,e){var i;const n=this._state.withScrollDimensions(t,e);this._setState(n,Boolean(this._smoothScrolling)),null===(i=this._smoothScrolling)||void 0===i||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(t){const e=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(e,!1)}setScrollPositionSmooth(t,e){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:void 0===t.scrollLeft?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:void 0===t.scrollTop?this._smoothScrolling.to.scrollTop:t.scrollTop};const i=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;n=e?new l(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{const e=this._state.withScrollPosition(t);this._smoothScrolling=l.start(this._state,e,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))}_performSmoothScrolling(){if(!this._smoothScrolling)return;const t=this._smoothScrolling.tick(),e=this._state.withScrollPosition(t);return this._setState(e,!0),this._smoothScrolling?t.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))):void 0}_setState(t,e){const i=this._state;i.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(i,e)))}}class a{constructor(t,e,i){this.scrollLeft=t,this.scrollTop=e,this.isDone=i}}function h(t,e){const i=e-t;return function(e){return t+i*(1-function(t){return Math.pow(t,3)}(1-e))}}class l{constructor(t,e,i,n){this.from=t,this.to=e,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,e,i){if(Math.abs(t-e)>2.5*i){let s,a;return t<e?(s=t+.75*i,a=e-.75*i):(s=t-.75*i,a=e+.75*i),n=h(t,s),r=h(a,e),o=.33,function(t){return t<o?n(t/o):r((t-o)/(1-o))}}var n,r,o;return h(t,e)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){const e=(t-this.startTime)/this.duration;if(e<1){const t=this.scrollLeft(e),i=this.scrollTop(e);return new a(t,i,!1)}return new a(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,e,i){return l.start(t,e,i)}static start(t,e,i){i+=10;const n=Date.now()-10;return new l(t,e,n,i)}}},4603:(t,e,i)=>{i.d(e,{Z:()=>o});var n,r=i(7295);!function(t){t[t.Ignore=0]="Ignore",t[t.Info=1]="Info",t[t.Warning=2]="Warning",t[t.Error=3]="Error"}(n||(n={})),function(t){const e="error",i="warning",n="info";t.fromValue=function(o){return o?r.qq(e,o)?t.Error:r.qq(i,o)||r.qq("warn",o)?t.Warning:r.qq(n,o)?t.Info:t.Ignore:t.Ignore},t.toString=function(r){switch(r){case t.Error:return e;case t.Warning:return i;case t.Info:return n;default:return"ignore"}}}(n||(n={}));const o=n},8625:(t,e,i)=>{i.d(e,{CE:()=>H,DD:()=>C,DS:()=>$,Dl:()=>L,HV:()=>et,IO:()=>E,Jn:()=>Y,Kh:()=>h,L7:()=>tt,Mm:()=>l,N5:()=>B,Qb:()=>X,Re:()=>P,TC:()=>w,To:()=>Z,UP:()=>V,Vs:()=>z,YF:()=>Q,Ym:()=>k,eS:()=>M,e_:()=>N,f9:()=>it,fY:()=>p,hw:()=>b,kp:()=>y,lK:()=>F,lS:()=>K,m$:()=>G,m1:()=>q,m3:()=>J,m9:()=>O,n0:()=>f,oV:()=>j,r0:()=>W,tR:()=>_,ts:()=>U,x3:()=>T,zJ:()=>R,zk:()=>S,zu:()=>D,zw:()=>I});var n=i(3580),r=i(1264),o=i(3910),s=i(7781),a=i(2321);const h=(0,o.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},n.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),l=(0,o.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:o.lRK},n.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),c=(0,o.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},n.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),d=(0,o.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:o.xL1,hcLight:o.xL1},n.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),u=(0,o.P6G)("editor.symbolHighlightBackground",{dark:o.MUv,light:o.MUv,hcDark:null,hcLight:null},n.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),g=(0,o.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:o.xL1,hcLight:o.xL1},n.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),f=(0,o.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:r.Il.black,hcDark:r.Il.white,hcLight:"#0F4A85"},n.NC("caret","Color of the editor cursor.")),p=(0,o.P6G)("editorCursor.background",null,n.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),m=(0,o.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},n.NC("editorWhitespaces","Color of whitespace characters in the editor.")),_=(0,o.P6G)("editorIndentGuide.background",{dark:m,light:m,hcDark:m,hcLight:m},n.NC("editorIndentGuides","Color of the editor indentation guides.")),k=(0,o.P6G)("editorIndentGuide.activeBackground",{dark:m,light:m,hcDark:m,hcLight:m},n.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),b=(0,o.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:r.Il.white,hcLight:"#292929"},n.NC("editorLineNumbers","Color of editor line numbers.")),v=(0,o.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:o.xL1,hcLight:o.xL1},n.NC("editorActiveLineNumber","Color of editor active line number"),!1,n.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),C=(0,o.P6G)("editorLineNumber.activeForeground",{dark:v,light:v,hcDark:v,hcLight:v},n.NC("editorActiveLineNumber","Color of editor active line number")),S=(0,o.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:r.Il.lightgrey,hcDark:r.Il.white,hcLight:"#292929"},n.NC("editorRuler","Color of the editor rulers.")),w=((0,o.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},n.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,o.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},n.NC("editorBracketMatchBackground","Background color behind matching brackets"))),L=(0,o.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:o.lRK,hcLight:o.lRK},n.NC("editorBracketMatchBorder","Color for matching brackets boxes")),I=(0,o.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},n.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),N=(0,o.P6G)("editorOverviewRuler.background",null,n.NC("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),x=(0,o.P6G)("editorGutter.background",{dark:o.cvW,light:o.cvW,hcDark:o.cvW,hcLight:o.cvW},n.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),y=(0,o.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:r.Il.fromHex("#fff").transparent(.8),hcLight:o.lRK},n.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),D=(0,o.P6G)("editorUnnecessaryCode.opacity",{dark:r.Il.fromHex("#000a"),light:r.Il.fromHex("#0007"),hcDark:null,hcLight:null},n.NC("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),T=(0,o.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:r.Il.fromHex("#fff").transparent(.8),hcLight:r.Il.fromHex("#292929").transparent(.8)},n.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),B=(0,o.P6G)("editorGhostText.foreground",{dark:r.Il.fromHex("#ffffff56"),light:r.Il.fromHex("#0007"),hcDark:null,hcLight:null},n.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),E=(0,o.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},n.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),A=new r.Il(new r.VS(0,122,204,.6)),O=(0,o.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:A,light:A,hcDark:A,hcLight:A},n.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),F=(0,o.P6G)("editorOverviewRuler.errorForeground",{dark:new r.Il(new r.VS(255,18,18,.7)),light:new r.Il(new r.VS(255,18,18,.7)),hcDark:new r.Il(new r.VS(255,50,50,1)),hcLight:"#B5200D"},n.NC("overviewRuleError","Overview ruler marker color for errors.")),P=(0,o.P6G)("editorOverviewRuler.warningForeground",{dark:o.uoC,light:o.uoC,hcDark:o.pW3,hcLight:o.pW3},n.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),M=(0,o.P6G)("editorOverviewRuler.infoForeground",{dark:o.c63,light:o.c63,hcDark:o.T83,hcLight:o.T83},n.NC("overviewRuleInfo","Overview ruler marker color for infos.")),R=(0,o.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},n.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),z=(0,o.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},n.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),H=(0,o.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},n.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),V=(0,o.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),W=(0,o.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),q=(0,o.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),U=(0,o.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new r.Il(new r.VS(255,18,18,.8)),light:new r.Il(new r.VS(255,18,18,.8)),hcDark:new r.Il(new r.VS(255,50,50,1)),hcLight:""},n.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),j=(0,o.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),G=(0,o.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),$=(0,o.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),K=(0,o.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Y=(0,o.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Q=(0,o.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),X=(0,o.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),J=(0,o.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Z=(0,o.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),tt=(0,o.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),et=(0,o.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),it=(0,o.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,o.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},n.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,o.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},n.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,s.Ic)(((t,e)=>{const i=t.getColor(o.cvW);i&&e.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${i}; }`);const n=t.getColor(h),r=n&&!n.isTransparent()?n:i;r&&e.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${r}; }`);const s=t.getColor(o.NOs);s&&e.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${s}; }`);const l=t.getColor(x);l&&e.addRule(`.monaco-editor .margin { background-color: ${l}; }`);const f=t.getColor(c);f&&e.addRule(`.monaco-editor .rangeHighlight { background-color: ${f}; }`);const p=t.getColor(d);p&&e.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,a.c3)(t.type)?"dotted":"solid"} ${p}; }`);const _=t.getColor(u);_&&e.addRule(`.monaco-editor .symbolHighlight { background-color: ${_}; }`);const k=t.getColor(g);k&&e.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,a.c3)(t.type)?"dotted":"solid"} ${k}; }`);const b=t.getColor(m);b&&(e.addRule(`.monaco-editor .mtkw { color: ${b} !important; }`),e.addRule(`.monaco-editor .mtkz { color: ${b} !important; }`))}))},3795:(t,e,i)=>{function n(t){let e=0,i=0,n=0,r=0;for(let o=0,s=t.length;o<s;o++){const a=t.charCodeAt(o);13===a?(0===e&&(i=o),e++,o+1<s&&10===t.charCodeAt(o+1)?(r|=2,o++):r|=3,n=o+1):10===a&&(r|=1,0===e&&(i=o),e++,n=o+1)}return 0===e&&(i=t.length),[e,i,t.length-n,r]}i.d(e,{Q:()=>n})},3033:(t,e,i)=>{i.d(e,{b:()=>a,q:()=>s});var n=i(3060),r=i(72);function o(t){return t.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class s{constructor(t,e,i,n){this.oldPosition=t,this.oldText=e,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${o(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${o(this.oldText)}")`:`(replace@${this.oldPosition} "${o(this.oldText)}" with "${o(this.newText)}")`}static _writeStringSize(t){return 4+2*t.length}static _writeString(t,e,i){const r=e.length;n.T4(t,r,i),i+=4;for(let o=0;o<r;o++)n.oq(t,e.charCodeAt(o),i),i+=2;return i}static _readString(t,e){const i=n.Ag(t,e);return e+=4,(0,r.kH)(t,e,i)}writeSize(){return 8+s._writeStringSize(this.oldText)+s._writeStringSize(this.newText)}write(t,e){return n.T4(t,this.oldPosition,e),e+=4,n.T4(t,this.newPosition,e),e+=4,e=s._writeString(t,this.oldText,e),e=s._writeString(t,this.newText,e)}static read(t,e,i){const r=n.Ag(t,e);e+=4;const o=n.Ag(t,e);e+=4;const a=s._readString(t,e);e+=s._writeStringSize(a);const h=s._readString(t,e);return e+=s._writeStringSize(h),i.push(new s(r,a,o,h)),e}}function a(t,e){if(null===t||0===t.length)return e;return new h(t,e).compress()}class h{constructor(t,e){this._prevEdits=t,this._currEdits=e,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let t=0,e=0,i=this._getPrev(t),n=this._getCurr(e);for(;t<this._prevLen||e<this._currLen;){if(null===i){this._acceptCurr(n),n=this._getCurr(++e);continue}if(null===n){this._acceptPrev(i),i=this._getPrev(++t);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++e);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++t);continue}if(n.oldPosition<i.newPosition){const[t,e]=h._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(t),n=e;continue}if(i.newPosition<n.oldPosition){const[t,e]=h._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(t),i=e;continue}let r,o;if(n.oldEnd===i.newEnd)r=i,o=n,i=this._getPrev(++t),n=this._getCurr(++e);else if(n.oldEnd<i.newEnd){const[t,s]=h._splitPrev(i,n.oldLength);r=t,o=n,i=s,n=this._getCurr(++e)}else{const[e,s]=h._splitCurr(n,i.newLength);r=i,o=e,i=this._getPrev(++t),n=s}this._result[this._resultLen++]=new s(r.oldPosition,r.oldText,o.newPosition,o.newText),this._prevDeltaOffset+=r.newLength-r.oldLength,this._currDeltaOffset+=o.newLength-o.oldLength}const r=h._merge(this._result);return h._removeNoOps(r)}_acceptCurr(t){this._result[this._resultLen++]=h._rebaseCurr(this._prevDeltaOffset,t),this._currDeltaOffset+=t.newLength-t.oldLength}_getCurr(t){return t<this._currLen?this._currEdits[t]:null}_acceptPrev(t){this._result[this._resultLen++]=h._rebasePrev(this._currDeltaOffset,t),this._prevDeltaOffset+=t.newLength-t.oldLength}_getPrev(t){return t<this._prevLen?this._prevEdits[t]:null}static _rebaseCurr(t,e){return new s(e.oldPosition-t,e.oldText,e.newPosition,e.newText)}static _rebasePrev(t,e){return new s(e.oldPosition,e.oldText,e.newPosition+t,e.newText)}static _splitPrev(t,e){const i=t.newText.substr(0,e),n=t.newText.substr(e);return[new s(t.oldPosition,t.oldText,t.newPosition,i),new s(t.oldEnd,"",t.newPosition+e,n)]}static _splitCurr(t,e){const i=t.oldText.substr(0,e),n=t.oldText.substr(e);return[new s(t.oldPosition,i,t.newPosition,t.newText),new s(t.oldPosition+e,n,t.newEnd,"")]}static _merge(t){if(0===t.length)return t;const e=[];let i=0,n=t[0];for(let r=1;r<t.length;r++){const o=t[r];n.oldEnd===o.oldPosition?n=new s(n.oldPosition,n.oldText+o.oldText,n.newPosition,n.newText+o.newText):(e[i++]=n,n=o)}return e[i++]=n,e}static _removeNoOps(t){if(0===t.length)return t;const e=[];let i=0;for(let n=0;n<t.length;n++){const r=t[n];r.oldText!==r.newText&&(e[i++]=r)}return e}}},2075:(t,e,i)=>{i.d(e,{D:()=>n});const n={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},5797:(t,e,i)=>{i.d(e,{N:()=>n});class n{static getLanguageId(t){return(255&t)>>>0}static getTokenType(t){return(768&t)>>>8}static containsBalancedBrackets(t){return 0!=(1024&t)}static getFontStyle(t){return(30720&t)>>>11}static getForeground(t){return(16744448&t)>>>15}static getBackground(t){return(4278190080&t)>>>24}static getClassNameFromMetadata(t){let e="mtk"+this.getForeground(t);const i=this.getFontStyle(t);return 1&i&&(e+=" mtki"),2&i&&(e+=" mtkb"),4&i&&(e+=" mtku"),8&i&&(e+=" mtks"),e}static getInlineStyleFromMetadata(t,e){const i=this.getForeground(t),n=this.getFontStyle(t);let r=`color: ${e[i]};`;1&n&&(r+="font-style: italic;"),2&n&&(r+="font-weight: bold;");let o="";return 4&n&&(o+=" underline"),8&n&&(o+=" line-through"),o&&(r+=`text-decoration:${o};`),r}static getPresentationFromMetadata(t){const e=this.getForeground(t),i=this.getFontStyle(t);return{foreground:e,italic:Boolean(1&i),bold:Boolean(2&i),underline:Boolean(4&i),strikethrough:Boolean(8&i)}}}},1204:(t,e,i)=>{i.d(e,{AD:()=>k,DI:()=>m,MY:()=>s,RW:()=>b,WU:()=>f,WW:()=>o,bw:()=>r,gX:()=>n,gl:()=>l,hG:()=>p,mY:()=>h,uZ:()=>a,vx:()=>_});var n,r,o,s,a,h,l,c=i(3046),d=i(666),u=i(4314),g=i(1468);class f{constructor(t,e,i){this._tokenBrand=void 0,this.offset=t,this.type=e,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}}class p{constructor(t,e){this._tokenizationResultBrand=void 0,this.tokens=t,this.endState=e}}class m{constructor(t,e){this._encodedTokenizationResultBrand=void 0,this.tokens=t,this.endState=e}}function _(t){return t&&d.o.isUri(t.uri)&&u.e.isIRange(t.range)&&(u.e.isIRange(t.originSelectionRange)||u.e.isIRange(t.targetSelectionRange))}!function(t){const e=new Map;e.set(0,c.lA.symbolMethod),e.set(1,c.lA.symbolFunction),e.set(2,c.lA.symbolConstructor),e.set(3,c.lA.symbolField),e.set(4,c.lA.symbolVariable),e.set(5,c.lA.symbolClass),e.set(6,c.lA.symbolStruct),e.set(7,c.lA.symbolInterface),e.set(8,c.lA.symbolModule),e.set(9,c.lA.symbolProperty),e.set(10,c.lA.symbolEvent),e.set(11,c.lA.symbolOperator),e.set(12,c.lA.symbolUnit),e.set(13,c.lA.symbolValue),e.set(15,c.lA.symbolEnum),e.set(14,c.lA.symbolConstant),e.set(15,c.lA.symbolEnum),e.set(16,c.lA.symbolEnumMember),e.set(17,c.lA.symbolKeyword),e.set(27,c.lA.symbolSnippet),e.set(18,c.lA.symbolText),e.set(19,c.lA.symbolColor),e.set(20,c.lA.symbolFile),e.set(21,c.lA.symbolReference),e.set(22,c.lA.symbolCustomColor),e.set(23,c.lA.symbolFolder),e.set(24,c.lA.symbolTypeParameter),e.set(25,c.lA.account),e.set(26,c.lA.issues),t.toIcon=function(t){let i=e.get(t);return i||(i=c.lA.symbolProperty),i};const i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26),t.fromString=function(t,e){let n=i.get(t);return void 0!==n||e||(n=9),n}}(n||(n={})),function(t){t[t.Automatic=0]="Automatic",t[t.Explicit=1]="Explicit"}(r||(r={})),function(t){t[t.Invoke=1]="Invoke",t[t.TriggerCharacter=2]="TriggerCharacter",t[t.ContentChange=3]="ContentChange"}(o||(o={})),function(t){t[t.Text=0]="Text",t[t.Read=1]="Read",t[t.Write=2]="Write"}(s||(s={})),function(t){const e=new Map;e.set(0,c.lA.symbolFile),e.set(1,c.lA.symbolModule),e.set(2,c.lA.symbolNamespace),e.set(3,c.lA.symbolPackage),e.set(4,c.lA.symbolClass),e.set(5,c.lA.symbolMethod),e.set(6,c.lA.symbolProperty),e.set(7,c.lA.symbolField),e.set(8,c.lA.symbolConstructor),e.set(9,c.lA.symbolEnum),e.set(10,c.lA.symbolInterface),e.set(11,c.lA.symbolFunction),e.set(12,c.lA.symbolVariable),e.set(13,c.lA.symbolConstant),e.set(14,c.lA.symbolString),e.set(15,c.lA.symbolNumber),e.set(16,c.lA.symbolBoolean),e.set(17,c.lA.symbolArray),e.set(18,c.lA.symbolObject),e.set(19,c.lA.symbolKey),e.set(20,c.lA.symbolNull),e.set(21,c.lA.symbolEnumMember),e.set(22,c.lA.symbolStruct),e.set(23,c.lA.symbolEvent),e.set(24,c.lA.symbolOperator),e.set(25,c.lA.symbolTypeParameter),t.toIcon=function(t){let i=e.get(t);return i||(i=c.lA.symbolProperty),i}}(a||(a={}));class k{constructor(t){this.value=t}}k.Comment=new k("comment"),k.Imports=new k("imports"),k.Region=new k("region"),function(t){t.is=function(t){return!(!t||"object"!=typeof t)&&("string"==typeof t.id&&"string"==typeof t.title)}}(h||(h={})),function(t){t[t.Type=1]="Type",t[t.Parameter=2]="Parameter"}(l||(l={}));const b=new g.R},276:(t,e,i)=>{i.d(e,{Dy:()=>s,Ri:()=>o,TJ:()=>r});var n=i(1204);const r=new class{clone(){return this}equals(t){return this===t}};function o(t,e){return new n.hG([new n.WU(0,"",t)],e)}function s(t,e){const i=new Uint32Array(2);return i[0]=0,i[1]=(32768|t<<0|2<<24)>>>0,new n.DI(i,null===e?r:e)}},4973:(t,e,i)=>{i.d(e,{F5:()=>r,Hf:()=>l,Qi:()=>c,RM:()=>o,Tx:()=>d,dJ:()=>a,je:()=>u,pt:()=>g,sh:()=>n,tk:()=>h});var n,r,o,s=i(6248);!function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"}(n||(n={})),function(t){t[t.Inline=1]="Inline",t[t.Gutter=2]="Gutter"}(r||(r={})),function(t){t[t.Both=0]="Both",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.None=3]="None"}(o||(o={}));class a{constructor(t){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|t.tabSize),this.indentSize=0|t.tabSize,this.insertSpaces=Boolean(t.insertSpaces),this.defaultEOL=0|t.defaultEOL,this.trimAutoWhitespace=Boolean(t.trimAutoWhitespace),this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}equals(t){return this.tabSize===t.tabSize&&this.indentSize===t.indentSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace&&(0,s.fS)(this.bracketPairColorizationOptions,t.bracketPairColorizationOptions)}createChangeEvent(t){return{tabSize:this.tabSize!==t.tabSize,indentSize:this.indentSize!==t.indentSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}}}class h{constructor(t,e){this._findMatchBrand=void 0,this.range=t,this.matches=e}}function l(t){return t&&"function"==typeof t.read}class c{constructor(t,e,i,n,r,o){this.identifier=t,this.range=e,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=r,this._isTracked=o}}class d{constructor(t,e,i){this.regex=t,this.wordSeparators=e,this.simpleSearch=i}}class u{constructor(t,e,i){this.reverseEdits=t,this.changes=e,this.trimAutoWhitespaceLineNumbers=i}}function g(t){return!t.isTooLargeForSyncing()&&!t.isForSimpleWidget}},1720:(t,e,i)=>{i.d(e,{BH:()=>p,Dm:()=>_,Kd:()=>a,Y0:()=>h,n2:()=>m});var n=i(7988),r=i(5035),o=i(1761);class s{constructor(t){this._length=t}get length(){return this._length}}class a extends s{constructor(t,e,i,n,r){super(t),this.openingBracket=e,this.child=i,this.closingBracket=n,this.missingOpeningBracketIds=r}static create(t,e,i){let n=t.length;return e&&(n=(0,r.Ii)(n,e.length)),i&&(n=(0,r.Ii)(n,i.length)),new a(n,t,e,i,e?e.missingOpeningBracketIds:o.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(t){switch(t){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const t=new Array;return t.push(this.openingBracket),this.child&&t.push(this.child),this.closingBracket&&t.push(this.closingBracket),t}canBeReused(t){return null!==this.closingBracket&&!t.intersects(this.missingOpeningBracketIds)}deepClone(){return new a(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(t,e){return this.child?this.child.computeMinIndentation((0,r.Ii)(t,this.openingBracket.length),e):Number.MAX_SAFE_INTEGER}}class h extends s{constructor(t,e,i){super(t),this.listHeight=e,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}static create23(t,e,i,n=!1){let o=t.length,s=t.missingOpeningBracketIds;if(t.listHeight!==e.listHeight)throw new Error("Invalid list heights");if(o=(0,r.Ii)(o,e.length),s=s.merge(e.missingOpeningBracketIds),i){if(t.listHeight!==i.listHeight)throw new Error("Invalid list heights");o=(0,r.Ii)(o,i.length),s=s.merge(i.missingOpeningBracketIds)}return n?new c(o,t.listHeight+1,t,e,i,s):new l(o,t.listHeight+1,t,e,i,s)}static getEmpty(){return new u(r.xl,0,[],o.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const t=this.childrenLength;if(0===t)return;const e=this.getChild(t-1),i=4===e.kind?e.toMutable():e;return e!==i&&this.setChild(t-1,i),i}makeFirstElementMutable(){this.throwIfImmutable();if(0===this.childrenLength)return;const t=this.getChild(0),e=4===t.kind?t.toMutable():t;return t!==e&&this.setChild(0,e),e}canBeReused(t){if(t.intersects(this.missingOpeningBracketIds))return!1;let e,i=this;for(;4===i.kind&&(e=i.childrenLength)>0;)i=i.getChild(e-1);return i.canBeReused(t)}handleChildrenChanged(){this.throwIfImmutable();const t=this.childrenLength;let e=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let n=1;n<t;n++){const t=this.getChild(n);e=(0,r.Ii)(e,t.length),i=i.merge(t.missingOpeningBracketIds)}this._length=e,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(t,e){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,n=t;for(let t=0;t<this.childrenLength;t++){const o=this.getChild(t);o&&(i=Math.min(i,o.computeMinIndentation(n,e)),n=(0,r.Ii)(n,o.length))}return this.cachedMinIndentation=i,i}}class l extends h{constructor(t,e,i,n,r,o){super(t,e,o),this._item1=i,this._item2=n,this._item3=r}get childrenLength(){return null!==this._item3?3:2}getChild(t){switch(t){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(t,e){switch(t){case 0:return void(this._item1=e);case 1:return void(this._item2=e);case 2:return void(this._item3=e)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new l(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(t){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=t,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const t=this._item3;return this._item3=null,this.handleChildrenChanged(),t}prependChildOfSameHeight(t){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=t,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const t=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),t}toMutable(){return this}}class c extends l{toMutable(){return new l(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class d extends h{constructor(t,e,i,n){super(t,e,n),this._children=i}get childrenLength(){return this._children.length}getChild(t){return this._children[t]}setChild(t,e){this._children[t]=e}get children(){return this._children}deepClone(){const t=new Array(this._children.length);for(let e=0;e<this._children.length;e++)t[e]=this._children[e].deepClone();return new d(this.length,this.listHeight,t,this.missingOpeningBracketIds)}appendChildOfSameHeight(t){this.throwIfImmutable(),this._children.push(t),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const t=this._children.pop();return this.handleChildrenChanged(),t}prependChildOfSameHeight(t){this.throwIfImmutable(),this._children.unshift(t),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const t=this._children.shift();return this.handleChildrenChanged(),t}toMutable(){return this}}class u extends d{toMutable(){return new d(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const g=[];class f extends s{get listHeight(){return 0}get childrenLength(){return 0}getChild(t){return null}get children(){return g}deepClone(){return this}}class p extends f{get kind(){return 0}get missingOpeningBracketIds(){return o.tS.getEmpty()}canBeReused(t){return!0}computeMinIndentation(t,e){const i=(0,r.Hw)(t),o=(0===i.columnCount?i.lineCount:i.lineCount+1)+1,s=(0,r.W9)((0,r.Ii)(t,this.length))+1;let a=Number.MAX_SAFE_INTEGER;for(let t=o;t<=s;t++){const i=e.getLineFirstNonWhitespaceColumn(t),r=e.getLineContent(t);if(0===i)continue;const o=n.i.visibleColumnFromColumn(r,i,e.getOptions().tabSize);a=Math.min(a,o)}return a}}class m extends f{constructor(t,e,i){super(t),this.bracketInfo=e,this.bracketIds=i}static create(t,e,i){return new m(t,e,i)}get kind(){return 1}get missingOpeningBracketIds(){return o.tS.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(t){return!1}computeMinIndentation(t,e){return Number.MAX_SAFE_INTEGER}}class _ extends f{constructor(t,e){super(e),this.missingOpeningBracketIds=t}get kind(){return 3}canBeReused(t){return!t.intersects(this.missingOpeningBracketIds)}computeMinIndentation(t,e){return Number.MAX_SAFE_INTEGER}}},2442:(t,e,i)=>{i.d(e,{Q:()=>r,Y:()=>o});var n=i(5035);class r{constructor(t,e,i){this.startOffset=t,this.endOffset=e,this.newLength=i}}class o{constructor(t,e){this.documentLength=e,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=t.map((t=>s.from(t)))}getOffsetBeforeChange(t){return this.adjustNextEdit(t),this.translateCurToOld(t)}getDistanceToNextChange(t){this.adjustNextEdit(t);const e=this.edits[this.nextEditIdx],i=e?this.translateOldToCur(e.offsetObj):this.documentLength;return(0,n.BE)(t,i)}translateOldToCur(t){return t.lineCount===this.deltaLineIdxInOld?(0,n.Hg)(t.lineCount+this.deltaOldToNewLineCount,t.columnCount+this.deltaOldToNewColumnCount):(0,n.Hg)(t.lineCount+this.deltaOldToNewLineCount,t.columnCount)}translateCurToOld(t){const e=(0,n.Hw)(t);return e.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,n.Hg)(e.lineCount-this.deltaOldToNewLineCount,e.columnCount-this.deltaOldToNewColumnCount):(0,n.Hg)(e.lineCount-this.deltaOldToNewLineCount,e.columnCount)}adjustNextEdit(t){for(;this.nextEditIdx<this.edits.length;){const e=this.edits[this.nextEditIdx],i=this.translateOldToCur(e.endOffsetAfterObj);if(!(0,n.By)(i,t))break;{this.nextEditIdx++;const t=(0,n.Hw)(i),r=(0,n.Hw)(this.translateOldToCur(e.endOffsetBeforeObj)),o=t.lineCount-r.lineCount;this.deltaOldToNewLineCount+=o;const s=this.deltaLineIdxInOld===e.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,a=t.columnCount-r.columnCount;this.deltaOldToNewColumnCount=s+a,this.deltaLineIdxInOld=e.endOffsetBeforeObj.lineCount}}}}class s{constructor(t,e,i){this.endOffsetBeforeObj=(0,n.Hw)(e),this.endOffsetAfterObj=(0,n.Hw)((0,n.Ii)(t,i)),this.offsetObj=(0,n.Hw)(t)}static from(t){return new s(t.startOffset,t.endOffset,t.newLength)}}},5382:(t,e,i)=>{i.d(e,{Z:()=>l});var n=i(7295),r=i(1720),o=i(5035),s=i(1761),a=i(6735);class h{constructor(t){this.map=t,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(t,e){function i(t){return e.getKey(`${t.languageId}:::${t.bracketText}`)}const n=new Map;for(const e of t.bracketsNew.openingBrackets){const t=(0,o.Hg)(0,e.bracketText.length),h=i(e),l=s.tS.getEmpty().add(h,s.Qw);n.set(e.bracketText,new a.WU(t,1,h,l,r.n2.create(t,e,l)))}for(const e of t.bracketsNew.closingBrackets){const t=(0,o.Hg)(0,e.bracketText.length);let h=s.tS.getEmpty();const l=e.getClosedBrackets();for(const t of l)h=h.add(i(t),s.Qw);n.set(e.bracketText,new a.WU(t,2,i(l[0]),h,r.n2.create(t,e,h)))}return new h(n)}getRegExpStr(){if(this.isEmpty)return null;{const t=[...this.map.keys()];return t.sort(),t.reverse(),t.map((t=>function(t){let e=(0,n.ec)(t);/^[\w ]+/.test(t)&&(e=`\\b${e}`);/[\w ]+$/.test(t)&&(e=`${e}\\b`);return e}(t))).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const t=this.getRegExpStr();this._regExpGlobal=t?new RegExp(t,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(t){return this.map.get(t.toLowerCase())}findClosingTokenText(t){for(const[e,i]of this.map)if(2===i.kind&&i.bracketIds.intersects(t))return e}get isEmpty(){return 0===this.map.size}}class l{constructor(t,e){this.denseKeyProvider=t,this.getLanguageConfiguration=e,this.languageIdToBracketTokens=new Map}didLanguageChange(t){return this.languageIdToBracketTokens.has(t)}getSingleLanguageBracketTokens(t){let e=this.languageIdToBracketTokens.get(t);return e||(e=h.createFromLanguage(this.getLanguageConfiguration(t),this.denseKeyProvider),this.languageIdToBracketTokens.set(t,e)),e}}},5035:(t,e,i)=>{i.d(e,{BE:()=>p,By:()=>_,F_:()=>g,Hg:()=>c,Hw:()=>d,Ii:()=>f,PZ:()=>b,Qw:()=>v,VR:()=>m,W9:()=>u,Zq:()=>k,av:()=>s,oR:()=>C,xd:()=>h,xl:()=>a});var n=i(7295),r=i(4314);class o{constructor(t,e){this.lineCount=t,this.columnCount=e}toString(){return`${this.lineCount},${this.columnCount}`}}function s(t,e,i,n){return t!==i?c(i-t,n):c(0,n-e)}o.zero=new o(0,0);const a=0;function h(t){return 0===t}const l=Math.pow(2,26);function c(t,e){return t*l+e}function d(t){const e=t,i=Math.floor(e/l);return new o(i,e-i*l)}function u(t){return Math.floor(t/l)}function g(t){return t}function f(t,e){return e<l?t+e:t-t%l+e}function p(t,e){const i=t,n=e;if(n-i<=0)return a;const r=Math.floor(i/l),o=Math.floor(n/l),s=n-o*l;if(r===o){return c(0,s-(i-r*l))}return c(o-r,s)}function m(t,e){return t<e}function _(t,e){return t<=e}function k(t,e){return t>=e}function b(t){return c(t.lineNumber-1,t.column-1)}function v(t,e){const i=t,n=Math.floor(i/l),o=i-n*l,s=e,a=Math.floor(s/l),h=s-a*l;return new r.e(n+1,o+1,a+1,h+1)}function C(t){const e=(0,n.uq)(t);return c(e.length-1,e[e.length-1].length)}},3883:(t,e,i)=>{i.d(e,{w:()=>g});var n=i(1720),r=i(2442),o=i(1761),s=i(5035);function a(t,e=!1){if(0===t.length)return null;if(1===t.length)return t[0];let i=t.length;for(;i>3;){const r=i>>1;for(let o=0;o<r;o++){const r=o<<1;t[o]=n.Y0.create23(t[r],t[r+1],r+3===i?t[r+2]:null,e)}i=r}return n.Y0.create23(t[0],t[1],i>=3?t[2]:null,e)}function h(t,e){return Math.abs(t.listHeight-e.listHeight)}function l(t,e){return t.listHeight===e.listHeight?n.Y0.create23(t,e,null,!1):t.listHeight>e.listHeight?function(t,e){let i=t=t.toMutable();const r=new Array;let o;for(;;){if(e.listHeight===i.listHeight){o=e;break}if(4!==i.kind)throw new Error("unexpected");r.push(i),i=i.makeLastElementMutable()}for(let t=r.length-1;t>=0;t--){const e=r[t];o?e.childrenLength>=3?o=n.Y0.create23(e.unappendChild(),o,null,!1):(e.appendChildOfSameHeight(o),o=void 0):e.handleChildrenChanged()}return o?n.Y0.create23(t,o,null,!1):t}(t,e):function(t,e){let i=t=t.toMutable();const r=new Array;for(;e.listHeight!==i.listHeight;){if(4!==i.kind)throw new Error("unexpected");r.push(i),i=i.makeFirstElementMutable()}let o=e;for(let t=r.length-1;t>=0;t--){const e=r[t];o?e.childrenLength>=3?o=n.Y0.create23(o,e.unprependChild(),null,!1):(e.prependChildOfSameHeight(o),o=void 0):e.handleChildrenChanged()}return o?n.Y0.create23(o,t,null,!1):t}(e,t)}class c{constructor(t){this.lastOffset=s.xl,this.nextNodes=[t],this.offsets=[s.xl],this.idxs=[]}readLongestNodeAt(t,e){if((0,s.VR)(t,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=t;;){const i=u(this.nextNodes);if(!i)return;const n=u(this.offsets);if((0,s.VR)(t,n))return;if((0,s.VR)(n,t))if((0,s.Ii)(n,i.length)<=t)this.nextNodeAfterCurrent();else{const t=d(i);-1!==t?(this.nextNodes.push(i.getChild(t)),this.offsets.push(n),this.idxs.push(t)):this.nextNodeAfterCurrent()}else{if(e(i))return this.nextNodeAfterCurrent(),i;{const t=d(i);if(-1===t)return void this.nextNodeAfterCurrent();this.nextNodes.push(i.getChild(t)),this.offsets.push(n),this.idxs.push(t)}}}}nextNodeAfterCurrent(){for(;;){const t=u(this.offsets),e=u(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const i=u(this.nextNodes),n=d(i,this.idxs[this.idxs.length-1]);if(-1!==n){this.nextNodes.push(i.getChild(n)),this.offsets.push((0,s.Ii)(t,e.length)),this.idxs[this.idxs.length-1]=n;break}this.idxs.pop()}}}function d(t,e=-1){for(;;){if(++e>=t.childrenLength)return-1;if(t.getChild(e))return e}}function u(t){return t.length>0?t[t.length-1]:void 0}function g(t,e,i,n){return new f(t,e,i,n).parseDocument()}class f{constructor(t,e,i,n){if(this.tokenizer=t,this.createImmutableLists=n,this._itemsConstructed=0,this._itemsFromCache=0,i&&n)throw new Error("Not supported");this.oldNodeReader=i?new c(i):void 0,this.positionMapper=new r.Y(e,t.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let t=this.parseList(o.tS.getEmpty());return t||(t=n.Y0.getEmpty()),t}parseList(t){const e=new Array;for(;;){const i=this.tokenizer.peek();if(!i||2===i.kind&&i.bracketIds.intersects(t))break;const n=this.parseChild(t);4===n.kind&&0===n.childrenLength||e.push(n)}const i=this.oldNodeReader?function(t){if(0===t.length)return null;if(1===t.length)return t[0];let e=0;function i(){if(e>=t.length)return null;const i=e,n=t[i].listHeight;for(e++;e<t.length&&t[e].listHeight===n;)e++;return e-i>=2?a(0===i&&e===t.length?t:t.slice(i,e),!1):t[i]}let n=i(),r=i();if(!r)return n;for(let t=i();t;t=i())h(n,r)<=h(r,t)?(n=l(n,r),r=t):r=l(r,t);return l(n,r)}(e):a(e,this.createImmutableLists);return i}parseChild(t){if(this.oldNodeReader){const e=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,s.xd)(e)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(i=>{if(!(0,s.VR)(i.length,e))return!1;return i.canBeReused(t)}));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}this._itemsConstructed++;const e=this.tokenizer.read();switch(e.kind){case 2:return new n.Dm(e.bracketIds,e.length);case 0:return e.astNode;case 1:{const i=t.merge(e.bracketIds),r=this.parseList(i),o=this.tokenizer.peek();return o&&2===o.kind&&(o.bracketId===e.bracketId||o.bracketIds.intersects(e.bracketIds))?(this.tokenizer.read(),n.Kd.create(e.astNode,r,o.astNode)):n.Kd.create(e.astNode,r,null)}default:throw new Error("unexpected")}}}},1761:(t,e,i)=>{i.d(e,{FE:()=>s,Qw:()=>o,tS:()=>r});const n=new Array;class r{constructor(t,e){this.items=t,this.additionalItems=e}static create(t,e){if(t<=128&&0===e.length){let i=r.cache[t];return i||(i=new r(t,e),r.cache[t]=i),i}return new r(t,e)}static getEmpty(){return this.empty}add(t,e){const i=e.getKey(t);let n=i>>5;if(0===n){const t=1<<i|this.items;return t===this.items?this:r.create(t,this.additionalItems)}n--;const o=this.additionalItems.slice(0);for(;o.length<n;)o.push(0);return o[n]|=1<<(31&i),r.create(this.items,o)}merge(t){const e=this.items|t.items;if(this.additionalItems===n&&t.additionalItems===n)return e===this.items?this:e===t.items?t:r.create(e,n);const i=new Array;for(let e=0;e<Math.max(this.additionalItems.length,t.additionalItems.length);e++){const n=this.additionalItems[e]||0,r=t.additionalItems[e]||0;i.push(n|r)}return r.create(e,i)}intersects(t){if(0!=(this.items&t.items))return!0;for(let e=0;e<Math.min(this.additionalItems.length,t.additionalItems.length);e++)if(0!=(this.additionalItems[e]&t.additionalItems[e]))return!0;return!1}}r.cache=new Array(129),r.empty=r.create(0,n);const o={getKey:t=>t};class s{constructor(){this.items=new Map}getKey(t){let e=this.items.get(t);return void 0===e&&(e=this.items.size,this.items.set(t,e)),e}}},6735:(t,e,i)=>{i.d(e,{WU:()=>h,g:()=>d,xH:()=>l});var n=i(7301),r=i(5797),o=i(1720),s=i(5035),a=i(1761);class h{constructor(t,e,i,n,r){this.length=t,this.kind=e,this.bracketId=i,this.bracketIds=n,this.astNode=r}}class l{constructor(t,e){this.textModel=t,this.bracketTokens=e,this.reader=new c(this.textModel,this.bracketTokens),this._offset=s.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,s.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(t){this.didPeek=!1,this._offset=(0,s.Ii)(this._offset,t);const e=(0,s.Hw)(this._offset);this.reader.setPosition(e.lineCount,e.columnCount)}read(){let t;return this.peeked?(this.didPeek=!1,t=this.peeked):t=this.reader.read(),t&&(this._offset=(0,s.Ii)(this._offset,t.length)),t}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class c{constructor(t,e){this.textModel=t,this.bracketTokens=e,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}setPosition(t,e){t===this.lineIdx?(this.lineCharOffset=e,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=t,this.lineCharOffset=e,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const t=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,s.F_)(t.length),t}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const t=this.lineIdx,e=this.lineCharOffset;let i=0;for(;;){const n=this.lineTokens,o=n.getCount();let a=null;if(this.lineTokenOffset<o){const h=n.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<o&&h===n.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const l=0===r.N.getTokenType(h),c=r.N.containsBalancedBrackets(h),d=n.getEndOffset(this.lineTokenOffset);if(c&&l&&this.lineCharOffset<d){const t=n.getLanguageId(this.lineTokenOffset),e=this.line.substring(this.lineCharOffset,d),i=this.bracketTokens.getSingleLanguageBracketTokens(t),r=i.regExpGlobal;if(r){r.lastIndex=0;const t=r.exec(e);t&&(a=i.getToken(t[0]),a&&(this.lineCharOffset+=t.index))}}if(i+=d-this.lineCharOffset,a){if(t!==this.lineIdx||e!==this.lineCharOffset){this.peekedToken=a;break}return this.lineCharOffset+=(0,s.F_)(a.length),a}this.lineTokenOffset++,this.lineCharOffset=d}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3)break}if(i>1500)break}const n=(0,s.av)(t,e,this.lineIdx,this.lineCharOffset);return new h(n,0,-1,a.tS.getEmpty(),new o.BH(n))}}class d{constructor(t,e){this.text=t,this._offset=s.xl,this.idx=0;const i=e.getRegExpStr(),n=i?new RegExp(i+"|\n","gi"):null,r=[];let l,c=0,d=0,u=0,g=0;const f=new Array;for(let t=0;t<60;t++)f.push(new h((0,s.Hg)(0,t),0,-1,a.tS.getEmpty(),new o.BH((0,s.Hg)(0,t))));const p=new Array;for(let t=0;t<60;t++)p.push(new h((0,s.Hg)(1,t),0,-1,a.tS.getEmpty(),new o.BH((0,s.Hg)(1,t))));if(n)for(n.lastIndex=0;null!==(l=n.exec(t));){const t=l.index,i=l[0];if("\n"===i)c++,d=t+1;else{if(u!==t){let e;if(g===c){const i=t-u;if(i<f.length)e=f[i];else{const t=(0,s.Hg)(0,i);e=new h(t,0,-1,a.tS.getEmpty(),new o.BH(t))}}else{const i=c-g,n=t-d;if(1===i&&n<p.length)e=p[n];else{const t=(0,s.Hg)(i,n);e=new h(t,0,-1,a.tS.getEmpty(),new o.BH(t))}}r.push(e)}r.push(e.getToken(i)),u=t+i.length,g=c}}const m=t.length;if(u!==m){const t=g===c?(0,s.Hg)(0,m-u):(0,s.Hg)(c-g,m-d);r.push(new h(t,0,-1,a.tS.getEmpty(),new o.BH(t)))}this.length=(0,s.Hg)(c,m-d),this.tokens=r}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(t){throw new n.B8}}},5215:(t,e,i)=>{i.d(e,{NL:()=>p,e9:()=>f});var n=i(3580),r=i(7301),o=i(3860),s=i(666),a=i(3033),h=i(3060),l=i(5935);function c(t){return t.toString()}class d{constructor(t,e,i,n,r,o,s){this.beforeVersionId=t,this.afterVersionId=e,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=r,this.afterCursorState=o,this.changes=s}static create(t,e){const i=t.getAlternativeVersionId(),n=g(t);return new d(i,i,n,n,e,e,[])}append(t,e,i,n,r){e.length>0&&(this.changes=(0,a.b)(this.changes,e)),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=r}static _writeSelectionsSize(t){return 4+16*(t?t.length:0)}static _writeSelections(t,e,i){if(h.T4(t,e?e.length:0,i),i+=4,e)for(const n of e)h.T4(t,n.selectionStartLineNumber,i),i+=4,h.T4(t,n.selectionStartColumn,i),i+=4,h.T4(t,n.positionLineNumber,i),i+=4,h.T4(t,n.positionColumn,i),i+=4;return i}static _readSelections(t,e,i){const n=h.Ag(t,e);e+=4;for(let r=0;r<n;r++){const n=h.Ag(t,e);e+=4;const r=h.Ag(t,e);e+=4;const s=h.Ag(t,e);e+=4;const a=h.Ag(t,e);e+=4,i.push(new o.Y(n,r,s,a))}return e}serialize(){let t=10+d._writeSelectionsSize(this.beforeCursorState)+d._writeSelectionsSize(this.afterCursorState)+4;for(const e of this.changes)t+=e.writeSize();const e=new Uint8Array(t);let i=0;h.T4(e,this.beforeVersionId,i),i+=4,h.T4(e,this.afterVersionId,i),i+=4,h.Cg(e,this.beforeEOL,i),i+=1,h.Cg(e,this.afterEOL,i),i+=1,i=d._writeSelections(e,this.beforeCursorState,i),i=d._writeSelections(e,this.afterCursorState,i),h.T4(e,this.changes.length,i),i+=4;for(const t of this.changes)i=t.write(e,i);return e.buffer}static deserialize(t){const e=new Uint8Array(t);let i=0;const n=h.Ag(e,i);i+=4;const r=h.Ag(e,i);i+=4;const o=h.Q$(e,i);i+=1;const s=h.Q$(e,i);i+=1;const l=[];i=d._readSelections(e,i,l);const c=[];i=d._readSelections(e,i,c);const u=h.Ag(e,i);i+=4;const g=[];for(let t=0;t<u;t++)i=a.q.read(e,i,g);return new d(n,r,o,s,l,c,g)}}class u{constructor(t,e,i,n){this.label=t,this.code=e,this.model=i,this._data=d.create(i,n)}get type(){return 0}get resource(){return s.o.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof d?this._data:d.deserialize(this._data)).changes.map((t=>t.toString())).join(", ")}matchesResource(t){return(s.o.isUri(this.model)?this.model:this.model.uri).toString()===t.toString()}setModel(t){this.model=t}canAppend(t){return this.model===t&&this._data instanceof d}append(t,e,i,n,r){this._data instanceof d&&this._data.append(t,e,i,n,r)}close(){this._data instanceof d&&(this._data=this._data.serialize())}open(){this._data instanceof d||(this._data=d.deserialize(this._data))}undo(){if(s.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof d&&(this._data=this._data.serialize());const t=d.deserialize(this._data);this.model._applyUndo(t.changes,t.beforeEOL,t.beforeVersionId,t.beforeCursorState)}redo(){if(s.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof d&&(this._data=this._data.serialize());const t=d.deserialize(this._data);this.model._applyRedo(t.changes,t.afterEOL,t.afterVersionId,t.afterCursorState)}heapSize(){return this._data instanceof d&&(this._data=this._data.serialize()),this._data.byteLength+168}}function g(t){return"\n"===t.getEOL()?0:1}function f(t){return!!t&&(t instanceof u||t instanceof class{constructor(t,e,i){this.label=t,this.code=e,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const t of this._editStackElementsArr){const e=c(t.resource);this._editStackElementsMap.set(e,t)}this._delegate=null}get resources(){return this._editStackElementsArr.map((t=>t.resource))}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(t){const e=c(t);return this._editStackElementsMap.has(e)}setModel(t){const e=c(s.o.isUri(t)?t:t.uri);this._editStackElementsMap.has(e)&&this._editStackElementsMap.get(e).setModel(t)}canAppend(t){if(!this._isOpen)return!1;const e=c(t.uri);return!!this._editStackElementsMap.has(e)&&this._editStackElementsMap.get(e).canAppend(t)}append(t,e,i,n,r){const o=c(t.uri);this._editStackElementsMap.get(o).append(t,e,i,n,r)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const t of this._editStackElementsArr)t.undo()}redo(){for(const t of this._editStackElementsArr)t.redo()}heapSize(t){const e=c(t);return this._editStackElementsMap.has(e)?this._editStackElementsMap.get(e).heapSize():0}split(){return this._editStackElementsArr}toString(){const t=[];for(const e of this._editStackElementsArr)t.push(`${(0,l.EZ)(e.resource)}: ${e}`);return`{${t.join(", ")}}`}})}class p{constructor(t,e){this._model=t,this._undoRedoService=e}pushStackElement(){const t=this._undoRedoService.getLastElement(this._model.uri);f(t)&&t.close()}popStackElement(){const t=this._undoRedoService.getLastElement(this._model.uri);f(t)&&t.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(t){const e=this._undoRedoService.getLastElement(this._model.uri);if(f(e)&&e.canAppend(this._model))return e;const i=new u(n.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,t);return this._undoRedoService.pushElement(i),i}pushEOL(t){const e=this._getOrCreateEditStackElement(null);this._model.setEOL(t),e.append(this._model,[],g(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(t,e,i){const n=this._getOrCreateEditStackElement(t),r=this._model.applyEdits(e,!0),o=p._computeCursorState(i,r),s=r.map(((t,e)=>({index:e,textChange:t.textChange})));return s.sort(((t,e)=>t.textChange.oldPosition===e.textChange.oldPosition?t.index-e.index:t.textChange.oldPosition-e.textChange.oldPosition)),n.append(this._model,s.map((t=>t.textChange)),g(this._model),this._model.getAlternativeVersionId(),o),o}static _computeCursorState(t,e){try{return t?t(e):null}catch(t){return(0,r.dL)(t),null}}}},1516:(t,e,i)=>{i.d(e,{W:()=>d,l:()=>c});var n=i(9488),r=i(7295),o=i(7988),s=i(4314),a=i(4954),h=i(9616),l=i(5094);class c extends a.U{constructor(t,e){super(),this.textModel=t,this.languageConfigurationService=e}getLanguageConfiguration(t){return this.languageConfigurationService.getLanguageConfiguration(t)}_computeIndentLevel(t){return(0,h.q)(this.textModel.getLineContent(t+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(t,e,i){this.assertNotDisposed();const n=this.textModel.getLineCount();if(t<1||t>n)throw new Error("Illegal value for lineNumber");const r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=Boolean(r&&r.offSide);let s=-2,a=-1,h=-2,l=-1;const c=t=>{if(-1!==s&&(-2===s||s>t-1)){s=-1,a=-1;for(let e=t-2;e>=0;e--){const t=this._computeIndentLevel(e);if(t>=0){s=e,a=t;break}}}if(-2===h){h=-1,l=-1;for(let e=t;e<n;e++){const t=this._computeIndentLevel(e);if(t>=0){h=e,l=t;break}}}};let d=-2,u=-1,g=-2,f=-1;const p=t=>{if(-2===d){d=-1,u=-1;for(let e=t-2;e>=0;e--){const t=this._computeIndentLevel(e);if(t>=0){d=e,u=t;break}}}if(-1!==g&&(-2===g||g<t-1)){g=-1,f=-1;for(let e=t;e<n;e++){const t=this._computeIndentLevel(e);if(t>=0){g=e,f=t;break}}}};let m=0,_=!0,k=0,b=!0,v=0,C=0;for(let r=0;_||b;r++){const s=t-r,g=t+r;r>1&&(s<1||s<e)&&(_=!1),r>1&&(g>n||g>i)&&(b=!1),r>5e4&&(_=!1,b=!1);let S=-1;if(_&&s>=1){const t=this._computeIndentLevel(s-1);t>=0?(h=s-1,l=t,S=Math.ceil(t/this.textModel.getOptions().indentSize)):(c(s),S=this._getIndentLevelForWhitespaceLine(o,a,l))}let w=-1;if(b&&g<=n){const t=this._computeIndentLevel(g-1);t>=0?(d=g-1,u=t,w=Math.ceil(t/this.textModel.getOptions().indentSize)):(p(g),w=this._getIndentLevelForWhitespaceLine(o,u,f))}if(0!==r){if(1===r){if(g<=n&&w>=0&&C+1===w){_=!1,m=g,k=g,v=w;continue}if(s>=1&&S>=0&&S-1===C){b=!1,m=s,k=s,v=S;continue}if(m=t,k=t,v=C,0===v)return{startLineNumber:m,endLineNumber:k,indent:v}}_&&(S>=v?m=s:_=!1),b&&(w>=v?k=g:b=!1)}else C=S}return{startLineNumber:m,endLineNumber:k,indent:v}}getLinesBracketGuides(t,e,i,o){var a;const h=[];for(let i=t;i<=e;i++)h.push([]);const c=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new s.e(t,1,e,this.textModel.getLineMaxColumn(e)));let u;if(i&&c.length>0){const r=(t<=i.lineNumber&&i.lineNumber<=e?c:this.textModel.bracketPairs.getBracketPairsInRange(s.e.fromPositions(i))).filter((t=>s.e.strictContainsPosition(t.range,i)));u=null===(a=(0,n.dF)(r,(t=>true)))||void 0===a?void 0:a.range}const g=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,f=new d;for(const i of c){if(!i.closingBracketRange)continue;const n=u&&i.range.equalsRange(u);if(!n&&!o.includeInactive)continue;const s=f.getInlineClassName(i.nestingLevel,i.nestingLevelOfEqualBracketType,g)+(o.highlightActive&&n?" "+f.activeClassName:""),a=i.openingBracketRange.getStartPosition(),c=i.closingBracketRange.getStartPosition(),d=o.horizontalGuides===l.s6.Enabled||o.horizontalGuides===l.s6.EnabledForActive&&n;if(i.range.startLineNumber===i.range.endLineNumber){d&&h[i.range.startLineNumber-t].push(new l.UO(-1,i.openingBracketRange.getEndPosition().column,s,new l.vW(!1,c.column),-1,-1));continue}const p=this.getVisibleColumnFromPosition(c),m=this.getVisibleColumnFromPosition(i.openingBracketRange.getStartPosition()),_=Math.min(m,p,i.minVisibleColumnIndentation+1);let k=!1;r.LC(this.textModel.getLineContent(i.closingBracketRange.startLineNumber))<i.closingBracketRange.startColumn-1&&(k=!0);const b=Math.max(a.lineNumber,t),v=Math.min(c.lineNumber,e),C=k?1:0;for(let e=b;e<v+C;e++)h[e-t].push(new l.UO(_,-1,s,null,e===a.lineNumber?a.column:-1,e===c.lineNumber?c.column:-1));d&&(a.lineNumber>=t&&m>_&&h[a.lineNumber-t].push(new l.UO(_,-1,s,new l.vW(!1,a.column),-1,-1)),c.lineNumber<=e&&p>_&&h[c.lineNumber-t].push(new l.UO(_,-1,s,new l.vW(!k,c.column),-1,-1)))}for(const t of h)t.sort(((t,e)=>t.visibleColumn-e.visibleColumn));return h}getVisibleColumnFromPosition(t){return o.i.visibleColumnFromColumn(this.textModel.getLineContent(t.lineNumber),t.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(t,e){this.assertNotDisposed();const i=this.textModel.getLineCount();if(t<1||t>i)throw new Error("Illegal value for startLineNumber");if(e<1||e>i)throw new Error("Illegal value for endLineNumber");const n=this.textModel.getOptions(),r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=Boolean(r&&r.offSide),s=new Array(e-t+1);let a=-2,h=-1,l=-2,c=-1;for(let r=t;r<=e;r++){const e=r-t,d=this._computeIndentLevel(r-1);if(d>=0)a=r-1,h=d,s[e]=Math.ceil(d/n.indentSize);else{if(-2===a){a=-1,h=-1;for(let t=r-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){a=t,h=e;break}}}if(-1!==l&&(-2===l||l<r-1)){l=-1,c=-1;for(let t=r;t<i;t++){const e=this._computeIndentLevel(t);if(e>=0){l=t,c=e;break}}}s[e]=this._getIndentLevelForWhitespaceLine(o,h,c)}}return s}_getIndentLevelForWhitespaceLine(t,e,i){const n=this.textModel.getOptions();return-1===e||-1===i?0:e<i?1+Math.floor(e/n.indentSize):e===i||t?Math.ceil(i/n.indentSize):1+Math.floor(i/n.indentSize)}}class d{constructor(){this.activeClassName="indent-active"}getInlineClassName(t,e,i){return this.getInlineClassNameOfLevel(i?e:t)}getInlineClassNameOfLevel(t){return"bracket-indent-guide lvl-"+t%30}}},2035:(t,e,i)=>{i.d(e,{HS:()=>xe,qx:()=>ye,yO:()=>be});var n=i(9488),r=i(1264),o=i(7301),s=i(4669),a=i(9917),h=i(7295),l=i(666),c=i(3795),d=i(3158),u=i(187),g=i(4314),f=i(3860),p=i(2075),m=i(2042),_=i(1381),k=i(4973);class b{constructor(t,e,i,n){this.range=t,this.nestingLevel=e,this.nestingLevelOfEqualBracketType=i,this.isInvalid=n}}class v extends class{constructor(t,e,i,n,r,o){this.range=t,this.openingBracketRange=e,this.closingBracketRange=i,this.nestingLevel=n,this.nestingLevelOfEqualBracketType=r,this.bracketPairNode=o}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}{constructor(t,e,i,n,r,o,s){super(t,e,i,n,r,o),this.minVisibleColumnIndentation=s}}var C=i(2442),S=i(5382),w=i(5035),L=i(3883),I=i(1761),N=i(6735);class x extends a.JT{constructor(t,e){if(super(),this.textModel=t,this.getLanguageConfiguration=e,this.didChangeEmitter=new s.Q5,this.denseKeyProvider=new I.FE,this.brackets=new S.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,0===t.tokenization.backgroundTokenizationState){const t=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),e=new N.g(this.textModel.getValue(),t);this.initialAstWithoutTokens=(0,L.w)(e,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===t.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===t.tokenization.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(t){return this.brackets.didLanguageChange(t)}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const t=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,t||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:t}){const e=t.map((t=>new C.Q((0,w.Hg)(t.fromLineNumber-1,0),(0,w.Hg)(t.toLineNumber,0),(0,w.Hg)(t.toLineNumber-t.fromLineNumber+1,0))));this.astWithTokens=this.parseDocumentFromTextBuffer(e,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(t){const e=t.changes.map((t=>{const e=g.e.lift(t.range);return new C.Q((0,w.PZ)(e.getStartPosition()),(0,w.PZ)(e.getEndPosition()),(0,w.oR)(t.text))})).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(e,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(e,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(t,e,i){const n=e,r=new N.xH(this.textModel,this.brackets);return(0,L.w)(r,t,n,i)}getBracketsInRange(t){const e=(0,w.Hg)(t.startLineNumber-1,t.startColumn-1),i=(0,w.Hg)(t.endLineNumber-1,t.endColumn-1),n=new Array,r=this.initialAstWithoutTokens||this.astWithTokens;return T(r,w.xl,r.length,e,i,n,0,new Map),n}getBracketPairsInRange(t,e){const i=new Array,n=(0,w.PZ)(t.getStartPosition()),r=(0,w.PZ)(t.getEndPosition()),o=this.initialAstWithoutTokens||this.astWithTokens,s=new B(i,e,this.textModel);return E(o,w.xl,o.length,n,r,s,0,new Map),i}getFirstBracketAfter(t){const e=this.initialAstWithoutTokens||this.astWithTokens;return D(e,w.xl,e.length,(0,w.PZ)(t))}getFirstBracketBefore(t){const e=this.initialAstWithoutTokens||this.astWithTokens;return y(e,w.xl,e.length,(0,w.PZ)(t))}}function y(t,e,i,n){if(4===t.kind||2===t.kind){const r=[];for(const n of t.children)i=(0,w.Ii)(e,n.length),r.push({nodeOffsetStart:e,nodeOffsetEnd:i}),e=i;for(let e=r.length-1;e>=0;e--){const{nodeOffsetStart:i,nodeOffsetEnd:o}=r[e];if((0,w.VR)(i,n)){const r=y(t.children[e],i,o,n);if(r)return r}}return null}if(3===t.kind)return null;if(1===t.kind){const n=(0,w.Qw)(e,i);return{bracketInfo:t.bracketInfo,range:n}}return null}function D(t,e,i,n){if(4===t.kind||2===t.kind){for(const r of t.children){if(i=(0,w.Ii)(e,r.length),(0,w.VR)(n,i)){const t=D(r,e,i,n);if(t)return t}e=i}return null}if(3===t.kind)return null;if(1===t.kind){const n=(0,w.Qw)(e,i);return{bracketInfo:t.bracketInfo,range:n}}return null}function T(t,e,i,n,r,o,s,a){if(!(s>200))if(4===t.kind)for(const h of t.children)i=(0,w.Ii)(e,h.length),(0,w.By)(e,r)&&(0,w.Zq)(i,n)&&T(h,e,i,n,r,o,s,a),e=i;else if(2===t.kind){let h=0;if(a){let e=a.get(t.openingBracket.text);void 0===e&&(e=0),h=e,e++,a.set(t.openingBracket.text,e)}{const a=t.openingBracket;if(i=(0,w.Ii)(e,a.length),(0,w.By)(e,r)&&(0,w.Zq)(i,n)){const n=(0,w.Qw)(e,i);o.push(new b(n,s,h,!t.closingBracket))}e=i}if(t.child){const h=t.child;i=(0,w.Ii)(e,h.length),(0,w.By)(e,r)&&(0,w.Zq)(i,n)&&T(h,e,i,n,r,o,s+1,a),e=i}if(t.closingBracket){const a=t.closingBracket;if(i=(0,w.Ii)(e,a.length),(0,w.By)(e,r)&&(0,w.Zq)(i,n)){const t=(0,w.Qw)(e,i);o.push(new b(t,s,h,!1))}e=i}null==a||a.set(t.openingBracket.text,h)}else if(3===t.kind){const t=(0,w.Qw)(e,i);o.push(new b(t,s-1,0,!0))}else if(1===t.kind){const t=(0,w.Qw)(e,i);o.push(new b(t,s-1,0,!1))}}class B{constructor(t,e,i){this.result=t,this.includeMinIndentation=e,this.textModel=i}}function E(t,e,i,n,r,o,s,a){var h;if(!(s>200))if(2===t.kind){let l=0;if(a){let e=a.get(t.openingBracket.text);void 0===e&&(e=0),l=e,e++,a.set(t.openingBracket.text,e)}const c=(0,w.Ii)(e,t.openingBracket.length);let d=-1;if(o.includeMinIndentation&&(d=t.computeMinIndentation(e,o.textModel)),o.result.push(new v((0,w.Qw)(e,i),(0,w.Qw)(e,c),t.closingBracket?(0,w.Qw)((0,w.Ii)(c,(null===(h=t.child)||void 0===h?void 0:h.length)||w.xl),i):void 0,s,l,t,d)),e=c,t.child){const h=t.child;i=(0,w.Ii)(e,h.length),(0,w.By)(e,r)&&(0,w.Zq)(i,n)&&E(h,e,i,n,r,o,s+1,a)}null==a||a.set(t.openingBracket.text,l)}else{let i=e;for(const e of t.children){const t=i;i=(0,w.Ii)(i,e.length),(0,w.By)(t,r)&&(0,w.By)(n,i)&&E(e,t,i,n,r,o,s,a)}}}var A=i(9111),O=i(4302);class F extends a.JT{constructor(t,e){super(),this.textModel=t,this.languageConfigurationService=e,this.bracketPairsTree=this._register(new a.XK),this.onDidChangeEmitter=new s.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange((t=>{var e;t.languageId&&!(null===(e=this.bracketPairsTree.value)||void 0===e?void 0:e.object.didLanguageChange(t.languageId))||(this.bracketPairsTree.clear(),this.updateBracketPairsTree())})))}get canBuildAST(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(t){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(t){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(t){var e;null===(e=this.bracketPairsTree.value)||void 0===e||e.object.handleContentChanged(t)}handleDidChangeBackgroundTokenizationState(){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(t){var e;null===(e=this.bracketPairsTree.value)||void 0===e||e.object.handleDidChangeTokens(t)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const i=new a.SL;this.bracketPairsTree.value=(t=i.add(new x(this.textModel,(t=>this.languageConfigurationService.getLanguageConfiguration(t)))),e=i,{object:t,dispose:()=>null==e?void 0:e.dispose()}),i.add(this.bracketPairsTree.value.object.onDidChange((t=>this.onDidChangeEmitter.fire(t)))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire());var t,e}getBracketPairsInRange(t){var e;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(e=this.bracketPairsTree.value)||void 0===e?void 0:e.object.getBracketPairsInRange(t,!1))||[]}getBracketPairsInRangeWithMinIndentation(t){var e;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(e=this.bracketPairsTree.value)||void 0===e?void 0:e.object.getBracketPairsInRange(t,!0))||[]}getBracketsInRange(t){var e;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(e=this.bracketPairsTree.value)||void 0===e?void 0:e.object.getBracketsInRange(t))||[]}findMatchingBracketUp(t,e,i){const r=this.textModel.validatePosition(e),o=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);if(this.canBuildAST){const i=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew.getClosingBracketInfo(t);if(!i)return null;const r=(0,n.dF)(this.getBracketPairsInRange(g.e.fromPositions(e,e))||[],(t=>i.closes(t.openingBracketInfo)));return r?r.openingBracketRange:null}{const e=t.toLowerCase(),n=this.languageConfigurationService.getLanguageConfiguration(o).brackets;if(!n)return null;const s=n.textIsBracket[e];return s?R(this._findMatchingBracketUp(s,r,P(i))):null}}matchBracket(t,e){if(this.canBuildAST){const e=(0,n.jV)(this.getBracketPairsInRange(g.e.fromPositions(t,t)).filter((e=>void 0!==e.closingBracketRange&&(e.openingBracketRange.containsPosition(t)||e.closingBracketRange.containsPosition(t)))),(0,n.tT)((e=>e.openingBracketRange.containsPosition(t)?e.openingBracketRange:e.closingBracketRange),g.e.compareRangesUsingStarts));return e?[e.openingBracketRange,e.closingBracketRange]:null}{const i=P(e);return this._matchBracket(this.textModel.validatePosition(t),i)}}_establishBracketSearchOffsets(t,e,i,n){const r=e.getCount(),o=e.getLanguageId(n);let s=Math.max(0,t.column-1-i.maxBracketLength);for(let t=n-1;t>=0;t--){const i=e.getEndOffset(t);if(i<=s)break;if((0,A.Bu)(e.getStandardTokenType(t))||e.getLanguageId(t)!==o){s=i;break}}let a=Math.min(e.getLineContent().length,t.column-1+i.maxBracketLength);for(let t=n+1;t<r;t++){const i=e.getStartOffset(t);if(i>=a)break;if((0,A.Bu)(e.getStandardTokenType(t))||e.getLanguageId(t)!==o){a=i;break}}return{searchStartOffset:s,searchEndOffset:a}}_matchBracket(t,e){const i=t.lineNumber,n=this.textModel.tokenization.getLineTokens(i),r=this.textModel.getLineContent(i),o=n.findTokenIndexAtOffset(t.column-1);if(o<0)return null;const s=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(o)).brackets;if(s&&!(0,A.Bu)(n.getStandardTokenType(o))){let{searchStartOffset:a,searchEndOffset:h}=this._establishBracketSearchOffsets(t,n,s,o),l=null;for(;;){const n=O.Vr.findNextBracketInRange(s.forwardRegex,i,r,a,h);if(!n)break;if(n.startColumn<=t.column&&t.column<=n.endColumn){const t=r.substring(n.startColumn-1,n.endColumn-1).toLowerCase(),i=this._matchFoundBracket(n,s.textIsBracket[t],s.textIsOpenBracket[t],e);if(i){if(i instanceof M)return null;l=i}}a=n.endColumn-1}if(l)return l}if(o>0&&n.getStartOffset(o)===t.column-1){const s=o-1,a=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(s)).brackets;if(a&&!(0,A.Bu)(n.getStandardTokenType(s))){const{searchStartOffset:o,searchEndOffset:h}=this._establishBracketSearchOffsets(t,n,a,s),l=O.Vr.findPrevBracketInRange(a.reversedRegex,i,r,o,h);if(l&&l.startColumn<=t.column&&t.column<=l.endColumn){const t=r.substring(l.startColumn-1,l.endColumn-1).toLowerCase(),i=this._matchFoundBracket(l,a.textIsBracket[t],a.textIsOpenBracket[t],e);if(i)return i instanceof M?null:i}}}return null}_matchFoundBracket(t,e,i,n){if(!e)return null;const r=i?this._findMatchingBracketDown(e,t.getEndPosition(),n):this._findMatchingBracketUp(e,t.getStartPosition(),n);return r?r instanceof M?r:[t,r]:null}_findMatchingBracketUp(t,e,i){const n=t.languageId,r=t.reversedRegex;let o=-1,s=0;const a=(e,n,a,h)=>{for(;;){if(i&&++s%100==0&&!i())return M.INSTANCE;const l=O.Vr.findPrevBracketInRange(r,e,n,a,h);if(!l)break;const c=n.substring(l.startColumn-1,l.endColumn-1).toLowerCase();if(t.isOpen(c)?o++:t.isClose(c)&&o--,0===o)return l;h=l.startColumn-1}return null};for(let t=e.lineNumber;t>=1;t--){const i=this.textModel.tokenization.getLineTokens(t),r=i.getCount(),o=this.textModel.getLineContent(t);let s=r-1,h=o.length,l=o.length;t===e.lineNumber&&(s=i.findTokenIndexAtOffset(e.column-1),h=e.column-1,l=e.column-1);let c=!0;for(;s>=0;s--){const e=i.getLanguageId(s)===n&&!(0,A.Bu)(i.getStandardTokenType(s));if(e)c?h=i.getStartOffset(s):(h=i.getStartOffset(s),l=i.getEndOffset(s));else if(c&&h!==l){const e=a(t,o,h,l);if(e)return e}c=e}if(c&&h!==l){const e=a(t,o,h,l);if(e)return e}}return null}_findMatchingBracketDown(t,e,i){const n=t.languageId,r=t.forwardRegex;let o=1,s=0;const a=(e,n,a,h)=>{for(;;){if(i&&++s%100==0&&!i())return M.INSTANCE;const l=O.Vr.findNextBracketInRange(r,e,n,a,h);if(!l)break;const c=n.substring(l.startColumn-1,l.endColumn-1).toLowerCase();if(t.isOpen(c)?o++:t.isClose(c)&&o--,0===o)return l;a=l.endColumn-1}return null},h=this.textModel.getLineCount();for(let t=e.lineNumber;t<=h;t++){const i=this.textModel.tokenization.getLineTokens(t),r=i.getCount(),o=this.textModel.getLineContent(t);let s=0,h=0,l=0;t===e.lineNumber&&(s=i.findTokenIndexAtOffset(e.column-1),h=e.column-1,l=e.column-1);let c=!0;for(;s<r;s++){const e=i.getLanguageId(s)===n&&!(0,A.Bu)(i.getStandardTokenType(s));if(e)c||(h=i.getStartOffset(s)),l=i.getEndOffset(s);else if(c&&h!==l){const e=a(t,o,h,l);if(e)return e}c=e}if(c&&h!==l){const e=a(t,o,h,l);if(e)return e}}return null}findPrevBracket(t){var e;const i=this.textModel.validatePosition(t);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(e=this.bracketPairsTree.value)||void 0===e?void 0:e.object.getFirstBracketBefore(i))||null;let n=null,r=null,o=null;for(let t=i.lineNumber;t>=1;t--){const e=this.textModel.tokenization.getLineTokens(t),s=e.getCount(),a=this.textModel.getLineContent(t);let h=s-1,l=a.length,c=a.length;if(t===i.lineNumber){h=e.findTokenIndexAtOffset(i.column-1),l=i.column-1,c=i.column-1;const t=e.getLanguageId(h);n!==t&&(n=t,r=this.languageConfigurationService.getLanguageConfiguration(n).brackets,o=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew)}let d=!0;for(;h>=0;h--){const i=e.getLanguageId(h);if(n!==i){if(r&&o&&d&&l!==c){const e=O.Vr.findPrevBracketInRange(r.reversedRegex,t,a,l,c);if(e)return this._toFoundBracket(o,e);d=!1}n=i,r=this.languageConfigurationService.getLanguageConfiguration(n).brackets,o=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew}const s=!!r&&!(0,A.Bu)(e.getStandardTokenType(h));if(s)d?l=e.getStartOffset(h):(l=e.getStartOffset(h),c=e.getEndOffset(h));else if(o&&r&&d&&l!==c){const e=O.Vr.findPrevBracketInRange(r.reversedRegex,t,a,l,c);if(e)return this._toFoundBracket(o,e)}d=s}if(o&&r&&d&&l!==c){const e=O.Vr.findPrevBracketInRange(r.reversedRegex,t,a,l,c);if(e)return this._toFoundBracket(o,e)}}return null}findNextBracket(t){var e;const i=this.textModel.validatePosition(t);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(e=this.bracketPairsTree.value)||void 0===e?void 0:e.object.getFirstBracketAfter(i))||null;const n=this.textModel.getLineCount();let r=null,o=null,s=null;for(let t=i.lineNumber;t<=n;t++){const e=this.textModel.tokenization.getLineTokens(t),n=e.getCount(),a=this.textModel.getLineContent(t);let h=0,l=0,c=0;if(t===i.lineNumber){h=e.findTokenIndexAtOffset(i.column-1),l=i.column-1,c=i.column-1;const t=e.getLanguageId(h);r!==t&&(r=t,o=this.languageConfigurationService.getLanguageConfiguration(r).brackets,s=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let d=!0;for(;h<n;h++){const i=e.getLanguageId(h);if(r!==i){if(s&&o&&d&&l!==c){const e=O.Vr.findNextBracketInRange(o.forwardRegex,t,a,l,c);if(e)return this._toFoundBracket(s,e);d=!1}r=i,o=this.languageConfigurationService.getLanguageConfiguration(r).brackets,s=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const n=!!o&&!(0,A.Bu)(e.getStandardTokenType(h));if(n)d||(l=e.getStartOffset(h)),c=e.getEndOffset(h);else if(s&&o&&d&&l!==c){const e=O.Vr.findNextBracketInRange(o.forwardRegex,t,a,l,c);if(e)return this._toFoundBracket(s,e)}d=n}if(s&&o&&d&&l!==c){const e=O.Vr.findNextBracketInRange(o.forwardRegex,t,a,l,c);if(e)return this._toFoundBracket(s,e)}}return null}findEnclosingBrackets(t,e){const i=this.textModel.validatePosition(t);if(this.canBuildAST){const t=g.e.fromPositions(i),e=(0,n.dF)(this.getBracketPairsInRange(g.e.fromPositions(i,i)),(e=>void 0!==e.closingBracketRange&&e.range.strictContainsRange(t)));return e?[e.openingBracketRange,e.closingBracketRange]:null}const r=P(e),o=this.textModel.getLineCount(),s=new Map;let a=[];const h=(t,e)=>{if(!s.has(t)){const i=[];for(let t=0,n=e?e.brackets.length:0;t<n;t++)i[t]=0;s.set(t,i)}a=s.get(t)};let l=0;const c=(t,e,i,n,o)=>{for(;;){if(r&&++l%100==0&&!r())return M.INSTANCE;const s=O.Vr.findNextBracketInRange(t.forwardRegex,e,i,n,o);if(!s)break;const h=i.substring(s.startColumn-1,s.endColumn-1).toLowerCase(),c=t.textIsBracket[h];if(c&&(c.isOpen(h)?a[c.index]++:c.isClose(h)&&a[c.index]--,-1===a[c.index]))return this._matchFoundBracket(s,c,!1,r);n=s.endColumn-1}return null};let d=null,u=null;for(let t=i.lineNumber;t<=o;t++){const e=this.textModel.tokenization.getLineTokens(t),n=e.getCount(),r=this.textModel.getLineContent(t);let o=0,s=0,a=0;if(t===i.lineNumber){o=e.findTokenIndexAtOffset(i.column-1),s=i.column-1,a=i.column-1;const t=e.getLanguageId(o);d!==t&&(d=t,u=this.languageConfigurationService.getLanguageConfiguration(d).brackets,h(d,u))}let l=!0;for(;o<n;o++){const i=e.getLanguageId(o);if(d!==i){if(u&&l&&s!==a){const e=c(u,t,r,s,a);if(e)return R(e);l=!1}d=i,u=this.languageConfigurationService.getLanguageConfiguration(d).brackets,h(d,u)}const n=!!u&&!(0,A.Bu)(e.getStandardTokenType(o));if(n)l||(s=e.getStartOffset(o)),a=e.getEndOffset(o);else if(u&&l&&s!==a){const e=c(u,t,r,s,a);if(e)return R(e)}l=n}if(u&&l&&s!==a){const e=c(u,t,r,s,a);if(e)return R(e)}}return null}_toFoundBracket(t,e){if(!e)return null;let i=this.textModel.getValueInRange(e);i=i.toLowerCase();const n=t.getBracketInfo(i);return n?{range:e,bracketInfo:n}:null}}function P(t){if(void 0===t)return()=>!0;{const e=Date.now();return()=>Date.now()-e<=t}}class M{constructor(){this._searchCanceledBrand=void 0}}function R(t){return t instanceof M?null:t}M.INSTANCE=new M;var z=i(8625),H=i(7781);class V extends a.JT{constructor(t){super(),this.textModel=t,this.colorProvider=new W,this.onDidChangeEmitter=new s.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=t.getOptions().bracketPairColorizationOptions,this._register(t.bracketPairs.onDidChange((t=>{this.onDidChangeEmitter.fire()})))}handleDidChangeOptions(t){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(t,e,i){if(void 0===e)return[];if(!this.colorizationOptions.enabled)return[];const n=new Array,r=this.textModel.bracketPairs.getBracketsInRange(t);for(const t of r)n.push({id:`bracket${t.range.toString()}-${t.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(t,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:t.range});return n}getAllDecorations(t,e){return void 0===t?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new g.e(1,1,this.textModel.getLineCount(),1),t,e):[]}}class W{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(t,e){return t.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(e?t.nestingLevelOfEqualBracketType:t.nestingLevel)}getInlineClassNameOfLevel(t){return"bracket-highlighting-"+t%30}}(0,H.Ic)(((t,e)=>{const i=[z.zJ,z.Vs,z.CE,z.UP,z.r0,z.m1],n=new W;e.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${t.getColor(z.ts)}; }`);const r=i.map((e=>t.getColor(e))).filter((t=>!!t)).filter((t=>!t.isTransparent()));for(let t=0;t<30;t++){const i=r[t%r.length];e.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(t)} { color: ${i}; }`)}}));var q=i(5215),U=i(1516);class j{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function G(t,e,i,n,r){let o;for(r.spacesDiff=0,r.looksLikeAlignment=!1,o=0;o<e&&o<n;o++){if(t.charCodeAt(o)!==i.charCodeAt(o))break}let s=0,a=0;for(let i=o;i<e;i++){32===t.charCodeAt(i)?s++:a++}let h=0,l=0;for(let t=o;t<n;t++){32===i.charCodeAt(t)?h++:l++}if(s>0&&a>0)return;if(h>0&&l>0)return;const c=Math.abs(a-l),d=Math.abs(s-h);if(0===c)return r.spacesDiff=d,void(d>0&&0<=h-1&&h-1<t.length&&h<i.length&&32!==i.charCodeAt(h)&&32===t.charCodeAt(h-1)&&44===t.charCodeAt(t.length-1)&&(r.looksLikeAlignment=!0));d%c!=0||(r.spacesDiff=d/c)}function $(t,e,i){const n=Math.min(t.getLineCount(),1e4);let r=0,o=0,s="",a=0;const h=[2,4,6,8,3,5,7],l=[0,0,0,0,0,0,0,0,0],c=new j;for(let h=1;h<=n;h++){const n=t.getLineLength(h),d=t.getLineContent(h),u=n<=65536;let g=!1,f=0,p=0,m=0;for(let e=0,i=n;e<i;e++){const i=u?d.charCodeAt(e):t.getLineCharCode(h,e);if(9===i)m++;else{if(32!==i){g=!0,f=e;break}p++}}if(!g)continue;if(m>0?r++:p>1&&o++,G(s,a,d,f,c),c.looksLikeAlignment&&(!i||e!==c.spacesDiff))continue;const _=c.spacesDiff;_<=8&&l[_]++,s=d,a=f}let d=i;r!==o&&(d=r<o);let u=e;if(d){let t=d?0:.1*n;h.forEach((e=>{const i=l[e];i>t&&(t=i,u=e)})),4===u&&l[4]>0&&l[2]>0&&l[2]>=l[4]/2&&(u=2)}return{insertSpaces:d,tabSize:u}}function K(t){return(1&t.metadata)>>>0}function Y(t,e){t.metadata=254&t.metadata|e<<0}function Q(t){return(2&t.metadata)>>>1==1}function X(t,e){t.metadata=253&t.metadata|(e?1:0)<<1}function J(t){return(4&t.metadata)>>>2==1}function Z(t,e){t.metadata=251&t.metadata|(e?1:0)<<2}function tt(t,e){t.metadata=231&t.metadata|e<<3}function et(t,e){t.metadata=223&t.metadata|(e?1:0)<<5}class it{constructor(t,e,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Y(this,1),this.start=e,this.end=i,this.delta=0,this.maxEnd=i,this.id=t,this.ownerId=0,this.options=null,Z(this,!1),tt(this,1),et(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=i,this.range=null,X(this,!1)}reset(t,e,i,n){this.start=e,this.end=i,this.maxEnd=i,this.cachedVersionId=t,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=i,this.range=n}setOptions(t){this.options=t;const e=this.options.className;Z(this,"squiggly-error"===e||"squiggly-warning"===e||"squiggly-info"===e),tt(this,this.options.stickiness),et(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(t,e,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=e}detach(){this.parent=null,this.left=null,this.right=null}}const nt=new it(null,0,0);nt.parent=nt,nt.left=nt,nt.right=nt,Y(nt,0);class rt{constructor(){this.root=nt,this.requestNormalizeDelta=!1}intervalSearch(t,e,i,n,r){return this.root===nt?[]:function(t,e,i,n,r,o){let s=t.root,a=0,h=0,l=0,c=0;const d=[];let u=0;for(;s!==nt;)if(Q(s))X(s.left,!1),X(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;else{if(!Q(s.left)){if(h=a+s.maxEnd,h<e){X(s,!0);continue}if(s.left!==nt){s=s.left;continue}}if(l=a+s.start,l>i)X(s,!0);else{if(c=a+s.end,c>=e){s.setCachedOffsets(l,c,o);let t=!0;n&&s.ownerId&&s.ownerId!==n&&(t=!1),r&&J(s)&&(t=!1),t&&(d[u++]=s)}X(s,!0),s.right===nt||Q(s.right)||(a+=s.delta,s=s.right)}}return X(t.root,!1),d}(this,t,e,i,n,r)}search(t,e,i){return this.root===nt?[]:function(t,e,i,n){let r=t.root,o=0,s=0,a=0;const h=[];let l=0;for(;r!==nt;){if(Q(r)){X(r.left,!1),X(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),r=r.parent;continue}if(r.left!==nt&&!Q(r.left)){r=r.left;continue}s=o+r.start,a=o+r.end,r.setCachedOffsets(s,a,n);let t=!0;e&&r.ownerId&&r.ownerId!==e&&(t=!1),i&&J(r)&&(t=!1),t&&(h[l++]=r),X(r,!0),r.right===nt||Q(r.right)||(o+=r.delta,r=r.right)}return X(t.root,!1),h}(this,t,e,i)}collectNodesFromOwner(t){return function(t,e){let i=t.root;const n=[];let r=0;for(;i!==nt;)Q(i)?(X(i.left,!1),X(i.right,!1),i=i.parent):i.left===nt||Q(i.left)?(i.ownerId===e&&(n[r++]=i),X(i,!0),i.right===nt||Q(i.right)||(i=i.right)):i=i.left;return X(t.root,!1),n}(this,t)}collectNodesPostOrder(){return function(t){let e=t.root;const i=[];let n=0;for(;e!==nt;)Q(e)?(X(e.left,!1),X(e.right,!1),e=e.parent):e.left===nt||Q(e.left)?e.right===nt||Q(e.right)?(i[n++]=e,X(e,!0)):e=e.right:e=e.left;return X(t.root,!1),i}(this)}insert(t){at(this,t),this._normalizeDeltaIfNecessary()}delete(t){ht(this,t),this._normalizeDeltaIfNecessary()}resolveNode(t,e){const i=t;let n=0;for(;t!==this.root;)t===t.parent.right&&(n+=t.parent.delta),t=t.parent;const r=i.start+n,o=i.end+n;i.setCachedOffsets(r,o,e)}acceptReplace(t,e,i,n){const r=function(t,e,i){let n=t.root,r=0,o=0,s=0,a=0;const h=[];let l=0;for(;n!==nt;)if(Q(n))X(n.left,!1),X(n.right,!1),n===n.parent.right&&(r-=n.parent.delta),n=n.parent;else{if(!Q(n.left)){if(o=r+n.maxEnd,o<e){X(n,!0);continue}if(n.left!==nt){n=n.left;continue}}s=r+n.start,s>i?X(n,!0):(a=r+n.end,a>=e&&(n.setCachedOffsets(s,a,0),h[l++]=n),X(n,!0),n.right===nt||Q(n.right)||(r+=n.delta,n=n.right))}return X(t.root,!1),h}(this,t,t+e);for(let t=0,e=r.length;t<e;t++){ht(this,r[t])}this._normalizeDeltaIfNecessary(),function(t,e,i,n){let r=t.root,o=0,s=0,a=0;const h=n-(i-e);for(;r!==nt;)if(Q(r))X(r.left,!1),X(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),gt(r),r=r.parent;else{if(!Q(r.left)){if(s=o+r.maxEnd,s<e){X(r,!0);continue}if(r.left!==nt){r=r.left;continue}}a=o+r.start,a>i?(r.start+=h,r.end+=h,r.delta+=h,(r.delta<-1073741824||r.delta>1073741824)&&(t.requestNormalizeDelta=!0),X(r,!0)):(X(r,!0),r.right===nt||Q(r.right)||(o+=r.delta,r=r.right))}X(t.root,!1)}(this,t,t+e,i),this._normalizeDeltaIfNecessary();for(let o=0,s=r.length;o<s;o++){const s=r[o];s.start=s.cachedAbsoluteStart,s.end=s.cachedAbsoluteEnd,st(s,t,t+e,i,n),s.maxEnd=s.end,at(this,s)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(t){let e=t.root,i=0;for(;e!==nt;)e.left===nt||Q(e.left)?e.right===nt||Q(e.right)?(e.start=i+e.start,e.end=i+e.end,e.delta=0,gt(e),X(e,!0),X(e.left,!1),X(e.right,!1),e===e.parent.right&&(i-=e.parent.delta),e=e.parent):(i+=e.delta,e=e.right):e=e.left;X(t.root,!1)}(this))}}function ot(t,e,i,n){return t<i||!(t>i)&&(1!==n&&(2===n||e))}function st(t,e,i,n,r){const o=function(t){return(24&t.metadata)>>>3}(t),s=0===o||2===o,a=1===o||2===o,h=i-e,l=n,c=Math.min(h,l),d=t.start;let u=!1;const g=t.end;let f=!1;e<=d&&g<=i&&function(t){return(32&t.metadata)>>>5==1}(t)&&(t.start=e,u=!0,t.end=e,f=!0);{const t=r?1:h>0?2:0;!u&&ot(d,s,e,t)&&(u=!0),!f&&ot(g,a,e,t)&&(f=!0)}if(c>0&&!r){const t=h>l?2:0;!u&&ot(d,s,e+c,t)&&(u=!0),!f&&ot(g,a,e+c,t)&&(f=!0)}{const n=r?1:0;!u&&ot(d,s,i,n)&&(t.start=e+l,u=!0),!f&&ot(g,a,i,n)&&(t.end=e+l,f=!0)}const p=l-h;u||(t.start=Math.max(0,d+p)),f||(t.end=Math.max(0,g+p)),t.start>t.end&&(t.end=t.start)}function at(t,e){if(t.root===nt)return e.parent=nt,e.left=nt,e.right=nt,Y(e,0),t.root=e,t.root;!function(t,e){let i=0,n=t.root;const r=e.start,o=e.end;for(;;){if(pt(r,o,n.start+i,n.end+i)<0){if(n.left===nt){e.start-=i,e.end-=i,e.maxEnd-=i,n.left=e;break}n=n.left}else{if(n.right===nt){e.start-=i+n.delta,e.end-=i+n.delta,e.maxEnd-=i+n.delta,n.right=e;break}i+=n.delta,n=n.right}}e.parent=n,e.left=nt,e.right=nt,Y(e,1)}(t,e),ft(e.parent);let i=e;for(;i!==t.root&&1===K(i.parent);)if(i.parent===i.parent.parent.left){const e=i.parent.parent.right;1===K(e)?(Y(i.parent,0),Y(e,0),Y(i.parent.parent,1),i=i.parent.parent):(i===i.parent.right&&(i=i.parent,ct(t,i)),Y(i.parent,0),Y(i.parent.parent,1),dt(t,i.parent.parent))}else{const e=i.parent.parent.left;1===K(e)?(Y(i.parent,0),Y(e,0),Y(i.parent.parent,1),i=i.parent.parent):(i===i.parent.left&&(i=i.parent,dt(t,i)),Y(i.parent,0),Y(i.parent.parent,1),ct(t,i.parent.parent))}return Y(t.root,0),e}function ht(t,e){let i,n;if(e.left===nt?(i=e.right,n=e,i.delta+=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(t.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta):e.right===nt?(i=e.left,n=e):(n=function(t){for(;t.left!==nt;)t=t.left;return t}(e.right),i=n.right,i.start+=n.delta,i.end+=n.delta,i.delta+=n.delta,(i.delta<-1073741824||i.delta>1073741824)&&(t.requestNormalizeDelta=!0),n.start+=e.delta,n.end+=e.delta,n.delta=e.delta,(n.delta<-1073741824||n.delta>1073741824)&&(t.requestNormalizeDelta=!0)),n===t.root)return t.root=i,Y(i,0),e.detach(),lt(),gt(i),void(t.root.parent=nt);const r=1===K(n);if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===e?i.parent=n.parent:(n.parent===e?i.parent=n:i.parent=n.parent,n.left=e.left,n.right=e.right,n.parent=e.parent,Y(n,K(e)),e===t.root?t.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left!==nt&&(n.left.parent=n),n.right!==nt&&(n.right.parent=n)),e.detach(),r)return ft(i.parent),n!==e&&(ft(n),ft(n.parent)),void lt();let o;for(ft(i),ft(i.parent),n!==e&&(ft(n),ft(n.parent));i!==t.root&&0===K(i);)i===i.parent.left?(o=i.parent.right,1===K(o)&&(Y(o,0),Y(i.parent,1),ct(t,i.parent),o=i.parent.right),0===K(o.left)&&0===K(o.right)?(Y(o,1),i=i.parent):(0===K(o.right)&&(Y(o.left,0),Y(o,1),dt(t,o),o=i.parent.right),Y(o,K(i.parent)),Y(i.parent,0),Y(o.right,0),ct(t,i.parent),i=t.root)):(o=i.parent.left,1===K(o)&&(Y(o,0),Y(i.parent,1),dt(t,i.parent),o=i.parent.left),0===K(o.left)&&0===K(o.right)?(Y(o,1),i=i.parent):(0===K(o.left)&&(Y(o.right,0),Y(o,1),ct(t,o),o=i.parent.left),Y(o,K(i.parent)),Y(i.parent,0),Y(o.left,0),dt(t,i.parent),i=t.root));Y(i,0),lt()}function lt(){nt.parent=nt,nt.delta=0,nt.start=0,nt.end=0}function ct(t,e){const i=e.right;i.delta+=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(t.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,e.right=i.left,i.left!==nt&&(i.left.parent=e),i.parent=e.parent,e.parent===nt?t.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left=e,e.parent=i,gt(e),gt(i)}function dt(t,e){const i=e.left;e.delta-=i.delta,(e.delta<-1073741824||e.delta>1073741824)&&(t.requestNormalizeDelta=!0),e.start-=i.delta,e.end-=i.delta,e.left=i.right,i.right!==nt&&(i.right.parent=e),i.parent=e.parent,e.parent===nt?t.root=i:e===e.parent.right?e.parent.right=i:e.parent.left=i,i.right=e,e.parent=i,gt(e),gt(i)}function ut(t){let e=t.end;if(t.left!==nt){const i=t.left.maxEnd;i>e&&(e=i)}if(t.right!==nt){const i=t.right.maxEnd+t.delta;i>e&&(e=i)}return e}function gt(t){t.maxEnd=ut(t)}function ft(t){for(;t!==nt;){const e=ut(t);if(t.maxEnd===e)return;t.maxEnd=e,t=t.parent}}function pt(t,e,i,n){return t===i?e-n:t-i}class mt{constructor(t,e){this.piece=t,this.color=e,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==_t)return kt(this.right);let t=this;for(;t.parent!==_t&&t.parent.left!==t;)t=t.parent;return t.parent===_t?_t:t.parent}prev(){if(this.left!==_t)return bt(this.left);let t=this;for(;t.parent!==_t&&t.parent.right!==t;)t=t.parent;return t.parent===_t?_t:t.parent}detach(){this.parent=null,this.left=null,this.right=null}}const _t=new mt(null,0);function kt(t){for(;t.left!==_t;)t=t.left;return t}function bt(t){for(;t.right!==_t;)t=t.right;return t}function vt(t){return t===_t?0:t.size_left+t.piece.length+vt(t.right)}function Ct(t){return t===_t?0:t.lf_left+t.piece.lineFeedCnt+Ct(t.right)}function St(){_t.parent=_t}function wt(t,e){const i=e.right;i.size_left+=e.size_left+(e.piece?e.piece.length:0),i.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=i.left,i.left!==_t&&(i.left.parent=e),i.parent=e.parent,e.parent===_t?t.root=i:e.parent.left===e?e.parent.left=i:e.parent.right=i,i.left=e,e.parent=i}function Lt(t,e){const i=e.left;e.left=i.right,i.right!==_t&&(i.right.parent=e),i.parent=e.parent,e.size_left-=i.size_left+(i.piece?i.piece.length:0),e.lf_left-=i.lf_left+(i.piece?i.piece.lineFeedCnt:0),e.parent===_t?t.root=i:e===e.parent.right?e.parent.right=i:e.parent.left=i,i.right=e,e.parent=i}function It(t,e){let i,n;if(e.left===_t?(n=e,i=n.right):e.right===_t?(n=e,i=n.left):(n=kt(e.right),i=n.right),n===t.root)return t.root=i,i.color=0,e.detach(),St(),void(t.root.parent=_t);const r=1===n.color;if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===e?(i.parent=n.parent,yt(t,i)):(n.parent===e?i.parent=n:i.parent=n.parent,yt(t,i),n.left=e.left,n.right=e.right,n.parent=e.parent,n.color=e.color,e===t.root?t.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left!==_t&&(n.left.parent=n),n.right!==_t&&(n.right.parent=n),n.size_left=e.size_left,n.lf_left=e.lf_left,yt(t,n)),e.detach(),i.parent.left===i){const e=vt(i),n=Ct(i);if(e!==i.parent.size_left||n!==i.parent.lf_left){const r=e-i.parent.size_left,o=n-i.parent.lf_left;i.parent.size_left=e,i.parent.lf_left=n,xt(t,i.parent,r,o)}}if(yt(t,i.parent),r)return void St();let o;for(;i!==t.root&&0===i.color;)i===i.parent.left?(o=i.parent.right,1===o.color&&(o.color=0,i.parent.color=1,wt(t,i.parent),o=i.parent.right),0===o.left.color&&0===o.right.color?(o.color=1,i=i.parent):(0===o.right.color&&(o.left.color=0,o.color=1,Lt(t,o),o=i.parent.right),o.color=i.parent.color,i.parent.color=0,o.right.color=0,wt(t,i.parent),i=t.root)):(o=i.parent.left,1===o.color&&(o.color=0,i.parent.color=1,Lt(t,i.parent),o=i.parent.left),0===o.left.color&&0===o.right.color?(o.color=1,i=i.parent):(0===o.left.color&&(o.right.color=0,o.color=1,wt(t,o),o=i.parent.left),o.color=i.parent.color,i.parent.color=0,o.left.color=0,Lt(t,i.parent),i=t.root));i.color=0,St()}function Nt(t,e){for(yt(t,e);e!==t.root&&1===e.parent.color;)if(e.parent===e.parent.parent.left){const i=e.parent.parent.right;1===i.color?(e.parent.color=0,i.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&wt(t,e=e.parent),e.parent.color=0,e.parent.parent.color=1,Lt(t,e.parent.parent))}else{const i=e.parent.parent.left;1===i.color?(e.parent.color=0,i.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&Lt(t,e=e.parent),e.parent.color=0,e.parent.parent.color=1,wt(t,e.parent.parent))}t.root.color=0}function xt(t,e,i,n){for(;e!==t.root&&e!==_t;)e.parent.left===e&&(e.parent.size_left+=i,e.parent.lf_left+=n),e=e.parent}function yt(t,e){let i=0,n=0;if(e!==t.root){for(;e!==t.root&&e===e.parent.right;)e=e.parent;if(e!==t.root)for(i=vt((e=e.parent).left)-e.size_left,n=Ct(e.left)-e.lf_left,e.size_left+=i,e.lf_left+=n;e!==t.root&&(0!==i||0!==n);)e.parent.left===e&&(e.parent.size_left+=i,e.parent.lf_left+=n),e=e.parent}}_t.parent=_t,_t.left=_t,_t.right=_t,_t.color=0;var Dt=i(7277);const Tt=65535;function Bt(t){let e;return e=t[t.length-1]<65536?new Uint16Array(t.length):new Uint32Array(t.length),e.set(t,0),e}class Et{constructor(t,e,i,n,r){this.lineStarts=t,this.cr=e,this.lf=i,this.crlf=n,this.isBasicASCII=r}}function At(t,e=!0){const i=[0];let n=1;for(let e=0,r=t.length;e<r;e++){const o=t.charCodeAt(e);13===o?e+1<r&&10===t.charCodeAt(e+1)?(i[n++]=e+2,e++):i[n++]=e+1:10===o&&(i[n++]=e+1)}return e?Bt(i):i}class Ot{constructor(t,e,i,n,r){this.bufferIndex=t,this.start=e,this.end=i,this.lineFeedCnt=n,this.length=r}}class Ft{constructor(t,e){this.buffer=t,this.lineStarts=e}}class Pt{constructor(t,e){this._pieces=[],this._tree=t,this._BOM=e,this._index=0,t.root!==_t&&t.iterate(t.root,(t=>(t!==_t&&this._pieces.push(t.piece),!0)))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Mt{constructor(t){this._limit=t,this._cache=[]}get(t){for(let e=this._cache.length-1;e>=0;e--){const i=this._cache[e];if(i.nodeStartOffset<=t&&i.nodeStartOffset+i.node.piece.length>=t)return i}return null}get2(t){for(let e=this._cache.length-1;e>=0;e--){const i=this._cache[e];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<t&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=t)return i}return null}set(t){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(t)}validate(t){let e=!1;const i=this._cache;for(let n=0;n<i.length;n++){const r=i[n];(null===r.node.parent||r.nodeStartOffset>=t)&&(i[n]=null,e=!0)}if(e){const t=[];for(const e of i)null!==e&&t.push(e);this._cache=t}}}class Rt{constructor(t,e,i){this.create(t,e,i)}create(t,e,i){this._buffers=[new Ft("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=_t,this._lineCnt=1,this._length=0,this._EOL=e,this._EOLLength=e.length,this._EOLNormalized=i;let n=null;for(let e=0,i=t.length;e<i;e++)if(t[e].buffer.length>0){t[e].lineStarts||(t[e].lineStarts=At(t[e].buffer));const i=new Ot(e+1,{line:0,column:0},{line:t[e].lineStarts.length-1,column:t[e].buffer.length-t[e].lineStarts[t[e].lineStarts.length-1]},t[e].lineStarts.length-1,t[e].buffer.length);this._buffers.push(t[e]),n=this.rbInsertRight(n,i)}this._searchCache=new Mt(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(t){const e=65535-Math.floor(21845),i=2*e;let n="",r=0;const o=[];if(this.iterate(this.root,(s=>{const a=this.getNodeContent(s),h=a.length;if(r<=e||r+h<i)return n+=a,r+=h,!0;const l=n.replace(/\r\n|\r|\n/g,t);return o.push(new Ft(l,At(l))),n=a,r=h,!0})),r>0){const e=n.replace(/\r\n|\r|\n/g,t);o.push(new Ft(e,At(e)))}this.create(o,t,!0)}getEOL(){return this._EOL}setEOL(t){this._EOL=t,this._EOLLength=this._EOL.length,this.normalizeEOL(t)}createSnapshot(t){return new Pt(this,t)}getOffsetAt(t,e){let i=0,n=this.root;for(;n!==_t;)if(n.left!==_t&&n.lf_left+1>=t)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=t){i+=n.size_left;return i+(this.getAccumulatedValue(n,t-n.lf_left-2)+e-1)}t-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i}getPositionAt(t){t=Math.floor(t),t=Math.max(0,t);let e=this.root,i=0;const n=t;for(;e!==_t;)if(0!==e.size_left&&e.size_left>=t)e=e.left;else{if(e.size_left+e.piece.length>=t){const r=this.getIndexOf(e,t-e.size_left);if(i+=e.lf_left+r.index,0===r.index){const t=n-this.getOffsetAt(i+1,1);return new u.L(i+1,t+1)}return new u.L(i+1,r.remainder+1)}if(t-=e.size_left+e.piece.length,i+=e.lf_left+e.piece.lineFeedCnt,e.right===_t){const e=n-t-this.getOffsetAt(i+1,1);return new u.L(i+1,e+1)}e=e.right}return new u.L(1,1)}getValueInRange(t,e){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return"";const i=this.nodeAt2(t.startLineNumber,t.startColumn),n=this.nodeAt2(t.endLineNumber,t.endColumn),r=this.getValueInRange2(i,n);return e?e===this._EOL&&this._EOLNormalized&&e===this.getEOL()&&this._EOLNormalized?r:r.replace(/\r\n|\r|\n/g,e):r}getValueInRange2(t,e){if(t.node===e.node){const i=t.node,n=this._buffers[i.piece.bufferIndex].buffer,r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n.substring(r+t.remainder,r+e.remainder)}let i=t.node;const n=this._buffers[i.piece.bufferIndex].buffer,r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let o=n.substring(r+t.remainder,r+i.piece.length);for(i=i.next();i!==_t;){const t=this._buffers[i.piece.bufferIndex].buffer,n=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===e.node){o+=t.substring(n,n+e.remainder);break}o+=t.substr(n,i.piece.length),i=i.next()}return o}getLinesContent(){const t=[];let e=0,i="",n=!1;return this.iterate(this.root,(r=>{if(r===_t)return!0;const o=r.piece;let s=o.length;if(0===s)return!0;const a=this._buffers[o.bufferIndex].buffer,h=this._buffers[o.bufferIndex].lineStarts,l=o.start.line,c=o.end.line;let d=h[l]+o.start.column;if(n&&(10===a.charCodeAt(d)&&(d++,s--),t[e++]=i,i="",n=!1,0===s))return!0;if(l===c)return this._EOLNormalized||13!==a.charCodeAt(d+s-1)?i+=a.substr(d,s):(n=!0,i+=a.substr(d,s-1)),!0;i+=this._EOLNormalized?a.substring(d,Math.max(d,h[l+1]-this._EOLLength)):a.substring(d,h[l+1]).replace(/(\r\n|\r|\n)$/,""),t[e++]=i;for(let n=l+1;n<c;n++)i=this._EOLNormalized?a.substring(h[n],h[n+1]-this._EOLLength):a.substring(h[n],h[n+1]).replace(/(\r\n|\r|\n)$/,""),t[e++]=i;return this._EOLNormalized||13!==a.charCodeAt(h[c]+o.end.column-1)?i=a.substr(h[c],o.end.column):(n=!0,0===o.end.column?e--:i=a.substr(h[c],o.end.column-1)),!0})),n&&(t[e++]=i,i=""),t[e++]=i,t}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(t){return this._lastVisitedLine.lineNumber===t||(this._lastVisitedLine.lineNumber=t,t===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(t):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(t,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(t).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(t){if(t.remainder===t.node.piece.length){const e=t.node.next();if(!e)return 0;const i=this._buffers[e.piece.bufferIndex],n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start);return i.buffer.charCodeAt(n)}{const e=this._buffers[t.node.piece.bufferIndex],i=this.offsetInBuffer(t.node.piece.bufferIndex,t.node.piece.start)+t.remainder;return e.buffer.charCodeAt(i)}}getLineCharCode(t,e){const i=this.nodeAt2(t,e+1);return this._getCharCode(i)}getLineLength(t){if(t===this.getLineCount()){const e=this.getOffsetAt(t,1);return this.getLength()-e}return this.getOffsetAt(t+1,1)-this.getOffsetAt(t,1)-this._EOLLength}findMatchesInNode(t,e,i,n,r,o,s,a,h,l,c){const d=this._buffers[t.piece.bufferIndex],u=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),f=this.offsetInBuffer(t.piece.bufferIndex,r),p=this.offsetInBuffer(t.piece.bufferIndex,o);let m;const _={line:0,column:0};let k,b;e._wordSeparators?(k=d.buffer.substring(f,p),b=t=>t+f,e.reset(0)):(k=d.buffer,b=t=>t,e.reset(f));do{if(m=e.next(k),m){if(b(m.index)>=p)return l;this.positionInBuffer(t,b(m.index)-u,_);const e=this.getLineFeedCnt(t.piece.bufferIndex,r,_),o=_.line===r.line?_.column-r.column+n:_.column+1,s=o+m[0].length;if(c[l++]=(0,Dt.iE)(new g.e(i+e,o,i+e,s),m,a),b(m.index)+m[0].length>=p)return l;if(l>=h)return l}}while(m);return l}findMatchesLineByLine(t,e,i,n){const r=[];let o=0;const s=new Dt.sz(e.wordSeparators,e.regex);let a=this.nodeAt2(t.startLineNumber,t.startColumn);if(null===a)return[];const h=this.nodeAt2(t.endLineNumber,t.endColumn);if(null===h)return[];let l=this.positionInBuffer(a.node,a.remainder);const c=this.positionInBuffer(h.node,h.remainder);if(a.node===h.node)return this.findMatchesInNode(a.node,s,t.startLineNumber,t.startColumn,l,c,e,i,n,o,r),r;let d=t.startLineNumber,u=a.node;for(;u!==h.node;){const h=this.getLineFeedCnt(u.piece.bufferIndex,l,u.piece.end);if(h>=1){const a=this._buffers[u.piece.bufferIndex].lineStarts,c=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start),g=a[l.line+h],f=d===t.startLineNumber?t.startColumn:1;if(o=this.findMatchesInNode(u,s,d,f,l,this.positionInBuffer(u,g-c),e,i,n,o,r),o>=n)return r;d+=h}const c=d===t.startLineNumber?t.startColumn-1:0;if(d===t.endLineNumber){const a=this.getLineContent(d).substring(c,t.endColumn-1);return o=this._findMatchesInLine(e,s,a,t.endLineNumber,c,o,r,i,n),r}if(o=this._findMatchesInLine(e,s,this.getLineContent(d).substr(c),d,c,o,r,i,n),o>=n)return r;d++,a=this.nodeAt2(d,1),u=a.node,l=this.positionInBuffer(a.node,a.remainder)}if(d===t.endLineNumber){const a=d===t.startLineNumber?t.startColumn-1:0,h=this.getLineContent(d).substring(a,t.endColumn-1);return o=this._findMatchesInLine(e,s,h,t.endLineNumber,a,o,r,i,n),r}const g=d===t.startLineNumber?t.startColumn:1;return o=this.findMatchesInNode(h.node,s,d,g,l,c,e,i,n,o,r),r}_findMatchesInLine(t,e,i,n,r,o,s,a,h){const l=t.wordSeparators;if(!a&&t.simpleSearch){const e=t.simpleSearch,a=e.length,c=i.length;let d=-a;for(;-1!==(d=i.indexOf(e,d+a));)if((!l||(0,Dt.cM)(l,i,c,d,a))&&(s[o++]=new k.tk(new g.e(n,d+1+r,n,d+1+a+r),null),o>=h))return o;return o}let c;e.reset(0);do{if(c=e.next(i),c&&(s[o++]=(0,Dt.iE)(new g.e(n,c.index+1+r,n,c.index+1+c[0].length+r),c,a),o>=h))return o}while(c);return o}insert(t,e,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==_t){const{node:i,remainder:n,nodeStartOffset:r}=this.nodeAt(t),o=i.piece,s=o.bufferIndex,a=this.positionInBuffer(i,n);if(0===i.piece.bufferIndex&&o.end.line===this._lastChangeBufferPos.line&&o.end.column===this._lastChangeBufferPos.column&&r+o.length===t&&e.length<Tt)return this.appendToNode(i,e),void this.computeBufferMetadata();if(r===t)this.insertContentToNodeLeft(e,i),this._searchCache.validate(t);else if(r+i.piece.length>t){const t=[];let r=new Ot(o.bufferIndex,a,o.end,this.getLineFeedCnt(o.bufferIndex,a,o.end),this.offsetInBuffer(s,o.end)-this.offsetInBuffer(s,a));if(this.shouldCheckCRLF()&&this.endWithCR(e)){if(10===this.nodeCharCodeAt(i,n)){const t={line:r.start.line+1,column:0};r=new Ot(r.bufferIndex,t,r.end,this.getLineFeedCnt(r.bufferIndex,t,r.end),r.length-1),e+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(e)){if(13===this.nodeCharCodeAt(i,n-1)){const r=this.positionInBuffer(i,n-1);this.deleteNodeTail(i,r),e="\r"+e,0===i.piece.length&&t.push(i)}else this.deleteNodeTail(i,a)}else this.deleteNodeTail(i,a);const h=this.createNewPieces(e);r.length>0&&this.rbInsertRight(i,r);let l=i;for(let t=0;t<h.length;t++)l=this.rbInsertRight(l,h[t]);this.deleteNodes(t)}else this.insertContentToNodeRight(e,i)}else{const t=this.createNewPieces(e);let i=this.rbInsertLeft(null,t[0]);for(let e=1;e<t.length;e++)i=this.rbInsertRight(i,t[e])}this.computeBufferMetadata()}delete(t,e){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",e<=0||this.root===_t)return;const i=this.nodeAt(t),n=this.nodeAt(t+e),r=i.node,o=n.node;if(r===o){const o=this.positionInBuffer(r,i.remainder),s=this.positionInBuffer(r,n.remainder);if(i.nodeStartOffset===t){if(e===r.piece.length){const t=r.next();return It(this,r),this.validateCRLFWithPrevNode(t),void this.computeBufferMetadata()}return this.deleteNodeHead(r,s),this._searchCache.validate(t),this.validateCRLFWithPrevNode(r),void this.computeBufferMetadata()}return i.nodeStartOffset+r.piece.length===t+e?(this.deleteNodeTail(r,o),this.validateCRLFWithNextNode(r),void this.computeBufferMetadata()):(this.shrinkNode(r,o,s),void this.computeBufferMetadata())}const s=[],a=this.positionInBuffer(r,i.remainder);this.deleteNodeTail(r,a),this._searchCache.validate(t),0===r.piece.length&&s.push(r);const h=this.positionInBuffer(o,n.remainder);this.deleteNodeHead(o,h),0===o.piece.length&&s.push(o);for(let t=r.next();t!==_t&&t!==o;t=t.next())s.push(t);const l=0===r.piece.length?r.prev():r;this.deleteNodes(s),this.validateCRLFWithNextNode(l),this.computeBufferMetadata()}insertContentToNodeLeft(t,e){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.startWithLF(e)){const n=e.piece,r={line:n.start.line+1,column:0},o=new Ot(n.bufferIndex,r,n.end,this.getLineFeedCnt(n.bufferIndex,r,n.end),n.length-1);e.piece=o,t+="\n",xt(this,e,-1,-1),0===e.piece.length&&i.push(e)}const n=this.createNewPieces(t);let r=this.rbInsertLeft(e,n[n.length-1]);for(let t=n.length-2;t>=0;t--)r=this.rbInsertLeft(r,n[t]);this.validateCRLFWithPrevNode(r),this.deleteNodes(i)}insertContentToNodeRight(t,e){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const i=this.createNewPieces(t),n=this.rbInsertRight(e,i[0]);let r=n;for(let t=1;t<i.length;t++)r=this.rbInsertRight(r,i[t]);this.validateCRLFWithPrevNode(n)}positionInBuffer(t,e,i){const n=t.piece,r=t.piece.bufferIndex,o=this._buffers[r].lineStarts,s=o[n.start.line]+n.start.column+e;let a=n.start.line,h=n.end.line,l=0,c=0,d=0;for(;a<=h&&(l=a+(h-a)/2|0,d=o[l],l!==h);)if(c=o[l+1],s<d)h=l-1;else{if(!(s>=c))break;a=l+1}return i?(i.line=l,i.column=s-d,null):{line:l,column:s-d}}getLineFeedCnt(t,e,i){if(0===i.column)return i.line-e.line;const n=this._buffers[t].lineStarts;if(i.line===n.length-1)return i.line-e.line;const r=n[i.line+1],o=n[i.line]+i.column;if(r>o+1)return i.line-e.line;const s=o-1;return 13===this._buffers[t].buffer.charCodeAt(s)?i.line-e.line+1:i.line-e.line}offsetInBuffer(t,e){return this._buffers[t].lineStarts[e.line]+e.column}deleteNodes(t){for(let e=0;e<t.length;e++)It(this,t[e])}createNewPieces(t){if(t.length>Tt){const e=[];for(;t.length>Tt;){const i=t.charCodeAt(65534);let n;13===i||i>=55296&&i<=56319?(n=t.substring(0,65534),t=t.substring(65534)):(n=t.substring(0,Tt),t=t.substring(Tt));const r=At(n);e.push(new Ot(this._buffers.length,{line:0,column:0},{line:r.length-1,column:n.length-r[r.length-1]},r.length-1,n.length)),this._buffers.push(new Ft(n,r))}const i=At(t);return e.push(new Ot(this._buffers.length,{line:0,column:0},{line:i.length-1,column:t.length-i[i.length-1]},i.length-1,t.length)),this._buffers.push(new Ft(t,i)),e}let e=this._buffers[0].buffer.length;const i=At(t,!1);let n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===e&&0!==e&&this.startWithLF(t)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},n=this._lastChangeBufferPos;for(let t=0;t<i.length;t++)i[t]+=e+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+t,e+=1}else{if(0!==e)for(let t=0;t<i.length;t++)i[t]+=e;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=t}const r=this._buffers[0].buffer.length,o=this._buffers[0].lineStarts.length-1,s={line:o,column:r-this._buffers[0].lineStarts[o]},a=new Ot(0,n,s,this.getLineFeedCnt(0,n,s),r-e);return this._lastChangeBufferPos=s,[a]}getLineRawContent(t,e=0){let i=this.root,n="";const r=this._searchCache.get2(t);if(r){i=r.node;const o=this.getAccumulatedValue(i,t-r.nodeStartLineNumber-1),s=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(r.nodeStartLineNumber+i.piece.lineFeedCnt!==t){const n=this.getAccumulatedValue(i,t-r.nodeStartLineNumber);return s.substring(a+o,a+n-e)}n=s.substring(a+o,a+i.piece.length)}else{let r=0;const o=t;for(;i!==_t;)if(i.left!==_t&&i.lf_left>=t-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>t-1){const n=this.getAccumulatedValue(i,t-i.lf_left-2),s=this.getAccumulatedValue(i,t-i.lf_left-1),a=this._buffers[i.piece.bufferIndex].buffer,h=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return r+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:r,nodeStartLineNumber:o-(t-1-i.lf_left)}),a.substring(h+n,h+s-e)}if(i.lf_left+i.piece.lineFeedCnt===t-1){const e=this.getAccumulatedValue(i,t-i.lf_left-2),r=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=r.substring(o+e,o+i.piece.length);break}t-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right}}for(i=i.next();i!==_t;){const t=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const r=this.getAccumulatedValue(i,0),o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=t.substring(o,o+r-e),n}{const e=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=t.substr(e,i.piece.length)}i=i.next()}return n}computeBufferMetadata(){let t=this.root,e=1,i=0;for(;t!==_t;)e+=t.lf_left+t.piece.lineFeedCnt,i+=t.size_left+t.piece.length,t=t.right;this._lineCnt=e,this._length=i,this._searchCache.validate(this._length)}getIndexOf(t,e){const i=t.piece,n=this.positionInBuffer(t,e),r=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===e){const e=this.getLineFeedCnt(t.piece.bufferIndex,i.start,n);if(e!==r)return{index:e,remainder:0}}return{index:r,remainder:n.column}}getAccumulatedValue(t,e){if(e<0)return 0;const i=t.piece,n=this._buffers[i.bufferIndex].lineStarts,r=i.start.line+e+1;return r>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[r]-n[i.start.line]-i.start.column}deleteNodeTail(t,e){const i=t.piece,n=i.lineFeedCnt,r=this.offsetInBuffer(i.bufferIndex,i.end),o=e,s=this.offsetInBuffer(i.bufferIndex,o),a=this.getLineFeedCnt(i.bufferIndex,i.start,o),h=a-n,l=s-r,c=i.length+l;t.piece=new Ot(i.bufferIndex,i.start,o,a,c),xt(this,t,l,h)}deleteNodeHead(t,e){const i=t.piece,n=i.lineFeedCnt,r=this.offsetInBuffer(i.bufferIndex,i.start),o=e,s=this.getLineFeedCnt(i.bufferIndex,o,i.end),a=s-n,h=r-this.offsetInBuffer(i.bufferIndex,o),l=i.length+h;t.piece=new Ot(i.bufferIndex,o,i.end,s,l),xt(this,t,h,a)}shrinkNode(t,e,i){const n=t.piece,r=n.start,o=n.end,s=n.length,a=n.lineFeedCnt,h=e,l=this.getLineFeedCnt(n.bufferIndex,n.start,h),c=this.offsetInBuffer(n.bufferIndex,e)-this.offsetInBuffer(n.bufferIndex,r);t.piece=new Ot(n.bufferIndex,n.start,h,l,c),xt(this,t,c-s,l-a);const d=new Ot(n.bufferIndex,i,o,this.getLineFeedCnt(n.bufferIndex,i,o),this.offsetInBuffer(n.bufferIndex,o)-this.offsetInBuffer(n.bufferIndex,i)),u=this.rbInsertRight(t,d);this.validateCRLFWithPrevNode(u)}appendToNode(t,e){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");const i=this.shouldCheckCRLF()&&this.startWithLF(e)&&this.endWithCR(t),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=e;const r=At(e,!1);for(let t=0;t<r.length;t++)r[t]+=n;if(i){const t=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-t}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1));const o=this._buffers[0].lineStarts.length-1,s={line:o,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[o]},a=t.piece.length+e.length,h=t.piece.lineFeedCnt,l=this.getLineFeedCnt(0,t.piece.start,s),c=l-h;t.piece=new Ot(t.piece.bufferIndex,t.piece.start,s,l,a),this._lastChangeBufferPos=s,xt(this,t,e.length,c)}nodeAt(t){let e=this.root;const i=this._searchCache.get(t);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:t-i.nodeStartOffset};let n=0;for(;e!==_t;)if(e.size_left>t)e=e.left;else{if(e.size_left+e.piece.length>=t){n+=e.size_left;const i={node:e,remainder:t-e.size_left,nodeStartOffset:n};return this._searchCache.set(i),i}t-=e.size_left+e.piece.length,n+=e.size_left+e.piece.length,e=e.right}return null}nodeAt2(t,e){let i=this.root,n=0;for(;i!==_t;)if(i.left!==_t&&i.lf_left>=t-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>t-1){const r=this.getAccumulatedValue(i,t-i.lf_left-2),o=this.getAccumulatedValue(i,t-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(r+e-1,o),nodeStartOffset:n}}if(i.lf_left+i.piece.lineFeedCnt===t-1){const r=this.getAccumulatedValue(i,t-i.lf_left-2);if(r+e-1<=i.piece.length)return{node:i,remainder:r+e-1,nodeStartOffset:n};e-=i.piece.length-r;break}t-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==_t;){if(i.piece.lineFeedCnt>0){const t=this.getAccumulatedValue(i,0),n=this.offsetOfNode(i);return{node:i,remainder:Math.min(e-1,t),nodeStartOffset:n}}if(i.piece.length>=e-1){return{node:i,remainder:e-1,nodeStartOffset:this.offsetOfNode(i)}}e-=i.piece.length,i=i.next()}return null}nodeCharCodeAt(t,e){if(t.piece.lineFeedCnt<1)return-1;const i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start)+e;return i.buffer.charCodeAt(n)}offsetOfNode(t){if(!t)return 0;let e=t.size_left;for(;t!==this.root;)t.parent.right===t&&(e+=t.parent.size_left+t.parent.piece.length),t=t.parent;return e}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(t){if("string"==typeof t)return 10===t.charCodeAt(0);if(t===_t||0===t.piece.lineFeedCnt)return!1;const e=t.piece,i=this._buffers[e.bufferIndex].lineStarts,n=e.start.line,r=i[n]+e.start.column;if(n===i.length-1)return!1;return!(i[n+1]>r+1)&&10===this._buffers[e.bufferIndex].buffer.charCodeAt(r)}endWithCR(t){return"string"==typeof t?13===t.charCodeAt(t.length-1):t!==_t&&0!==t.piece.lineFeedCnt&&13===this.nodeCharCodeAt(t,t.piece.length-1)}validateCRLFWithPrevNode(t){if(this.shouldCheckCRLF()&&this.startWithLF(t)){const e=t.prev();this.endWithCR(e)&&this.fixCRLF(e,t)}}validateCRLFWithNextNode(t){if(this.shouldCheckCRLF()&&this.endWithCR(t)){const e=t.next();this.startWithLF(e)&&this.fixCRLF(t,e)}}fixCRLF(t,e){const i=[],n=this._buffers[t.piece.bufferIndex].lineStarts;let r;r=0===t.piece.end.column?{line:t.piece.end.line-1,column:n[t.piece.end.line]-n[t.piece.end.line-1]-1}:{line:t.piece.end.line,column:t.piece.end.column-1};const o=t.piece.length-1,s=t.piece.lineFeedCnt-1;t.piece=new Ot(t.piece.bufferIndex,t.piece.start,r,s,o),xt(this,t,-1,-1),0===t.piece.length&&i.push(t);const a={line:e.piece.start.line+1,column:0},h=e.piece.length-1,l=this.getLineFeedCnt(e.piece.bufferIndex,a,e.piece.end);e.piece=new Ot(e.piece.bufferIndex,a,e.piece.end,l,h),xt(this,e,-1,-1),0===e.piece.length&&i.push(e);const c=this.createNewPieces("\r\n");this.rbInsertRight(t,c[0]);for(let t=0;t<i.length;t++)It(this,i[t])}adjustCarriageReturnFromNext(t,e){if(this.shouldCheckCRLF()&&this.endWithCR(t)){const i=e.next();if(this.startWithLF(i)){if(t+="\n",1===i.piece.length)It(this,i);else{const t=i.piece,e={line:t.start.line+1,column:0},n=t.length-1,r=this.getLineFeedCnt(t.bufferIndex,e,t.end);i.piece=new Ot(t.bufferIndex,e,t.end,r,n),xt(this,i,-1,-1)}return!0}}return!1}iterate(t,e){if(t===_t)return e(_t);const i=this.iterate(t.left,e);return i?e(t)&&this.iterate(t.right,e):i}getNodeContent(t){if(t===_t)return"";const e=this._buffers[t.piece.bufferIndex],i=t.piece,n=this.offsetInBuffer(i.bufferIndex,i.start),r=this.offsetInBuffer(i.bufferIndex,i.end);return e.buffer.substring(n,r)}getPieceContent(t){const e=this._buffers[t.bufferIndex],i=this.offsetInBuffer(t.bufferIndex,t.start),n=this.offsetInBuffer(t.bufferIndex,t.end);return e.buffer.substring(i,n)}rbInsertRight(t,e){const i=new mt(e,1);i.left=_t,i.right=_t,i.parent=_t,i.size_left=0,i.lf_left=0;if(this.root===_t)this.root=i,i.color=0;else if(t.right===_t)t.right=i,i.parent=t;else{const e=kt(t.right);e.left=i,i.parent=e}return Nt(this,i),i}rbInsertLeft(t,e){const i=new mt(e,1);if(i.left=_t,i.right=_t,i.parent=_t,i.size_left=0,i.lf_left=0,this.root===_t)this.root=i,i.color=0;else if(t.left===_t)t.left=i,i.parent=t;else{const e=bt(t.left);e.right=i,i.parent=e}return Nt(this,i),i}}var zt=i(3033);class Ht extends a.JT{constructor(t,e,i,n,r,o,a){super(),this._onDidChangeContent=this._register(new s.Q5),this._BOM=e,this._mightContainNonBasicASCII=!o,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=r,this._pieceTree=new Rt(t,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(t){return this._pieceTree.createSnapshot(t?this._BOM:"")}getOffsetAt(t,e){return this._pieceTree.getOffsetAt(t,e)}getPositionAt(t){return this._pieceTree.getPositionAt(t)}getRangeAt(t,e){const i=t+e,n=this.getPositionAt(t),r=this.getPositionAt(i);return new g.e(n.lineNumber,n.column,r.lineNumber,r.column)}getValueInRange(t,e=0){if(t.isEmpty())return"";const i=this._getEndOfLine(e);return this._pieceTree.getValueInRange(t,i)}getValueLengthInRange(t,e=0){if(t.isEmpty())return 0;if(t.startLineNumber===t.endLineNumber)return t.endColumn-t.startColumn;const i=this.getOffsetAt(t.startLineNumber,t.startColumn);return this.getOffsetAt(t.endLineNumber,t.endColumn)-i}getCharacterCountInRange(t,e=0){if(this._mightContainNonBasicASCII){let i=0;const n=t.startLineNumber,r=t.endLineNumber;for(let e=n;e<=r;e++){const o=this.getLineContent(e),s=e===n?t.startColumn-1:0,a=e===r?t.endColumn-1:o.length;for(let t=s;t<a;t++)h.ZG(o.charCodeAt(t))?(i+=1,t+=1):i+=1}return i+=this._getEndOfLine(e).length*(r-n),i}return this.getValueLengthInRange(t,e)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(t){return this._pieceTree.getLineContent(t)}getLineCharCode(t,e){return this._pieceTree.getLineCharCode(t,e)}getLineLength(t){return this._pieceTree.getLineLength(t)}getLineFirstNonWhitespaceColumn(t){const e=h.LC(this.getLineContent(t));return-1===e?0:e+1}getLineLastNonWhitespaceColumn(t){const e=h.ow(this.getLineContent(t));return-1===e?0:e+2}_getEndOfLine(t){switch(t){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(t){this._pieceTree.setEOL(t)}applyEdits(t,e,i){let n=this._mightContainRTL,r=this._mightContainUnusualLineTerminators,o=this._mightContainNonBasicASCII,s=!0,a=[];for(let e=0;e<t.length;e++){const i=t[e];s&&i._isTracked&&(s=!1);const l=i.range;if(i.text){let t=!0;o||(t=!h.$i(i.text),o=t),!n&&t&&(n=h.Ut(i.text)),!r&&t&&(r=h.ab(i.text))}let d="",u=0,g=0,f=0;if(i.text){let t;[u,g,f,t]=(0,c.Q)(i.text);const e=this.getEOL(),n="\r\n"===e?2:1;d=0===t||t===n?i.text:i.text.replace(/\r\n|\r|\n/g,e)}a[e]={sortIndex:e,identifier:i.identifier||null,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l),text:d,eolCount:u,firstLineLength:g,lastLineLength:f,forceMoveMarkers:Boolean(i.forceMoveMarkers),isAutoWhitespaceEdit:i.isAutoWhitespaceEdit||!1}}a.sort(Ht._sortOpsAscending);let l=!1;for(let t=0,e=a.length-1;t<e;t++){const e=a[t].range.getEndPosition(),i=a[t+1].range.getStartPosition();if(i.isBeforeOrEqual(e)){if(i.isBefore(e))throw new Error("Overlapping ranges are not allowed!");l=!0}}s&&(a=this._reduceOperations(a));const d=i||e?Ht._getInverseEditRanges(a):[],u=[];if(e)for(let t=0;t<a.length;t++){const e=a[t],i=d[t];if(e.isAutoWhitespaceEdit&&e.range.isEmpty())for(let t=i.startLineNumber;t<=i.endLineNumber;t++){let n="";t===i.startLineNumber&&(n=this.getLineContent(e.range.startLineNumber),-1!==h.LC(n))||u.push({lineNumber:t,oldContent:n})}}let g=null;if(i){let t=0;g=[];for(let e=0;e<a.length;e++){const i=a[e],n=d[e],r=this.getValueInRange(i.range),o=i.rangeOffset+t;t+=i.text.length-r.length,g[e]={sortIndex:i.sortIndex,identifier:i.identifier,range:n,text:r,textChange:new zt.q(i.rangeOffset,r,o,i.text)}}l||g.sort(((t,e)=>t.sortIndex-e.sortIndex))}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=r,this._mightContainNonBasicASCII=o;const f=this._doApplyEdits(a);let p=null;if(e&&u.length>0){u.sort(((t,e)=>e.lineNumber-t.lineNumber)),p=[];for(let t=0,e=u.length;t<e;t++){const e=u[t].lineNumber;if(t>0&&u[t-1].lineNumber===e)continue;const i=u[t].oldContent,n=this.getLineContent(e);0!==n.length&&n!==i&&-1===h.LC(n)&&p.push(e)}}return this._onDidChangeContent.fire(),new k.je(g,f,p)}_reduceOperations(t){return t.length<1e3?t:[this._toSingleEditOperation(t)]}_toSingleEditOperation(t){let e=!1;const i=t[0].range,n=t[t.length-1].range,r=new g.e(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn);let o=i.startLineNumber,s=i.startColumn;const a=[];for(let i=0,n=t.length;i<n;i++){const n=t[i],r=n.range;e=e||n.forceMoveMarkers,a.push(this.getValueInRange(new g.e(o,s,r.startLineNumber,r.startColumn))),n.text.length>0&&a.push(n.text),o=r.endLineNumber,s=r.endColumn}const h=a.join(""),[l,d,u]=(0,c.Q)(h);return{sortIndex:0,identifier:t[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:h,eolCount:l,firstLineLength:d,lastLineLength:u,forceMoveMarkers:e,isAutoWhitespaceEdit:!1}}_doApplyEdits(t){t.sort(Ht._sortOpsDescending);const e=[];for(let i=0;i<t.length;i++){const n=t[i],r=n.range.startLineNumber,o=n.range.startColumn,s=n.range.endLineNumber,a=n.range.endColumn;if(r===s&&o===a&&0===n.text.length)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const h=new g.e(r,o,s,a);e.push({range:h,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return e}findMatchesLineByLine(t,e,i,n){return this._pieceTree.findMatchesLineByLine(t,e,i,n)}static _getInverseEditRanges(t){const e=[];let i=0,n=0,r=null;for(let o=0,s=t.length;o<s;o++){const s=t[o];let a,h,l;if(r?r.range.endLineNumber===s.range.startLineNumber?(a=i,h=n+(s.range.startColumn-r.range.endColumn)):(a=i+(s.range.startLineNumber-r.range.endLineNumber),h=s.range.startColumn):(a=s.range.startLineNumber,h=s.range.startColumn),s.text.length>0){const t=s.eolCount+1;l=1===t?new g.e(a,h,a,h+s.firstLineLength):new g.e(a,h,a+t-1,s.lastLineLength+1)}else l=new g.e(a,h,a,h);i=l.endLineNumber,n=l.endColumn,e.push(l),r=s}return e}static _sortOpsAscending(t,e){const i=g.e.compareRangesUsingEnds(t.range,e.range);return 0===i?t.sortIndex-e.sortIndex:i}static _sortOpsDescending(t,e){const i=g.e.compareRangesUsingEnds(t.range,e.range);return 0===i?e.sortIndex-t.sortIndex:-i}}class Vt{constructor(t,e,i,n,r,o,s,a,h){this._chunks=t,this._bom=e,this._cr=i,this._lf=n,this._crlf=r,this._containsRTL=o,this._containsUnusualLineTerminators=s,this._isBasicASCII=a,this._normalizeEOL=h}_getEOL(t){const e=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return 0===e?1===t?"\n":"\r\n":i>e/2?"\r\n":"\n"}create(t){const e=this._getEOL(t),i=this._chunks;if(this._normalizeEOL&&("\r\n"===e&&(this._cr>0||this._lf>0)||"\n"===e&&(this._cr>0||this._crlf>0)))for(let t=0,n=i.length;t<n;t++){const n=i[t].buffer.replace(/\r\n|\r|\n/g,e),r=At(n);i[t]=new Ft(n,r)}const n=new Ht(i,this._bom,e,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:n,disposable:n}}}class Wt{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(t){if(0===t.length)return;0===this.chunks.length&&h.uS(t)&&(this.BOM=h.c1,t=t.substr(1));const e=t.charCodeAt(t.length-1);13===e||e>=55296&&e<=56319?(this._acceptChunk1(t.substr(0,t.length-1),!1),this._hasPreviousChar=!0,this._previousChar=e):(this._acceptChunk1(t,!1),this._hasPreviousChar=!1,this._previousChar=e)}_acceptChunk1(t,e){(e||0!==t.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+t):this._acceptChunk2(t))}_acceptChunk2(t){const e=function(t,e){t.length=0,t[0]=0;let i=1,n=0,r=0,o=0,s=!0;for(let a=0,h=e.length;a<h;a++){const l=e.charCodeAt(a);13===l?a+1<h&&10===e.charCodeAt(a+1)?(o++,t[i++]=a+2,a++):(n++,t[i++]=a+1):10===l?(r++,t[i++]=a+1):s&&9!==l&&(l<32||l>126)&&(s=!1)}const a=new Et(Bt(t),n,r,o,s);return t.length=0,a}(this._tmpLineStarts,t);this.chunks.push(new Ft(t,e.lineStarts)),this.cr+=e.cr,this.lf+=e.lf,this.crlf+=e.crlf,this.isBasicASCII&&(this.isBasicASCII=e.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=h.Ut(t)),this.isBasicASCII||this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=h.ab(t))}finish(t=!0){return this._finish(),new Vt(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,t)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const t=this.chunks[this.chunks.length-1];t.buffer+=String.fromCharCode(this._previousChar);const e=At(t.buffer);t.lineStarts=e,13===this._previousChar&&this.cr++}}}var qt=i(270),Ut=i(4954),jt=i(7378),Gt=i(1204),$t=i(276),Kt=i(4013);class Yt{constructor(t,e){this._startLineNumber=t,this._tokens=e}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(t){return this._tokens[t-this._startLineNumber]}appendLineTokens(t){this._tokens.push(t)}}class Qt{constructor(){this._tokens=[]}add(t,e){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===t)return void i.appendLineTokens(e)}this._tokens.push(new Yt(t,[e]))}finalize(){return this._tokens}}var Xt=i(5393),Jt=i(1432);class Zt{constructor(t){this._default=t,this._store=[]}get(t){return t<this._store.length?this._store[t]:this._default}set(t,e){for(;t>=this._store.length;)this._store[this._store.length]=this._default;this._store[t]=e}delete(t,e){0===e||t>=this._store.length||this._store.splice(t,e)}insert(t,e){if(0===e||t>=this._store.length)return;const i=[];for(let t=0;t<e;t++)i[t]=this._default;this._store=n.Zv(this._store,t,i)}}class te{constructor(t,e){this.tokenizationSupport=t,this.initialState=e,this._lineBeginState=new Zt(null),this._lineNeedsTokenization=new Zt(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(t){this._lineNeedsTokenization.set(t,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,t)}getBeginState(t){return this._lineBeginState.get(t)}setEndState(t,e,i){if(this._lineNeedsTokenization.set(e,!1),this._firstLineNeedsTokenization=e+1,e===t-1)return;const n=this._lineBeginState.get(e+1);if(null===n||!i.equals(n))return this._lineBeginState.set(e+1,i),void this.markMustBeTokenized(e+1);let r=e+1;for(;r<t&&!this._lineNeedsTokenization.get(r);)r++;this._firstLineNeedsTokenization=r}applyEdits(t,e){this.markMustBeTokenized(t.startLineNumber-1),this._lineBeginState.delete(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineNeedsTokenization.delete(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineBeginState.insert(t.startLineNumber,e),this._lineNeedsTokenization.insert(t.startLineNumber,e)}}class ee extends a.JT{constructor(t,e,i){super(),this._textModel=t,this._tokenizationPart=e,this._languageIdCodec=i,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(Gt.RW.onDidChange((t=>{const e=this._textModel.getLanguageId();-1!==t.changedLanguages.indexOf(e)&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())}))),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(t){if(t.isFlush)this._resetTokenizationState();else{if(this._tokenizationStateStore)for(let e=0,i=t.changes.length;e<i;e++){const i=t.changes[e],[n]=(0,c.Q)(i.text);this._tokenizationStateStore.applyEdits(i.range,n)}this._beginBackgroundTokenization()}}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(t){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[t,e]=function(t,e){if(t.isTooLargeForTokenization())return[null,null];const i=Gt.RW.get(e.getLanguageId());if(!i)return[null,null];let n;try{n=i.getInitialState()}catch(t){return(0,o.dL)(t),[null,null]}return[i,n]}(this._textModel,this._tokenizationPart);this._tokenizationStateStore=t&&e?new te(t,e):null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){!this._isScheduled&&this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._isScheduled=!0,(0,Xt.To)((t=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(t)})))}_backgroundTokenizeWithDeadline(t){const e=Date.now()+t.timeRemaining(),i=()=>{!this._isDisposed&&this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._backgroundTokenizeForAtLeast1ms(),Date.now()<e?(0,Jt.fn)(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const t=this._textModel.getLineCount(),e=new Qt,i=Kt.G.create(!1);do{if(i.elapsed()>1)break;if(this._tokenizeOneInvalidLine(e)>=t)break}while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(e.finalize(),this._isTokenizationComplete())}tokenizeViewport(t,e){const i=new Qt;this._tokenizeViewport(i,t,e),this._tokenizationPart.setTokens(i.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(t){const e=new Qt;this._updateTokensUntilLine(e,t),this._tokenizationPart.setTokens(e.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(t,e){if(!this._tokenizationStateStore)return 0;this.forceTokenization(t.lineNumber);const i=this._tokenizationStateStore.getBeginState(t.lineNumber-1);if(!i)return 0;const n=this._textModel.getLanguageId(),r=this._textModel.getLineContent(t.lineNumber),o=r.substring(0,t.column-1)+e+r.substring(t.column-1),s=ie(this._languageIdCodec,n,this._tokenizationStateStore.tokenizationSupport,o,!0,i),a=new jt.A(s.tokens,o,this._languageIdCodec);if(0===a.getCount())return 0;const h=a.findTokenIndexAtOffset(t.column-1);return a.getStandardTokenType(h)}tokenizeLineWithEdit(t,e,i){const n=t.lineNumber,r=t.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(n);const o=this._tokenizationStateStore.getBeginState(n-1);if(!o)return null;const s=this._textModel.getLineContent(n),a=s.substring(0,r-1)+i+s.substring(r-1+e),h=this._textModel.getLanguageIdAtPosition(n,0),l=ie(this._languageIdCodec,h,this._tokenizationStateStore.tokenizationSupport,a,!0,o);return new jt.A(l.tokens,a,this._languageIdCodec)}isCheapToTokenize(t){if(!this._tokenizationStateStore)return!0;const e=this._tokenizationStateStore.invalidLineStartIndex+1;return!(t>e)&&(t<e||this._textModel.getLineLength(t)<2048)}_hasLinesToTokenize(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_isTokenizationComplete(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount()}_tokenizeOneInvalidLine(t){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const e=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(t,e),e}_updateTokensUntilLine(t,e){if(!this._tokenizationStateStore)return;const i=this._textModel.getLanguageId(),n=this._textModel.getLineCount(),r=e-1;for(let e=this._tokenizationStateStore.invalidLineStartIndex;e<=r;e++){const r=this._textModel.getLineContent(e+1),o=this._tokenizationStateStore.getBeginState(e),s=ie(this._languageIdCodec,i,this._tokenizationStateStore.tokenizationSupport,r,!0,o);t.add(e+1,s.tokens),this._tokenizationStateStore.setEndState(n,e,s.endState),e=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(t,e,i){if(!this._tokenizationStateStore)return;if(i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(e<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(t,i);let n=this._textModel.getLineFirstNonWhitespaceColumn(e);const r=[];let o=null;for(let t=e-1;n>1&&t>=1;t--){const e=this._textModel.getLineFirstNonWhitespaceColumn(t);if(0!==e&&(e<n&&(r.push(this._textModel.getLineContent(t)),n=e,o=this._tokenizationStateStore.getBeginState(t-1),o)))break}o||(o=this._tokenizationStateStore.initialState);const s=this._textModel.getLanguageId();let a=o;for(let t=r.length-1;t>=0;t--){a=ie(this._languageIdCodec,s,this._tokenizationStateStore.tokenizationSupport,r[t],!1,a).endState}for(let n=e;n<=i;n++){const e=this._textModel.getLineContent(n),i=ie(this._languageIdCodec,s,this._tokenizationStateStore.tokenizationSupport,e,!0,a);t.add(n,i.tokens),this._tokenizationStateStore.markMustBeTokenized(n-1),a=i.endState}}}function ie(t,e,i,n,r,s){let a=null;if(i)try{a=i.tokenizeEncoded(n,r,s.clone())}catch(t){(0,o.dL)(t)}return a||(a=(0,$t.Dy)(t.encodeLanguageId(e),s)),jt.A.convertToEndOffset(a.tokens,n.length),a}const ne=new Uint32Array(0).buffer;class re{static deleteBeginning(t,e){return null===t||t===ne?t:re.delete(t,0,e)}static deleteEnding(t,e){if(null===t||t===ne)return t;const i=oe(t),n=i[i.length-2];return re.delete(t,e,n)}static delete(t,e,i){if(null===t||t===ne||e===i)return t;const n=oe(t),r=n.length>>>1;if(0===e&&n[n.length-2]===i)return ne;const o=jt.A.findIndexInTokensArray(n,e),s=o>0?n[o-1<<1]:0;if(i<n[o<<1]){const s=i-e;for(let t=o;t<r;t++)n[t<<1]-=s;return t}let a,h;s!==e?(n[o<<1]=e,a=o+1<<1,h=e):(a=o<<1,h=s);const l=i-e;for(let t=o+1;t<r;t++){const e=n[t<<1]-l;e>h&&(n[a++]=e,n[a++]=n[1+(t<<1)],h=e)}if(a===n.length)return t;const c=new Uint32Array(a);return c.set(n.subarray(0,a),0),c.buffer}static append(t,e){if(e===ne)return t;if(t===ne)return e;if(null===t)return t;if(null===e)return null;const i=oe(t),n=oe(e),r=n.length>>>1,o=new Uint32Array(i.length+n.length);o.set(i,0);let s=i.length;const a=i[i.length-2];for(let t=0;t<r;t++)o[s++]=n[t<<1]+a,o[s++]=n[1+(t<<1)];return o.buffer}static insert(t,e,i){if(null===t||t===ne)return t;const n=oe(t),r=n.length>>>1;let o=jt.A.findIndexInTokensArray(n,e);if(o>0){n[o-1<<1]===e&&o--}for(let t=o;t<r;t++)n[t<<1]+=i;return t}}function oe(t){return t instanceof Uint32Array?t:new Uint32Array(t)}var se=i(5797);class ae{constructor(t){this._lineTokens=[],this._len=0,this._languageIdCodec=t}flush(){this._lineTokens=[],this._len=0}getTokens(t,e,i){let n=null;if(e<this._len&&(n=this._lineTokens[e]),null!==n&&n!==ne)return new jt.A(oe(n),i,this._languageIdCodec);const r=new Uint32Array(2);return r[0]=i.length,r[1]=he(this._languageIdCodec.encodeLanguageId(t)),new jt.A(r,i,this._languageIdCodec)}static _massageTokens(t,e,i){const n=i?oe(i):null;if(0===e){let e=!1;if(n&&n.length>1&&(e=se.N.getLanguageId(n[1])!==t),!e)return ne}if(!n||0===n.length){const i=new Uint32Array(2);return i[0]=e,i[1]=he(t),i.buffer}return n[n.length-2]=e,0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(t){for(;t>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(t,e){0!==e&&(t+e>this._len&&(e=this._len-t),this._lineTokens.splice(t,e),this._len-=e)}_insertLines(t,e){if(0===e)return;const i=[];for(let t=0;t<e;t++)i[t]=null;this._lineTokens=n.Zv(this._lineTokens,t,i),this._len+=e}setTokens(t,e,i,n,r){const o=ae._massageTokens(this._languageIdCodec.encodeLanguageId(t),i,n);this._ensureLine(e);const s=this._lineTokens[e];return this._lineTokens[e]=o,!!r&&!ae._equals(s,o)}static _equals(t,e){if(!t||!e)return!t&&!e;const i=oe(t),n=oe(e);if(i.length!==n.length)return!1;for(let t=0,e=i.length;t<e;t++)if(i[t]!==n[t])return!1;return!0}acceptEdit(t,e,i){this._acceptDeleteRange(t),this._acceptInsertText(new u.L(t.startLineNumber,t.startColumn),e,i)}_acceptDeleteRange(t){const e=t.startLineNumber-1;if(e>=this._len)return;if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;return void(this._lineTokens[e]=re.delete(this._lineTokens[e],t.startColumn-1,t.endColumn-1))}this._lineTokens[e]=re.deleteEnding(this._lineTokens[e],t.startColumn-1);const i=t.endLineNumber-1;let n=null;i<this._len&&(n=re.deleteBeginning(this._lineTokens[i],t.endColumn-1)),this._lineTokens[e]=re.append(this._lineTokens[e],n),this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,e,i){if(0===e&&0===i)return;const n=t.lineNumber-1;n>=this._len||(0!==e?(this._lineTokens[n]=re.deleteEnding(this._lineTokens[n],t.column-1),this._lineTokens[n]=re.insert(this._lineTokens[n],t.column-1,i),this._insertLines(t.lineNumber,e)):this._lineTokens[n]=re.insert(this._lineTokens[n],t.column-1,i))}}function he(t){return(32768|t<<0|2<<24|1024)>>>0}class le{constructor(t){this._pieces=[],this._isComplete=!1,this._languageIdCodec=t}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(t,e){this._pieces=t||[],this._isComplete=e}setPartial(t,e){let i=t;if(e.length>0){const n=e[0].getRange(),r=e[e.length-1].getRange();if(!n||!r)return t;i=t.plusRange(n).plusRange(r)}let r=null;for(let t=0,e=this._pieces.length;t<e;t++){const n=this._pieces[t];if(n.endLineNumber<i.startLineNumber)continue;if(n.startLineNumber>i.endLineNumber){r=r||{index:t};break}if(n.removeTokens(i),n.isEmpty()){this._pieces.splice(t,1),t--,e--;continue}if(n.endLineNumber<i.startLineNumber)continue;if(n.startLineNumber>i.endLineNumber){r=r||{index:t};continue}const[o,s]=n.split(i);o.isEmpty()?r=r||{index:t}:s.isEmpty()||(this._pieces.splice(t,1,o,s),t++,e++,r=r||{index:t})}return r=r||{index:this._pieces.length},e.length>0&&(this._pieces=n.Zv(this._pieces,r.index,e)),i}isComplete(){return this._isComplete}addSparseTokens(t,e){if(0===e.getLineContent().length)return e;const i=this._pieces;if(0===i.length)return e;const n=i[le._findFirstPieceWithLine(i,t)].getLineTokens(t);if(!n)return e;const r=e.getCount(),o=n.getCount();let s=0;const a=[];let h=0,l=0;const c=(t,e)=>{t!==l&&(l=t,a[h++]=t,a[h++]=e)};for(let t=0;t<o;t++){const i=n.getStartCharacter(t),o=n.getEndCharacter(t),a=n.getMetadata(t),h=((1&a?2048:0)|(2&a?4096:0)|(4&a?8192:0)|(8&a?16384:0)|(16&a?16744448:0)|(32&a?4278190080:0))>>>0,l=~h>>>0;for(;s<r&&e.getEndOffset(s)<=i;)c(e.getEndOffset(s),e.getMetadata(s)),s++;for(s<r&&e.getStartOffset(s)<i&&c(i,e.getMetadata(s));s<r&&e.getEndOffset(s)<o;)c(e.getEndOffset(s),e.getMetadata(s)&l|a&h),s++;if(s<r)c(o,e.getMetadata(s)&l|a&h),e.getEndOffset(s)===o&&s++;else{const t=Math.min(Math.max(0,s-1),r-1);c(o,e.getMetadata(t)&l|a&h)}}for(;s<r;)c(e.getEndOffset(s),e.getMetadata(s)),s++;return new jt.A(new Uint32Array(a),e.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(t,e){let i=0,n=t.length-1;for(;i<n;){let r=i+Math.floor((n-i)/2);if(t[r].endLineNumber<e)i=r+1;else{if(!(t[r].startLineNumber>e)){for(;r>i&&t[r-1].startLineNumber<=e&&e<=t[r-1].endLineNumber;)r--;return r}n=r-1}}return i}acceptEdit(t,e,i,n,r){for(const o of this._pieces)o.acceptEdit(t,e,i,n,r)}}class ce extends Ut.U{constructor(t,e,i,n,r){super(),this._languageService=t,this._languageConfigurationService=e,this._textModel=i,this.bracketPairsTextModelPart=n,this._languageId=r,this._onDidChangeLanguage=this._register(new s.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new s.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new s.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new s.Q5),this._tokens=new ae(this._languageService.languageIdCodec),this._semanticTokens=new le(this._languageService.languageIdCodec),this._tokenization=new ee(i,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange((t=>{t.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}))}acceptEdit(t,e,i,n,r){this._tokens.acceptEdit(t,i,n),this._semanticTokens.acceptEdit(t,i,n,r,e.length>0?e.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(t){this._tokenization.handleDidChangeContent(t)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(t){if(2===this._backgroundTokenizationState)return;const e=t?2:1;this._backgroundTokenizationState!==e&&(this._backgroundTokenizationState=e,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(t,e=!1){if(0!==t.length){const e=[];for(let i=0,n=t.length;i<n;i++){const n=t[i];let r=0,o=0,s=!1;for(let t=n.startLineNumber;t<=n.endLineNumber;t++)if(s)this._tokens.setTokens(this._languageId,t-1,this._textModel.getLineLength(t),n.getLineTokens(t),!1),o=t;else{this._tokens.setTokens(this._languageId,t-1,this._textModel.getLineLength(t),n.getLineTokens(t),!0)&&(s=!0,r=t,o=t)}s&&e.push({fromLineNumber:r,toLineNumber:o})}e.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:e})}this.handleTokenizationProgress(e)}setSemanticTokens(t,e){this._semanticTokens.set(t,e),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==t,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(t,e){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(t,e));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(t,e){t=Math.max(1,t),e=Math.min(this._textModel.getLineCount(),e),this._tokenization.tokenizeViewport(t,e)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(t){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(t),this._onDidChangeTokens.fire(t))}resetTokenization(){this._tokenization.reset()}forceTokenization(t){if(t<1||t>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(t)}isCheapToTokenize(t){return this._tokenization.isCheapToTokenize(t)}tokenizeIfCheap(t){this.isCheapToTokenize(t)&&this.forceTokenization(t)}getLineTokens(t){if(t<1||t>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(t)}_getLineTokens(t){const e=this._textModel.getLineContent(t),i=this._tokens.getTokens(this._languageId,t-1,e);return this._semanticTokens.addSparseTokens(t,i)}getTokenTypeIfInsertingCharacter(t,e,i){const n=this._textModel.validatePosition(new u.L(t,e));return this._tokenization.getTokenTypeIfInsertingCharacter(n,i)}tokenizeLineWithEdit(t,e,i){const n=this._textModel.validatePosition(t);return this._tokenization.tokenizeLineWithEdit(n,e,i)}getLanguageConfiguration(t){return this._languageConfigurationService.getLanguageConfiguration(t)}getWordAtPosition(t){this.assertNotDisposed();const e=this._textModel.validatePosition(t),i=this._textModel.getLineContent(e.lineNumber),n=this._getLineTokens(e.lineNumber),r=n.findTokenIndexAtOffset(e.column-1),[o,s]=ce._findLanguageBoundaries(n,r),a=(0,qt.t2)(e.column,this.getLanguageConfiguration(n.getLanguageId(r)).getWordDefinition(),i.substring(o,s),o);if(a&&a.startColumn<=t.column&&t.column<=a.endColumn)return a;if(r>0&&o===e.column-1){const[o,s]=ce._findLanguageBoundaries(n,r-1),a=(0,qt.t2)(e.column,this.getLanguageConfiguration(n.getLanguageId(r-1)).getWordDefinition(),i.substring(o,s),o);if(a&&a.startColumn<=t.column&&t.column<=a.endColumn)return a}return null}static _findLanguageBoundaries(t,e){const i=t.getLanguageId(e);let n=0;for(let r=e;r>=0&&t.getLanguageId(r)===i;r--)n=t.getStartOffset(r);let r=t.getLineContent().length;for(let n=e,o=t.getCount();n<o&&t.getLanguageId(n)===i;n++)r=t.getEndOffset(n);return[n,r]}getWordUntilPosition(t){const e=this.getWordAtPosition(t);return e?{word:e.word.substr(0,t.column-e.startColumn),startColumn:e.startColumn,endColumn:t.column}:{word:"",startColumn:t.column,endColumn:t.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(t,e){const i=this._textModel.validatePosition(new u.L(t,e)),n=this.getLineTokens(i.lineNumber);return n.getLanguageId(n.findTokenIndexAtOffset(i.column-1))}setLanguageId(t){if(this._languageId===t)return;const e={oldLanguage:this._languageId,newLanguage:t};this._languageId=t,this.bracketPairsTextModelPart.handleDidChangeLanguage(e),this._tokenization.handleDidChangeLanguage(e),this._onDidChangeLanguage.fire(e),this._onDidChangeLanguageConfiguration.fire({})}}var de=i(4706),ue=i(4862),ge=function(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s},fe=function(t,e){return function(i,n){e(i,n,t)}};function pe(t,e){let i;return i="string"==typeof t?function(t){const e=new Wt;return e.acceptChunk(t),e.finish()}(t):k.Hf(t)?function(t){const e=new Wt;let i;for(;"string"==typeof(i=t.read());)e.acceptChunk(i);return e.finish()}(t):t,i.create(e)}let me=0;class _e{constructor(t){this._source=t,this._eos=!1}read(){if(this._eos)return null;const t=[];let e=0,i=0;for(;;){const n=this._source.read();if(null===n)return this._eos=!0,0===e?null:t.join("");if(n.length>0&&(t[e++]=n,i+=n.length),i>=65536)return t.join("")}}}const ke=()=>{throw new Error("Invalid change accessor")};let be=class t extends a.JT{constructor(e,i,n,r=null,o,a,c){super(),this._undoRedoService=o,this._languageService=a,this._languageConfigurationService=c,this._onWillDispose=this._register(new s.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Be((t=>this.handleBeforeFireDecorationsChangedEvent(t)))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new s.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new s.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new s.Q5),this._eventEmitter=this._register(new Ee),this._deltaDecorationCallCnt=0,me++,this.id="$model"+me,this.isForSimpleWidget=n.isForSimpleWidget,this._associatedResource=null==r?l.o.parse("inmemory://model/"+me):r,this._attachedEditorCount=0;const{textBuffer:d,disposable:u}=pe(e,n.defaultEOL);this._buffer=d,this._bufferDisposable=u,this._options=t.resolveOptions(this._buffer,n),this._bracketPairs=this._register(new F(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new U.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new V(this)),this._tokenizationTextModelPart=new ce(this._languageService,this._languageConfigurationService,this,this._bracketPairs,i);const f=this._buffer.getLineCount(),p=this._buffer.getValueLengthInRange(new g.e(1,1,f,this._buffer.getLineLength(f)+1),0);n.largeFileOptimizations?this._isTooLargeForTokenization=p>t.LARGE_FILE_SIZE_THRESHOLD||f>t.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=p>t.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=h.PJ(me),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Se,this._commandManager=new q.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange((()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})))}static resolveOptions(t,e){if(e.detectIndentation){const i=$(t,e.tabSize,e.insertSpaces);return new k.dJ({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:e.trimAutoWhitespace,defaultEOL:e.defaultEOL,bracketPairColorizationOptions:e.bracketPairColorizationOptions})}return new k.dJ({tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,trimAutoWhitespace:e.trimAutoWhitespace,defaultEOL:e.defaultEOL,bracketPairColorizationOptions:e.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(t){return this._eventEmitter.slowEvent((e=>t(e.contentChangedEvent)))}onDidChangeContentOrInjectedText(t){return(0,a.F8)(this._eventEmitter.fastEvent((e=>t(e))),this._onDidChangeInjectedText.event((e=>t(e))))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const t=new Ht([],"","\n",!1,!1,!0,!0);t.dispose(),this._buffer=t,this._bufferDisposable=a.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(t,e){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(e),this._bracketPairs.handleDidChangeContent(e),this._eventEmitter.fire(new de.fV(t,e)))}setValue(t){if(this._assertNotDisposed(),null===t)return;const{textBuffer:e,disposable:i}=pe(t,this._options.defaultEOL);this._setValueFromTextBuffer(e,i)}_createContentChanged2(t,e,i,n,r,o,s){return{changes:[{range:t,rangeOffset:e,rangeLength:i,text:n}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:r,isRedoing:o,isFlush:s}}_setValueFromTextBuffer(t,e){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),r=this.getLineCount(),o=this.getLineMaxColumn(r);this._buffer=t,this._bufferDisposable.dispose(),this._bufferDisposable=e,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new Se,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new de.dQ([new de.Jx],this._versionId,!1,!1),this._createContentChanged2(new g.e(1,1,r,o),0,n,this.getValue(),!1,!1,!0))}setEOL(t){this._assertNotDisposed();const e=1===t?"\r\n":"\n";if(this._buffer.getEOL()===e)return;const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),r=this.getLineCount(),o=this.getLineMaxColumn(r);this._onBeforeEOLChange(),this._buffer.setEOL(e),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new de.dQ([new de.CZ],this._versionId,!1,!1),this._createContentChanged2(new g.e(1,1,r,o),0,n,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const t=this.getVersionId(),e=this._decorationsTree.collectNodesPostOrder();for(let i=0,n=e.length;i<n;i++){const n=e[i],r=n.range,o=n.cachedAbsoluteStart-n.start,s=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),a=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);n.cachedAbsoluteStart=s,n.cachedAbsoluteEnd=a,n.cachedVersionId=t,n.start=s-o,n.end=a-o,gt(n)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let t=0,e=0;const i=this._buffer.getLineCount();for(let n=1;n<=i;n++){const i=this._buffer.getLineLength(n);i>=1e4?e+=i:t+=i}return e>t}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(t){this._assertNotDisposed();const e=void 0!==t.tabSize?t.tabSize:this._options.tabSize,i=void 0!==t.indentSize?t.indentSize:this._options.indentSize,n=void 0!==t.insertSpaces?t.insertSpaces:this._options.insertSpaces,r=void 0!==t.trimAutoWhitespace?t.trimAutoWhitespace:this._options.trimAutoWhitespace,o=void 0!==t.bracketColorizationOptions?t.bracketColorizationOptions:this._options.bracketPairColorizationOptions,s=new k.dJ({tabSize:e,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:r,bracketPairColorizationOptions:o});if(this._options.equals(s))return;const a=this._options.createChangeEvent(s);this._options=s,this._bracketPairs.handleDidChangeOptions(a),this._decorationProvider.handleDidChangeOptions(a),this._onDidChangeOptions.fire(a)}detectIndentation(t,e){this._assertNotDisposed();const i=$(this._buffer,e,t);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(t){return this._assertNotDisposed(),(0,d.x)(t,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(t=null){const e=this.findMatches(h.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(t,e.map((t=>({range:t.range,text:null}))),(()=>null))}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(t){this._assertNotDisposed();const e=this._validatePosition(t.lineNumber,t.column,0);return this._buffer.getOffsetAt(e.lineNumber,e.column)}getPositionAt(t){this._assertNotDisposed();const e=Math.min(this._buffer.getLength(),Math.max(0,t));return this._buffer.getPositionAt(e)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(t){this._versionId=t}_overwriteAlternativeVersionId(t){this._alternativeVersionId=t}_overwriteInitialUndoRedoSnapshot(t){this._initialUndoRedoSnapshot=t}getValue(t,e=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueInRange(i,t);return e?this._buffer.getBOM()+n:n}createSnapshot(t=!1){return new _e(this._buffer.createSnapshot(t))}getValueLength(t,e=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i,t);return e?this._buffer.getBOM().length+n:n}getValueInRange(t,e=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(t),e)}getValueLengthInRange(t,e=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(t),e)}getCharacterCountInRange(t,e=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(t),e)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(t)}getLineLength(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(t)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(t){return this._assertNotDisposed(),1}getLineMaxColumn(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(t)+1}getLineFirstNonWhitespaceColumn(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(t)}getLineLastNonWhitespaceColumn(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(t)}_validateRangeRelaxedNoAllocations(t){const e=this._buffer.getLineCount(),i=t.startLineNumber,n=t.startColumn;let r=Math.floor("number"!=typeof i||isNaN(i)?1:i),o=Math.floor("number"!=typeof n||isNaN(n)?1:n);if(r<1)r=1,o=1;else if(r>e)r=e,o=this.getLineMaxColumn(r);else if(o<=1)o=1;else{const t=this.getLineMaxColumn(r);o>=t&&(o=t)}const s=t.endLineNumber,a=t.endColumn;let h=Math.floor("number"!=typeof s||isNaN(s)?1:s),l=Math.floor("number"!=typeof a||isNaN(a)?1:a);if(h<1)h=1,l=1;else if(h>e)h=e,l=this.getLineMaxColumn(h);else if(l<=1)l=1;else{const t=this.getLineMaxColumn(h);l>=t&&(l=t)}return i===r&&n===o&&s===h&&a===l&&t instanceof g.e&&!(t instanceof f.Y)?t:new g.e(r,o,h,l)}_isValidPosition(t,e,i){if("number"!=typeof t||"number"!=typeof e)return!1;if(isNaN(t)||isNaN(e))return!1;if(t<1||e<1)return!1;if((0|t)!==t||(0|e)!==e)return!1;if(t>this._buffer.getLineCount())return!1;if(1===e)return!0;if(e>this.getLineMaxColumn(t))return!1;if(1===i){const i=this._buffer.getLineCharCode(t,e-2);if(h.ZG(i))return!1}return!0}_validatePosition(t,e,i){const n=Math.floor("number"!=typeof t||isNaN(t)?1:t),r=Math.floor("number"!=typeof e||isNaN(e)?1:e),o=this._buffer.getLineCount();if(n<1)return new u.L(1,1);if(n>o)return new u.L(o,this.getLineMaxColumn(o));if(r<=1)return new u.L(n,1);const s=this.getLineMaxColumn(n);if(r>=s)return new u.L(n,s);if(1===i){const t=this._buffer.getLineCharCode(n,r-2);if(h.ZG(t))return new u.L(n,r-1)}return new u.L(n,r)}validatePosition(t){return this._assertNotDisposed(),t instanceof u.L&&this._isValidPosition(t.lineNumber,t.column,1)?t:this._validatePosition(t.lineNumber,t.column,1)}_isValidRange(t,e){const i=t.startLineNumber,n=t.startColumn,r=t.endLineNumber,o=t.endColumn;if(!this._isValidPosition(i,n,0))return!1;if(!this._isValidPosition(r,o,0))return!1;if(1===e){const t=n>1?this._buffer.getLineCharCode(i,n-2):0,e=o>1&&o<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,o-2):0,s=h.ZG(t),a=h.ZG(e);return!s&&!a}return!0}validateRange(t){if(this._assertNotDisposed(),t instanceof g.e&&!(t instanceof f.Y)&&this._isValidRange(t,1))return t;const e=this._validatePosition(t.startLineNumber,t.startColumn,0),i=this._validatePosition(t.endLineNumber,t.endColumn,0),n=e.lineNumber,r=e.column,o=i.lineNumber,s=i.column;{const t=r>1?this._buffer.getLineCharCode(n,r-2):0,e=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,i=h.ZG(t),a=h.ZG(e);return i||a?n===o&&r===s?new g.e(n,r-1,o,s-1):i&&a?new g.e(n,r-1,o,s+1):i?new g.e(n,r-1,o,s):new g.e(n,r,o,s+1):new g.e(n,r,o,s)}}modifyPosition(t,e){this._assertNotDisposed();const i=this.getOffsetAt(t)+e;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const t=this.getLineCount();return new g.e(1,1,t,this.getLineMaxColumn(t))}findMatchesLineByLine(t,e,i,n){return this._buffer.findMatchesLineByLine(t,e,i,n)}findMatches(t,e,i,n,r,o,s=999){this._assertNotDisposed();let a=null;null!==e&&(Array.isArray(e)||(e=[e]),e.every((t=>g.e.isIRange(t)))&&(a=e.map((t=>this.validateRange(t))))),null===a&&(a=[this.getFullModelRange()]),a=a.sort(((t,e)=>t.startLineNumber-e.startLineNumber||t.startColumn-e.startColumn));const h=[];let l;if(h.push(a.reduce(((t,e)=>g.e.areIntersecting(t,e)?t.plusRange(e):(h.push(t),e)))),!i&&t.indexOf("\n")<0){const e=new Dt.bc(t,i,n,r).parseSearchRequest();if(!e)return[];l=t=>this.findMatchesLineByLine(t,e,o,s)}else l=e=>Dt.pM.findMatches(this,new Dt.bc(t,i,n,r),e,o,s);return h.map(l).reduce(((t,e)=>t.concat(e)),[])}findNextMatch(t,e,i,n,r,o){this._assertNotDisposed();const s=this.validatePosition(e);if(!i&&t.indexOf("\n")<0){const e=new Dt.bc(t,i,n,r).parseSearchRequest();if(!e)return null;const a=this.getLineCount();let h=new g.e(s.lineNumber,s.column,a,this.getLineMaxColumn(a)),l=this.findMatchesLineByLine(h,e,o,1);return Dt.pM.findNextMatch(this,new Dt.bc(t,i,n,r),s,o),l.length>0?l[0]:(h=new g.e(1,1,s.lineNumber,this.getLineMaxColumn(s.lineNumber)),l=this.findMatchesLineByLine(h,e,o,1),l.length>0?l[0]:null)}return Dt.pM.findNextMatch(this,new Dt.bc(t,i,n,r),s,o)}findPreviousMatch(t,e,i,n,r,o){this._assertNotDisposed();const s=this.validatePosition(e);return Dt.pM.findPreviousMatch(this,new Dt.bc(t,i,n,r),s,o)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(t){if(("\n"===this.getEOL()?0:1)!==t)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(t){return t instanceof k.Qi?t:new k.Qi(t.identifier||null,this.validateRange(t.range),t.text,t.forceMoveMarkers||!1,t.isAutoWhitespaceEdit||!1,t._isTracked||!1)}_validateEditOperations(t){const e=[];for(let i=0,n=t.length;i<n;i++)e[i]=this._validateEditOperation(t[i]);return e}pushEditOperations(t,e,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(t,this._validateEditOperations(e),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(t,e,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const i=e.map((t=>({range:this.validateRange(t.range),text:t.text})));let n=!0;if(t)for(let e=0,r=t.length;e<r;e++){const r=t[e];let o=!1;for(let t=0,e=i.length;t<e;t++){const e=i[t].range,n=e.startLineNumber>r.endLineNumber,s=r.startLineNumber>e.endLineNumber;if(!n&&!s){o=!0;break}}if(!o){n=!1;break}}if(n)for(let t=0,n=this._trimAutoWhitespaceLines.length;t<n;t++){const n=this._trimAutoWhitespaceLines[t],r=this.getLineMaxColumn(n);let o=!0;for(let t=0,e=i.length;t<e;t++){const e=i[t].range,s=i[t].text;if(!(n<e.startLineNumber||n>e.endLineNumber)&&!(n===e.startLineNumber&&e.startColumn===r&&e.isEmpty()&&s&&s.length>0&&"\n"===s.charAt(0)||n===e.startLineNumber&&1===e.startColumn&&e.isEmpty()&&s&&s.length>0&&"\n"===s.charAt(s.length-1))){o=!1;break}}if(o){const t=new g.e(n,1,n,r);e.push(new k.Qi(null,t,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(t,e,i)}_applyUndo(t,e,i,n){const r=t.map((t=>{const e=this.getPositionAt(t.newPosition),i=this.getPositionAt(t.newEnd);return{range:new g.e(e.lineNumber,e.column,i.lineNumber,i.column),text:t.oldText}}));this._applyUndoRedoEdits(r,e,!0,!1,i,n)}_applyRedo(t,e,i,n){const r=t.map((t=>{const e=this.getPositionAt(t.oldPosition),i=this.getPositionAt(t.oldEnd);return{range:new g.e(e.lineNumber,e.column,i.lineNumber,i.column),text:t.newText}}));this._applyUndoRedoEdits(r,e,!1,!0,i,n)}_applyUndoRedoEdits(t,e,i,n,r,o){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(t,!1),this.setEOL(e),this._overwriteAlternativeVersionId(r)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(o),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(t,e=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(t);return this._doApplyEdits(i,e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(t,e){const i=this._buffer.getLineCount(),r=this._buffer.applyEdits(t,this._options.trimAutoWhitespace,e),o=this._buffer.getLineCount(),s=r.changes;if(this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers,0!==s.length){for(let t=0,e=s.length;t<e;t++){const e=s[t],[i,n,r]=(0,c.Q)(e.text);this._tokenizationTextModelPart.acceptEdit(e.range,e.text,i,n,r),this._decorationsTree.acceptReplace(e.rangeOffset,e.rangeLength,e.text.length,e.forceMoveMarkers)}const t=[];this._increaseVersionId();let e=i;for(let i=0,r=s.length;i<r;i++){const r=s[i],[a]=(0,c.Q)(r.text);this._onDidChangeDecorations.fire();const h=r.range.startLineNumber,l=r.range.endLineNumber,d=l-h,g=a,f=Math.min(d,g),p=g-d,m=o-e-p+h,_=m,k=m+g,b=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new u.L(_,1)),this.getOffsetAt(new u.L(k,this.getLineMaxColumn(k))),0),v=de.gk.fromDecorations(b),C=new n.H9(v);for(let e=f;e>=0;e--){const i=h+e,n=m+e;C.takeFromEndWhile((t=>t.lineNumber>n));const r=C.takeFromEndWhile((t=>t.lineNumber===n));t.push(new de.rU(i,this.getLineContent(n),r))}if(f<d){const e=h+f;t.push(new de.lN(e+1,l))}if(f<g){const i=new n.H9(v),r=h+f,s=g-f,a=o-e-s+r+1,l=[],c=[];for(let t=0;t<s;t++){const e=a+t;c[t]=this.getLineContent(e),i.takeWhile((t=>t.lineNumber<e)),l[t]=i.takeWhile((t=>t.lineNumber===e))}t.push(new de.Tx(r+1,h+g,c,l))}e+=p}this._emitContentChangedEvent(new de.dQ(t,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===r.reverseEdits?void 0:r.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(t){if(null===t||0===t.size)return;const e=Array.from(t).map((t=>new de.rU(t,this.getLineContent(t),this._getInjectedTextInLine(t))));this._onDidChangeInjectedText.fire(new de.D8(e))}changeDecorations(t,e=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(t,e){const i={addDecoration:(e,i)=>this._deltaDecorationsImpl(t,[],[{range:e,options:i}])[0],changeDecoration:(t,e)=>{this._changeDecorationImpl(t,e)},changeDecorationOptions:(t,e)=>{this._changeDecorationOptionsImpl(t,Te(e))},removeDecoration:e=>{this._deltaDecorationsImpl(t,[e],[])},deltaDecorations:(e,i)=>0===e.length&&0===i.length?[]:this._deltaDecorationsImpl(t,e,i)};let n=null;try{n=e(i)}catch(t){(0,o.dL)(t)}return i.addDecoration=ke,i.changeDecoration=ke,i.changeDecorationOptions=ke,i.removeDecoration=ke,i.deltaDecorations=ke,n}deltaDecorations(t,e,i=0){if(this._assertNotDisposed(),t||(t=[]),0===t.length&&0===e.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(0,o.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations.")),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,t,e)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(t){return this.getDecorationRange(t)}_setTrackedRange(t,e,i){const n=t?this._decorations[t]:null;if(!n)return e?this._deltaDecorationsImpl(0,[],[{range:e,options:De[i]}])[0]:null;if(!e)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;const r=this._validateRangeRelaxedNoAllocations(e),o=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),s=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),o,s,r),n.setOptions(De[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(t){if(this._isDisposed)return;const e=this._decorationsTree.collectNodesFromOwner(t);for(let t=0,i=e.length;t<i;t++){const i=e[t];this._decorationsTree.delete(i),delete this._decorations[i.id]}}getDecorationOptions(t){const e=this._decorations[t];return e?e.options:null}getDecorationRange(t){const e=this._decorations[t];return e?this._decorationsTree.getNodeRange(this,e):null}getLineDecorations(t,e=0,i=!1){return t<1||t>this.getLineCount()?[]:this.getLinesDecorations(t,t,e,i)}getLinesDecorations(t,e,i=0,r=!1){const o=this.getLineCount(),s=Math.min(o,Math.max(1,t)),a=Math.min(o,Math.max(1,e)),h=this.getLineMaxColumn(a),l=new g.e(s,1,a,h),c=this._getDecorationsInRange(l,i,r);return(0,n.vA)(c,this._decorationProvider.getDecorationsInRange(l,i,r)),c}getDecorationsInRange(t,e=0,i=!1){const r=this.validateRange(t),o=this._getDecorationsInRange(r,e,i);return(0,n.vA)(o,this._decorationProvider.getDecorationsInRange(r,e,i)),o}getOverviewRulerDecorations(t=0,e=!1){return this._decorationsTree.getAll(this,t,e,!0)}getInjectedTextDecorations(t=0){return this._decorationsTree.getAllInjectedText(this,t)}_getInjectedTextInLine(t){const e=this._buffer.getOffsetAt(t,1),i=e+this._buffer.getLineLength(t),n=this._decorationsTree.getInjectedTextInInterval(this,e,i,0);return de.gk.fromDecorations(n).filter((e=>e.lineNumber===t))}getAllDecorations(t=0,e=!1){let i=this._decorationsTree.getAll(this,t,e,!1);return i=i.concat(this._decorationProvider.getAllDecorations(t,e)),i}_getDecorationsInRange(t,e,i){const n=this._buffer.getOffsetAt(t.startLineNumber,t.startColumn),r=this._buffer.getOffsetAt(t.endLineNumber,t.endColumn);return this._decorationsTree.getAllInInterval(this,n,r,e,i)}getRangeAt(t,e){return this._buffer.getRangeAt(t,e-t)}_changeDecorationImpl(t,e){const i=this._decorations[t];if(!i)return;if(i.options.after){const e=this.getDecorationRange(t);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(i.options.before){const e=this.getDecorationRange(t);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}const n=this._validateRangeRelaxedNoAllocations(e),r=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),o=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),r,o,n),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.startLineNumber)}_changeDecorationOptionsImpl(t,e){const i=this._decorations[t];if(!i)return;const n=!(!i.options.overviewRuler||!i.options.overviewRuler.color),r=!(!e.overviewRuler||!e.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(e),i.options.after||e.after){const t=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.endLineNumber)}if(i.options.before||e.before){const t=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.startLineNumber)}n!==r?(this._decorationsTree.delete(i),i.setOptions(e),this._decorationsTree.insert(i)):i.setOptions(e)}_deltaDecorationsImpl(t,e,i){const n=this.getVersionId(),r=e.length;let o=0;const s=i.length;let a=0;const h=new Array(s);for(;o<r||a<s;){let l=null;if(o<r){do{l=this._decorations[e[o++]]}while(!l&&o<r);if(l){if(l.options.after){const t=this._decorationsTree.getNodeRange(this,l);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.endLineNumber)}if(l.options.before){const t=this._decorationsTree.getNodeRange(this,l);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.startLineNumber)}this._decorationsTree.delete(l),this._onDidChangeDecorations.checkAffectedAndFire(l.options)}}if(a<s){if(!l){const t=++this._lastDecorationId,e=`${this._instanceId};${t}`;l=new it(e,0,0),this._decorations[e]=l}const e=i[a],r=this._validateRangeRelaxedNoAllocations(e.range),o=Te(e.options),s=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),c=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);l.ownerId=t,l.reset(n,s,c,r),l.setOptions(o),l.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),l.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(o),this._decorationsTree.insert(l),h[a]=l.id,a++}else l&&delete this._decorations[l.id]}return h}getLanguageId(){return this.tokenization.getLanguageId()}setMode(t){this.tokenization.setLanguageId(t)}getLanguageIdAtPosition(t,e){return this.tokenization.getLanguageIdAtPosition(t,e)}getWordAtPosition(t){return this._tokenizationTextModelPart.getWordAtPosition(t)}getWordUntilPosition(t){return this._tokenizationTextModelPart.getWordUntilPosition(t)}normalizePosition(t,e){return t}getLineIndentColumn(t){return function(t){let e=0;for(const i of t){if(" "!==i&&"\t"!==i)break;e++}return e}(this.getLineContent(t))+1}};function ve(t){return!(!t.options.overviewRuler||!t.options.overviewRuler.color)}function Ce(t){return!!t.options.after||!!t.options.before}be.MODEL_SYNC_LIMIT=52428800,be.LARGE_FILE_SIZE_THRESHOLD=20971520,be.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,be.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:p.D.tabSize,indentSize:p.D.indentSize,insertSpaces:p.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:p.D.trimAutoWhitespace,largeFileOptimizations:p.D.largeFileOptimizations,bracketPairColorizationOptions:p.D.bracketPairColorizationOptions},be=ge([fe(4,ue.tJ),fe(5,m.O),fe(6,_.c_)],be);class Se{constructor(){this._decorationsTree0=new rt,this._decorationsTree1=new rt,this._injectedTextDecorationsTree=new rt}ensureAllNodesHaveRanges(t){this.getAll(t,0,!1,!1)}_ensureNodesHaveRanges(t,e){for(const i of e)null===i.range&&(i.range=t.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return e}getAllInInterval(t,e,i,n,r){const o=t.getVersionId(),s=this._intervalSearch(e,i,n,r,o);return this._ensureNodesHaveRanges(t,s)}_intervalSearch(t,e,i,n,r){const o=this._decorationsTree0.intervalSearch(t,e,i,n,r),s=this._decorationsTree1.intervalSearch(t,e,i,n,r),a=this._injectedTextDecorationsTree.intervalSearch(t,e,i,n,r);return o.concat(s).concat(a)}getInjectedTextInInterval(t,e,i,n){const r=t.getVersionId(),o=this._injectedTextDecorationsTree.intervalSearch(e,i,n,!1,r);return this._ensureNodesHaveRanges(t,o).filter((t=>t.options.showIfCollapsed||!t.range.isEmpty()))}getAllInjectedText(t,e){const i=t.getVersionId(),n=this._injectedTextDecorationsTree.search(e,!1,i);return this._ensureNodesHaveRanges(t,n).filter((t=>t.options.showIfCollapsed||!t.range.isEmpty()))}getAll(t,e,i,n){const r=t.getVersionId(),o=this._search(e,i,n,r);return this._ensureNodesHaveRanges(t,o)}_search(t,e,i,n){if(i)return this._decorationsTree1.search(t,e,n);{const i=this._decorationsTree0.search(t,e,n),r=this._decorationsTree1.search(t,e,n),o=this._injectedTextDecorationsTree.search(t,e,n);return i.concat(r).concat(o)}}collectNodesFromOwner(t){const e=this._decorationsTree0.collectNodesFromOwner(t),i=this._decorationsTree1.collectNodesFromOwner(t),n=this._injectedTextDecorationsTree.collectNodesFromOwner(t);return e.concat(i).concat(n)}collectNodesPostOrder(){const t=this._decorationsTree0.collectNodesPostOrder(),e=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return t.concat(e).concat(i)}insert(t){Ce(t)?this._injectedTextDecorationsTree.insert(t):ve(t)?this._decorationsTree1.insert(t):this._decorationsTree0.insert(t)}delete(t){Ce(t)?this._injectedTextDecorationsTree.delete(t):ve(t)?this._decorationsTree1.delete(t):this._decorationsTree0.delete(t)}getNodeRange(t,e){const i=t.getVersionId();return e.cachedVersionId!==i&&this._resolveNode(e,i),null===e.range&&(e.range=t.getRangeAt(e.cachedAbsoluteStart,e.cachedAbsoluteEnd)),e.range}_resolveNode(t,e){Ce(t)?this._injectedTextDecorationsTree.resolveNode(t,e):ve(t)?this._decorationsTree1.resolveNode(t,e):this._decorationsTree0.resolveNode(t,e)}acceptReplace(t,e,i,n){this._decorationsTree0.acceptReplace(t,e,i,n),this._decorationsTree1.acceptReplace(t,e,i,n),this._injectedTextDecorationsTree.acceptReplace(t,e,i,n)}}function we(t){return t.replace(/[^a-z0-9\-_]/gi," ")}class Le{constructor(t){this.color=t.color||"",this.darkColor=t.darkColor||""}}class Ie extends Le{constructor(t){super(t),this._resolvedColor=null,this.position="number"==typeof t.position?t.position:k.sh.Center}getColor(t){return this._resolvedColor||("light"!==t.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,t):this._resolvedColor=this._resolveColor(this.color,t)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(t,e){if("string"==typeof t)return t;const i=t?e.getColor(t.id):null;return i?i.toString():""}}class Ne extends Le{constructor(t){super(t),this.position=t.position}getColor(t){return this._resolvedColor||("light"!==t.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,t):this._resolvedColor=this._resolveColor(this.color,t)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(t,e){return"string"==typeof t?r.Il.fromHex(t):e.getColor(t.id)}}class xe{constructor(t){this.content=t.content||"",this.inlineClassName=t.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=t.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=t.attachedData||null,this.cursorStops=t.cursorStops||null}static from(t){return t instanceof xe?t:new xe(t)}}class ye{constructor(t){var e,i;this.description=t.description,this.blockClassName=t.blockClassName?we(t.blockClassName):null,this.stickiness=t.stickiness||0,this.zIndex=t.zIndex||0,this.className=t.className?we(t.className):null,this.hoverMessage=t.hoverMessage||null,this.glyphMarginHoverMessage=t.glyphMarginHoverMessage||null,this.isWholeLine=t.isWholeLine||!1,this.showIfCollapsed=t.showIfCollapsed||!1,this.collapseOnReplaceEdit=t.collapseOnReplaceEdit||!1,this.overviewRuler=t.overviewRuler?new Ie(t.overviewRuler):null,this.minimap=t.minimap?new Ne(t.minimap):null,this.glyphMarginClassName=t.glyphMarginClassName?we(t.glyphMarginClassName):null,this.linesDecorationsClassName=t.linesDecorationsClassName?we(t.linesDecorationsClassName):null,this.firstLineDecorationClassName=t.firstLineDecorationClassName?we(t.firstLineDecorationClassName):null,this.marginClassName=t.marginClassName?we(t.marginClassName):null,this.inlineClassName=t.inlineClassName?we(t.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=t.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=t.beforeContentClassName?we(t.beforeContentClassName):null,this.afterContentClassName=t.afterContentClassName?we(t.afterContentClassName):null,this.after=t.after?xe.from(t.after):null,this.before=t.before?xe.from(t.before):null,this.hideInCommentTokens=null!==(e=t.hideInCommentTokens)&&void 0!==e&&e,this.hideInStringTokens=null!==(i=t.hideInStringTokens)&&void 0!==i&&i}static register(t){return new ye(t)}static createDynamic(t){return new ye(t)}}ye.EMPTY=ye.register({description:"empty"});const De=[ye.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ye.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ye.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ye.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Te(t){return t instanceof ye?t:ye.createDynamic(t)}class Be extends a.JT{constructor(t){super(),this.handleBeforeFire=t,this._actual=this._register(new s.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var t;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const t={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(t)}null===(t=this._affectedInjectedTextLines)||void 0===t||t.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(t){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(t)}checkAffectedAndFire(t){this._affectsMinimap||(this._affectsMinimap=!(!t.minimap||!t.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!t.overviewRuler||!t.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class Ee extends a.JT{constructor(){super(),this._fastEmitter=this._register(new s.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new s.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(t=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=t;const e=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}fire(t){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(t):this._deferredEvent=t:(this._fastEmitter.fire(t),this._slowEmitter.fire(t))}}},4954:(t,e,i)=>{i.d(e,{U:()=>r});var n=i(9917);class r extends n.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},7277:(t,e,i)=>{i.d(e,{bc:()=>h,cM:()=>u,iE:()=>l,pM:()=>d,sz:()=>g});var n=i(7295),r=i(4929),o=i(187),s=i(4314),a=i(4973);class h{constructor(t,e,i,n){this.searchString=t,this.isRegex=e,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(""===this.searchString)return null;let t;t=this.isRegex?function(t){if(!t||0===t.length)return!1;for(let e=0,i=t.length;e<i;e++){const n=t.charCodeAt(e);if(10===n)return!0;if(92===n){if(e++,e>=i)break;const n=t.charCodeAt(e);if(110===n||114===n||87===n)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let e=null;try{e=n.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0,unicode:!0})}catch(t){return null}if(!e)return null;let i=!this.isRegex&&!t;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new a.Tx(e,this.wordSeparators?(0,r.u)(this.wordSeparators):null,i?this.searchString:null)}}function l(t,e,i){if(!i)return new a.tk(t,null);const n=[];for(let t=0,i=e.length;t<i;t++)n[t]=e[t];return new a.tk(t,n)}class c{constructor(t){const e=[];let i=0;for(let n=0,r=t.length;n<r;n++)10===t.charCodeAt(n)&&(e[i++]=n);this._lineFeedsOffsets=e}findLineFeedCountBeforeOffset(t){const e=this._lineFeedsOffsets;let i=0,n=e.length-1;if(-1===n)return 0;if(t<=e[0])return 0;for(;i<n;){const r=i+((n-i)/2>>0);e[r]>=t?n=r-1:e[r+1]>=t?(i=r,n=r):i=r+1}return i+1}}class d{static findMatches(t,e,i,n,r){const o=e.parseSearchRequest();return o?o.regex.multiline?this._doFindMatchesMultiline(t,i,new g(o.wordSeparators,o.regex),n,r):this._doFindMatchesLineByLine(t,i,o,n,r):[]}static _getMultilineMatchRange(t,e,i,n,r,o){let a,h,l=0;if(n?(l=n.findLineFeedCountBeforeOffset(r),a=e+r+l):a=e+r,n){const t=n.findLineFeedCountBeforeOffset(r+o.length)-l;h=a+o.length+t}else h=a+o.length;const c=t.getPositionAt(a),d=t.getPositionAt(h);return new s.e(c.lineNumber,c.column,d.lineNumber,d.column)}static _doFindMatchesMultiline(t,e,i,n,r){const o=t.getOffsetAt(e.getStartPosition()),s=t.getValueInRange(e,1),a="\r\n"===t.getEOL()?new c(s):null,h=[];let d,u=0;for(i.reset(0);d=i.next(s);)if(h[u++]=l(this._getMultilineMatchRange(t,o,s,a,d.index,d[0]),d,n),u>=r)return h;return h}static _doFindMatchesLineByLine(t,e,i,n,r){const o=[];let s=0;if(e.startLineNumber===e.endLineNumber){const a=t.getLineContent(e.startLineNumber).substring(e.startColumn-1,e.endColumn-1);return s=this._findMatchesInLine(i,a,e.startLineNumber,e.startColumn-1,s,o,n,r),o}const a=t.getLineContent(e.startLineNumber).substring(e.startColumn-1);s=this._findMatchesInLine(i,a,e.startLineNumber,e.startColumn-1,s,o,n,r);for(let a=e.startLineNumber+1;a<e.endLineNumber&&s<r;a++)s=this._findMatchesInLine(i,t.getLineContent(a),a,0,s,o,n,r);if(s<r){const a=t.getLineContent(e.endLineNumber).substring(0,e.endColumn-1);s=this._findMatchesInLine(i,a,e.endLineNumber,0,s,o,n,r)}return o}static _findMatchesInLine(t,e,i,n,r,o,h,c){const d=t.wordSeparators;if(!h&&t.simpleSearch){const h=t.simpleSearch,l=h.length,g=e.length;let f=-l;for(;-1!==(f=e.indexOf(h,f+l));)if((!d||u(d,e,g,f,l))&&(o[r++]=new a.tk(new s.e(i,f+1+n,i,f+1+l+n),null),r>=c))return r;return r}const f=new g(t.wordSeparators,t.regex);let p;f.reset(0);do{if(p=f.next(e),p&&(o[r++]=l(new s.e(i,p.index+1+n,i,p.index+1+p[0].length+n),p,h),r>=c))return r}while(p);return r}static findNextMatch(t,e,i,n){const r=e.parseSearchRequest();if(!r)return null;const o=new g(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindNextMatchMultiline(t,i,o,n):this._doFindNextMatchLineByLine(t,i,o,n)}static _doFindNextMatchMultiline(t,e,i,n){const r=new o.L(e.lineNumber,1),a=t.getOffsetAt(r),h=t.getLineCount(),d=t.getValueInRange(new s.e(r.lineNumber,r.column,h,t.getLineMaxColumn(h)),1),u="\r\n"===t.getEOL()?new c(d):null;i.reset(e.column-1);const g=i.next(d);return g?l(this._getMultilineMatchRange(t,a,d,u,g.index,g[0]),g,n):1!==e.lineNumber||1!==e.column?this._doFindNextMatchMultiline(t,new o.L(1,1),i,n):null}static _doFindNextMatchLineByLine(t,e,i,n){const r=t.getLineCount(),o=e.lineNumber,s=t.getLineContent(o),a=this._findFirstMatchInLine(i,s,o,e.column,n);if(a)return a;for(let e=1;e<=r;e++){const s=(o+e-1)%r,a=t.getLineContent(s+1),h=this._findFirstMatchInLine(i,a,s+1,1,n);if(h)return h}return null}static _findFirstMatchInLine(t,e,i,n,r){t.reset(n-1);const o=t.next(e);return o?l(new s.e(i,o.index+1,i,o.index+1+o[0].length),o,r):null}static findPreviousMatch(t,e,i,n){const r=e.parseSearchRequest();if(!r)return null;const o=new g(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindPreviousMatchMultiline(t,i,o,n):this._doFindPreviousMatchLineByLine(t,i,o,n)}static _doFindPreviousMatchMultiline(t,e,i,n){const r=this._doFindMatchesMultiline(t,new s.e(1,1,e.lineNumber,e.column),i,n,9990);if(r.length>0)return r[r.length-1];const a=t.getLineCount();return e.lineNumber!==a||e.column!==t.getLineMaxColumn(a)?this._doFindPreviousMatchMultiline(t,new o.L(a,t.getLineMaxColumn(a)),i,n):null}static _doFindPreviousMatchLineByLine(t,e,i,n){const r=t.getLineCount(),o=e.lineNumber,s=t.getLineContent(o).substring(0,e.column-1),a=this._findLastMatchInLine(i,s,o,n);if(a)return a;for(let e=1;e<=r;e++){const s=(r+o-e-1)%r,a=t.getLineContent(s+1),h=this._findLastMatchInLine(i,a,s+1,n);if(h)return h}return null}static _findLastMatchInLine(t,e,i,n){let r,o=null;for(t.reset(0);r=t.next(e);)o=l(new s.e(i,r.index+1,i,r.index+1+r[0].length),r,n);return o}}function u(t,e,i,n,r){return function(t,e,i,n,r){if(0===n)return!0;const o=e.charCodeAt(n-1);if(0!==t.get(o))return!0;if(13===o||10===o)return!0;if(r>0){const i=e.charCodeAt(n);if(0!==t.get(i))return!0}return!1}(t,e,0,n,r)&&function(t,e,i,n,r){if(n+r===i)return!0;const o=e.charCodeAt(n+r);if(0!==t.get(o))return!0;if(13===o||10===o)return!0;if(r>0){const i=e.charCodeAt(n+r-1);if(0!==t.get(i))return!0}return!1}(t,e,i,n,r)}class g{constructor(t,e){this._wordSeparators=t,this._searchRegex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(t){const e=t.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===e)return null;if(i=this._searchRegex.exec(t),!i)return null;const r=i.index,o=i[0].length;if(r===this._prevMatchStartIndex&&o===this._prevMatchLength){if(0===o){n.ZH(t,e,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=r,this._prevMatchLength=o,!this._wordSeparators||u(this._wordSeparators,t,e,r,o))return i}while(i);return null}}},9616:(t,e,i)=>{function n(t,e){let i=0,n=0;const r=t.length;for(;n<r;){const r=t.charCodeAt(n);if(32===r)i++;else{if(9!==r)break;i=i-i%e+e}n++}return n===r?-1:i}i.d(e,{q:()=>n})},4706:(t,e,i)=>{i.d(e,{CZ:()=>h,D8:()=>c,Jx:()=>n,Tx:()=>a,dQ:()=>l,fV:()=>d,gk:()=>r,lN:()=>s,rU:()=>o});class n{constructor(){this.changeType=1}}class r{constructor(t,e,i,n,r){this.ownerId=t,this.lineNumber=e,this.column=i,this.options=n,this.order=r}static applyInjectedText(t,e){if(!e||0===e.length)return t;let i="",n=0;for(const r of e)i+=t.substring(n,r.column-1),n=r.column-1,i+=r.options.content;return i+=t.substring(n),i}static fromDecorations(t){const e=[];for(const i of t)i.options.before&&i.options.before.content.length>0&&e.push(new r(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&e.push(new r(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return e.sort(((t,e)=>t.lineNumber===e.lineNumber?t.column===e.column?t.order-e.order:t.column-e.column:t.lineNumber-e.lineNumber)),e}}class o{constructor(t,e,i){this.changeType=2,this.lineNumber=t,this.detail=e,this.injectedText=i}}class s{constructor(t,e){this.changeType=3,this.fromLineNumber=t,this.toLineNumber=e}}class a{constructor(t,e,i,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=t,this.toLineNumber=e,this.detail=i}}class h{constructor(){this.changeType=5}}class l{constructor(t,e,i,n){this.changes=t,this.versionId=e,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(t){for(let e=0,i=this.changes.length;e<i;e++){if(this.changes[e].changeType===t)return!0}return!1}static merge(t,e){const i=[].concat(t.changes).concat(e.changes),n=e.versionId,r=t.isUndoing||e.isUndoing,o=t.isRedoing||e.isRedoing;return new l(i,n,r,o)}}class c{constructor(t){this.changes=t}}class d{constructor(t,e){this.rawContentChangedEvent=t,this.contentChangedEvent=e}merge(t){const e=l.merge(this.rawContentChangedEvent,t.rawContentChangedEvent),i=d._mergeChangeEvents(this.contentChangedEvent,t.contentChangedEvent);return new d(e,i)}static _mergeChangeEvents(t,e){return{changes:[].concat(t.changes).concat(e.changes),eol:e.eol,versionId:e.versionId,isUndoing:t.isUndoing||e.isUndoing,isRedoing:t.isRedoing||e.isRedoing,isFlush:t.isFlush||e.isFlush}}}},5094:(t,e,i)=>{var n;i.d(e,{UO:()=>r,s6:()=>n,vW:()=>o}),function(t){t[t.Disabled=0]="Disabled",t[t.EnabledForActive=1]="EnabledForActive",t[t.Enabled=2]="Enabled"}(n||(n={}));class r{constructor(t,e,i,n,r,o){if(this.visibleColumn=t,this.column=e,this.className=i,this.horizontalLine=n,this.forWrappedLinesAfterColumn=r,this.forWrappedLinesBeforeOrAtColumn=o,-1!==t==(-1!==e))throw new Error}}class o{constructor(t,e){this.top=t,this.endColumn=e}}},1468:(t,e,i)=>{i.d(e,{R:()=>s});var n=i(4669),r=i(9917),o=function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}h((n=n.apply(t,e||[])).next())}))};class s{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new n.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(t){this._onDidChange.fire({changedLanguages:t,changedColorMap:!1})}register(t,e){return this._map.set(t,e),this.fire([t]),(0,r.OF)((()=>{this._map.get(t)===e&&(this._map.delete(t),this.fire([t]))}))}registerFactory(t,e){var i;null===(i=this._factories.get(t))||void 0===i||i.dispose();const n=new a(this,t,e);return this._factories.set(t,n),(0,r.OF)((()=>{const e=this._factories.get(t);e&&e===n&&(this._factories.delete(t),e.dispose())}))}getOrCreate(t){return o(this,void 0,void 0,(function*(){const e=this.get(t);if(e)return e;const i=this._factories.get(t);return!i||i.isResolved?null:(yield i.resolve(),this.get(t))}))}get(t){return this._map.get(t)||null}isResolved(t){if(this.get(t))return!0;const e=this._factories.get(t);return!(e&&!e.isResolved)}setColorMap(t){this._colorMap=t,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class a extends r.JT{constructor(t,e,i){super(),this._registry=t,this._languageId=e,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return o(this,void 0,void 0,(function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}))}_create(){return o(this,void 0,void 0,(function*(){const t=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,t&&!this._isDisposed&&this._register(this._registry.register(this._languageId,t))}))}}},7378:(t,e,i)=>{i.d(e,{A:()=>r});var n=i(5797);class r{constructor(t,e,i){this._lineTokensBrand=void 0,this._tokens=t,this._tokensCount=this._tokens.length>>>1,this._text=e,this._languageIdCodec=i}static createEmpty(t,e){const i=r.defaultTokenMetadata,n=new Uint32Array(2);return n[0]=t.length,n[1]=i,new r(n,t,e)}equals(t){return t instanceof r&&this.slicedEquals(t,0,this._tokensCount)}slicedEquals(t,e,i){if(this._text!==t._text)return!1;if(this._tokensCount!==t._tokensCount)return!1;const n=e<<1,r=n+(i<<1);for(let e=n;e<r;e++)if(this._tokens[e]!==t._tokens[e])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(t){return t>0?this._tokens[t-1<<1]:0}getMetadata(t){return this._tokens[1+(t<<1)]}getLanguageId(t){const e=this._tokens[1+(t<<1)],i=n.N.getLanguageId(e);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(t){const e=this._tokens[1+(t<<1)];return n.N.getTokenType(e)}getForeground(t){const e=this._tokens[1+(t<<1)];return n.N.getForeground(e)}getClassName(t){const e=this._tokens[1+(t<<1)];return n.N.getClassNameFromMetadata(e)}getInlineStyle(t,e){const i=this._tokens[1+(t<<1)];return n.N.getInlineStyleFromMetadata(i,e)}getPresentation(t){const e=this._tokens[1+(t<<1)];return n.N.getPresentationFromMetadata(e)}getEndOffset(t){return this._tokens[t<<1]}findTokenIndexAtOffset(t){return r.findIndexInTokensArray(this._tokens,t)}inflate(){return this}sliceAndInflate(t,e,i){return new o(this,t,e,i)}static convertToEndOffset(t,e){const i=(t.length>>>1)-1;for(let e=0;e<i;e++)t[e<<1]=t[e+1<<1];t[i<<1]=e}static findIndexInTokensArray(t,e){if(t.length<=2)return 0;let i=0,n=(t.length>>>1)-1;for(;i<n;){const r=i+Math.floor((n-i)/2),o=t[r<<1];if(o===e)return r+1;o<e?i=r+1:o>e&&(n=r)}return i}withInserted(t){if(0===t.length)return this;let e=0,i=0,n="";const o=new Array;let s=0;for(;;){const r=e<this._tokensCount?this._tokens[e<<1]:-1,a=i<t.length?t[i]:null;if(-1!==r&&(null===a||r<=a.offset)){n+=this._text.substring(s,r);const t=this._tokens[1+(e<<1)];o.push(n.length,t),e++,s=r}else{if(!a)break;if(a.offset>s){n+=this._text.substring(s,a.offset);const t=this._tokens[1+(e<<1)];o.push(n.length,t),s=a.offset}n+=a.text,o.push(n.length,a.tokenMetadata),i++}}return new r(new Uint32Array(o),n,this._languageIdCodec)}}r.defaultTokenMetadata=33587200;class o{constructor(t,e,i,n){this._source=t,this._startOffset=e,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=t.findTokenIndexAtOffset(e),this._tokensCount=0;for(let e=this._firstTokenIndex,n=t.getCount();e<n;e++){if(t.getStartOffset(e)>=i)break;this._tokensCount++}}getMetadata(t){return this._source.getMetadata(this._firstTokenIndex+t)}getLanguageId(t){return this._source.getLanguageId(this._firstTokenIndex+t)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(t){return t instanceof o&&(this._startOffset===t._startOffset&&this._endOffset===t._endOffset&&this._deltaOffset===t._deltaOffset&&this._source.slicedEquals(t._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(t){return this._source.getForeground(this._firstTokenIndex+t)}getEndOffset(t){const e=this._source.getEndOffset(this._firstTokenIndex+t);return Math.min(this._endOffset,e)-this._startOffset+this._deltaOffset}getClassName(t){return this._source.getClassName(this._firstTokenIndex+t)}getInlineStyle(t,e){return this._source.getInlineStyle(this._firstTokenIndex+t,e)}getPresentation(t){return this._source.getPresentation(this._firstTokenIndex+t)}findTokenIndexAtOffset(t){return this._source.findTokenIndexAtOffset(t+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},4972:(t,e,i)=>{i.d(e,{p:()=>n});const n=(0,i(2065).yh)("clipboardService")},5606:(t,e,i)=>{i.d(e,{i:()=>o,u:()=>r});var n=i(2065);const r=(0,n.yh)("contextViewService"),o=(0,n.yh)("contextMenuService")},1847:(t,e,i)=>{i.d(e,{d:()=>n});const n=(0,i(2065).yh)("keybindingService")},9422:(t,e,i)=>{i.d(e,{EO:()=>a,lT:()=>s,zb:()=>o});var n=i(4603),r=i(2065),o=n.Z;const s=(0,r.yh)("notificationService");class a{}},6904:(t,e,i)=>{i.d(e,{Uy:()=>g,vm:()=>m,fk:()=>f});var n,r=i(4669),o=i(9917),s=i(8401),a=i(5393),h=function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}h((n=n.apply(t,e||[])).next())}))};!function(t){t[t.None=0]="None",t[t.Initialized=1]="Initialized",t[t.Closed=2]="Closed"}(n||(n={}));class l extends o.JT{constructor(t,e=Object.create(null)){super(),this.database=t,this.options=e,this._onDidChangeStorage=this._register(new r.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=n.None,this.cache=new Map,this.flushDelayer=new a.rH(l.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((t=>this.onDidChangeItemsExternal(t))))}onDidChangeItemsExternal(t){var e,i;null===(e=t.changed)||void 0===e||e.forEach(((t,e)=>this.accept(e,t))),null===(i=t.deleted)||void 0===i||i.forEach((t=>this.accept(t,void 0)))}accept(t,e){if(this.state===n.Closed)return;let i=!1;if((0,s.Jp)(e))i=this.cache.delete(t);else{this.cache.get(t)!==e&&(this.cache.set(t,e),i=!0)}i&&this._onDidChangeStorage.fire(t)}get(t,e){const i=this.cache.get(t);return(0,s.Jp)(i)?e:i}getBoolean(t,e){const i=this.get(t);return(0,s.Jp)(i)?e:"true"===i}getNumber(t,e){const i=this.get(t);return(0,s.Jp)(i)?e:parseInt(i,10)}set(t,e){return h(this,void 0,void 0,(function*(){if(this.state===n.Closed)return;if((0,s.Jp)(e))return this.delete(t);const i=String(e);return this.cache.get(t)!==i?(this.cache.set(t,i),this.pendingInserts.set(t,i),this.pendingDeletes.delete(t),this._onDidChangeStorage.fire(t),this.doFlush()):void 0}))}delete(t){return h(this,void 0,void 0,(function*(){if(this.state===n.Closed)return;return this.cache.delete(t)?(this.pendingDeletes.has(t)||this.pendingDeletes.add(t),this.pendingInserts.delete(t),this._onDidChangeStorage.fire(t),this.doFlush()):void 0}))}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return h(this,void 0,void 0,(function*(){if(!this.hasPending)return;const t={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(t).finally((()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(t=this.whenFlushedCallbacks.pop())||void 0===t||t()}))}))}doFlush(t){return h(this,void 0,void 0,(function*(){return this.flushDelayer.trigger((()=>this.flushPending()),t)}))}dispose(){this.flushDelayer.dispose(),super.dispose()}}l.DEFAULT_FLUSH_DELAY=100;class c{constructor(){this.onDidChangeItemsExternal=r.ju.None,this.items=new Map}updateItems(t){var e,i;return h(this,void 0,void 0,(function*(){null===(e=t.insert)||void 0===e||e.forEach(((t,e)=>this.items.set(e,t))),null===(i=t.delete)||void 0===i||i.forEach((t=>this.items.delete(t)))}))}}var d=i(2065);const u="__$__targetStorageMarker",g=(0,d.yh)("storageService");var f;!function(t){t[t.NONE=0]="NONE",t[t.SHUTDOWN=1]="SHUTDOWN"}(f||(f={}));class p extends o.JT{constructor(t={flushInterval:p.DEFAULT_FLUSH_INTERVAL}){super(),this.options=t,this._onDidChangeValue=this._register(new r.K3),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new r.K3),this._onWillSaveState=this._register(new r.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(t,e){if(e===u){switch(t){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:t})}else this._onDidChangeValue.fire({scope:t,key:e,target:this.getKeyTargets(t)[e]})}get(t,e,i){var n;return null===(n=this.getStorage(e))||void 0===n?void 0:n.get(t,i)}getBoolean(t,e,i){var n;return null===(n=this.getStorage(e))||void 0===n?void 0:n.getBoolean(t,i)}getNumber(t,e,i){var n;return null===(n=this.getStorage(e))||void 0===n?void 0:n.getNumber(t,i)}store(t,e,i,n){(0,s.Jp)(e)?this.remove(t,i):this.withPausedEmitters((()=>{var r;this.updateKeyTarget(t,i,n),null===(r=this.getStorage(i))||void 0===r||r.set(t,e)}))}remove(t,e){this.withPausedEmitters((()=>{var i;this.updateKeyTarget(t,e,void 0),null===(i=this.getStorage(e))||void 0===i||i.delete(t)}))}withPausedEmitters(t){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{t()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(t,e,i){var n,r;const o=this.getKeyTargets(e);"number"==typeof i?o[t]!==i&&(o[t]=i,null===(n=this.getStorage(e))||void 0===n||n.set(u,JSON.stringify(o))):"number"==typeof o[t]&&(delete o[t],null===(r=this.getStorage(e))||void 0===r||r.set(u,JSON.stringify(o)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(t){switch(t){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(t){const e=this.get(u,t);if(e)try{return JSON.parse(e)}catch(t){}return Object.create(null)}}p.DEFAULT_FLUSH_INTERVAL=6e4;class m extends p{constructor(){super(),this.applicationStorage=this._register(new l(new c)),this.profileStorage=this._register(new l(new c)),this.workspaceStorage=this._register(new l(new c)),this._register(this.workspaceStorage.onDidChangeStorage((t=>this.emitDidChangeValue(1,t)))),this._register(this.profileStorage.onDidChangeStorage((t=>this.emitDidChangeValue(0,t)))),this._register(this.applicationStorage.onDidChangeStorage((t=>this.emitDidChangeValue(-1,t))))}getStorage(t){switch(t){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},3910:(t,e,i)=>{i.d(e,{$DX:()=>je,$d5:()=>we,ABB:()=>Q,AS1:()=>Le,AWI:()=>wt,BOY:()=>mi,Bqu:()=>ge,C3g:()=>F,CA6:()=>ui,CNo:()=>zt,Cdg:()=>Ve,CzK:()=>Qt,D0T:()=>ut,D1_:()=>ft,DEr:()=>We,Dut:()=>ht,E3h:()=>Ge,EPQ:()=>E,EQn:()=>Pe,ES4:()=>xt,EiJ:()=>Ot,F3d:()=>Ce,F9q:()=>oe,Fm_:()=>ni,Fu1:()=>Kt,GO4:()=>U,Gj_:()=>hi,Gwp:()=>Ie,HCL:()=>Gt,Hfx:()=>gt,Hz8:()=>qe,IPX:()=>d,IYc:()=>si,Ido:()=>p,Itd:()=>di,Ivo:()=>li,JpG:()=>pi,K19:()=>Lt,LLc:()=>he,L_H:()=>Z,L_t:()=>le,LoV:()=>Ht,M6C:()=>pe,MUv:()=>Bt,NOs:()=>dt,NPS:()=>Re,Ng6:()=>pt,OLZ:()=>_i,OZR:()=>R,Oop:()=>ue,P4M:()=>Zt,P6G:()=>g,P6Y:()=>re,PRb:()=>x,PX0:()=>Ne,PpC:()=>qt,Pvw:()=>D,QO2:()=>c,R80:()=>_,RV_:()=>A,Rzx:()=>yt,SPM:()=>ri,SUG:()=>O,SUY:()=>oi,Saq:()=>Ee,Sbf:()=>Rt,Snq:()=>wi,SwI:()=>S,T83:()=>at,Tnx:()=>me,UnT:()=>Oe,VVv:()=>Wt,Vqd:()=>He,XEs:()=>y,XL$:()=>se,XZx:()=>m,Xy4:()=>gi,YI3:()=>B,ZGJ:()=>$e,ZnX:()=>vi,_2n:()=>de,_Yy:()=>Vt,_bK:()=>ce,_lC:()=>T,_t9:()=>M,_wn:()=>K,b6y:()=>et,b7$:()=>q,bKB:()=>jt,brw:()=>fi,c63:()=>st,cbQ:()=>ze,cvW:()=>ct,dCr:()=>fe,dRz:()=>f,dt_:()=>N,etL:()=>Y,fEB:()=>lt,few:()=>ot,g8u:()=>G,g_n:()=>Dt,gkn:()=>Ft,gpD:()=>it,hEj:()=>It,hX8:()=>Ut,hzo:()=>te,j51:()=>ie,j5u:()=>W,jUe:()=>Et,jbW:()=>Ue,kJk:()=>bt,kVY:()=>ci,keg:()=>Xt,kvU:()=>be,kwl:()=>Ci,lRK:()=>k,lUq:()=>Ke,lWp:()=>St,lXJ:()=>tt,loF:()=>kt,mHy:()=>ae,mV1:()=>Se,nyM:()=>Tt,oQ$:()=>Ct,oSI:()=>Be,opG:()=>vt,ov3:()=>ai,pW3:()=>rt,paE:()=>P,phM:()=>$t,pnM:()=>At,ptc:()=>Pt,qeD:()=>$,rg2:()=>_e,rh:()=>w,s$:()=>ve,sEe:()=>L,sKV:()=>Yt,sgC:()=>C,tZ6:()=>_t,uoC:()=>nt,url:()=>v,uxu:()=>Fe,vGG:()=>Te,xL1:()=>b,xi6:()=>ee,y65:()=>Ae,yJx:()=>Mt,yb5:()=>Nt,ynu:()=>X,ypS:()=>Jt,ytC:()=>ke,zJb:()=>I,zKr:()=>mt,zOm:()=>ne,zRJ:()=>J});var n=i(5393),r=i(1264),o=i(4669),s=i(8401),a=i(3580),h=i(1294),l=i(9872);function c(t){return`--vscode-${t.replace(/\./g,"-")}`}const d={ColorContribution:"base.contributions.colors"};const u=new class{constructor(){this._onDidChangeSchema=new o.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(t,e,i,n=!1,r){const o={id:t,description:i,defaults:e,needsTransparency:n,deprecationMessage:r};this.colorsById[t]=o;const s={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return r&&(s.deprecationMessage=r),this.colorSchema.properties[t]=s,this.colorReferenceSchema.enum.push(t),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),t}getColors(){return Object.keys(this.colorsById).map((t=>this.colorsById[t]))}resolveDefaultColor(t,e){const i=this.colorsById[t];if(i&&i.defaults){return wi(i.defaults[e.type],e)}}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort(((t,e)=>{const i=-1===t.indexOf(".")?0:1,n=-1===e.indexOf(".")?0:1;return i!==n?i-n:t.localeCompare(e)})).map((t=>`- \`${t}\`: ${this.colorsById[t].description}`)).join("\n")}};function g(t,e,i,n,r){return u.registerColor(t,(null===(o=e)||void 0===o.hcLight&&(null===o.hcDark||"string"==typeof o.hcDark?o.hcLight=o.hcDark:o.hcLight=o.light),o),i,n,r);var o}l.B.add(d.ColorContribution,u);const f=g("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},a.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),p=(g("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},a.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),g("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},a.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."))),m=(g("descriptionForeground",{light:"#717171",dark:vi(f,.7),hcDark:vi(f,.7),hcLight:vi(f,.7)},a.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),g("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},a.NC("iconForeground","The default color for icons in the workbench."))),_=g("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},a.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),k=g("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},a.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),b=g("contrastActiveBorder",{light:null,dark:null,hcDark:_,hcLight:_},a.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),v=(g("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},a.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),g("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:r.Il.black,hcLight:"#292929"},a.NC("textSeparatorForeground","Color for text separators.")),g("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},a.NC("textLinkForeground","Foreground color for links in text."))),C=g("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},a.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),S=(g("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},a.NC("textPreformatForeground","Foreground color for preformatted text segments.")),g("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},a.NC("textBlockQuoteBackground","Background color for block quotes in text.")),g("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:r.Il.white,hcLight:"#292929"},a.NC("textBlockQuoteBorder","Border color for block quotes in text.")),g("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:r.Il.black,hcLight:"#F2F2F2"},a.NC("textCodeBlockBackground","Background color for code blocks in text."))),w=g("widget.shadow",{dark:vi(r.Il.black,.36),light:vi(r.Il.black,.16),hcDark:null,hcLight:null},a.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),L=g("input.background",{dark:"#3C3C3C",light:r.Il.white,hcDark:r.Il.black,hcLight:r.Il.white},a.NC("inputBoxBackground","Input box background.")),I=g("input.foreground",{dark:f,light:f,hcDark:f,hcLight:f},a.NC("inputBoxForeground","Input box foreground.")),N=g("input.border",{dark:null,light:null,hcDark:k,hcLight:k},a.NC("inputBoxBorder","Input box border.")),x=g("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:k,hcLight:k},a.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),y=(g("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},a.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),g("inputOption.activeBackground",{dark:vi(_,.4),light:vi(_,.2),hcDark:r.Il.transparent,hcLight:r.Il.transparent},a.NC("inputOption.activeBackground","Background hover color of options in input fields."))),D=g("inputOption.activeForeground",{dark:r.Il.white,light:r.Il.black,hcDark:null,hcLight:f},a.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),T=(g("input.placeholderForeground",{light:vi(f,.5),dark:vi(f,.5),hcDark:vi(f,.7),hcLight:vi(f,.7)},a.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),g("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:r.Il.black,hcLight:r.Il.white},a.NC("inputValidationInfoBackground","Input validation background color for information severity."))),B=g("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:f},a.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),E=g("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:k,hcLight:k},a.NC("inputValidationInfoBorder","Input validation border color for information severity.")),A=g("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:r.Il.black,hcLight:r.Il.white},a.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),O=g("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:f},a.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),F=g("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:k,hcLight:k},a.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),P=g("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:r.Il.black,hcLight:r.Il.white},a.NC("inputValidationErrorBackground","Input validation background color for error severity.")),M=g("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:f},a.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),R=g("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:k,hcLight:k},a.NC("inputValidationErrorBorder","Input validation border color for error severity.")),z=g("dropdown.background",{dark:"#3C3C3C",light:r.Il.white,hcDark:r.Il.black,hcLight:r.Il.white},a.NC("dropdownBackground","Dropdown background.")),H=(g("dropdown.listBackground",{dark:null,light:null,hcDark:r.Il.black,hcLight:r.Il.white},a.NC("dropdownListBackground","Dropdown list background.")),g("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:r.Il.white,hcLight:f},a.NC("dropdownForeground","Dropdown foreground."))),V=g("dropdown.border",{dark:z,light:"#CECECE",hcDark:k,hcLight:k},a.NC("dropdownBorder","Dropdown border.")),W=(g("checkbox.background",{dark:z,light:z,hcDark:z,hcLight:z},a.NC("checkbox.background","Background color of checkbox widget.")),g("checkbox.foreground",{dark:H,light:H,hcDark:H,hcLight:H},a.NC("checkbox.foreground","Foreground color of checkbox widget.")),g("checkbox.border",{dark:V,light:V,hcDark:V,hcLight:V},a.NC("checkbox.border","Border color of checkbox widget.")),g("button.foreground",{dark:r.Il.white,light:r.Il.white,hcDark:r.Il.white,hcLight:r.Il.white},a.NC("buttonForeground","Button foreground color."))),q=(g("button.separator",{dark:vi(W,.4),light:vi(W,.4),hcDark:vi(W,.4),hcLight:vi(W,.4)},a.NC("buttonSeparator","Button separator color.")),g("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},a.NC("buttonBackground","Button background color."))),U=g("button.hoverBackground",{dark:bi(q,.2),light:ki(q,.2),hcDark:null,hcLight:null},a.NC("buttonHoverBackground","Button background color when hovering.")),j=(g("button.border",{dark:k,light:k,hcDark:k,hcLight:k},a.NC("buttonBorder","Button border color.")),g("button.secondaryForeground",{dark:r.Il.white,light:r.Il.white,hcDark:r.Il.white,hcLight:f},a.NC("buttonSecondaryForeground","Secondary button foreground color.")),g("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:r.Il.white},a.NC("buttonSecondaryBackground","Secondary button background color."))),G=(g("button.secondaryHoverBackground",{dark:bi(j,.2),light:ki(j,.2),hcDark:null,hcLight:null},a.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),g("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:r.Il.black,hcLight:"#0F4A85"},a.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."))),$=g("badge.foreground",{dark:r.Il.white,light:"#333",hcDark:r.Il.white,hcLight:r.Il.white},a.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),K=g("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},a.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Y=g("scrollbarSlider.background",{dark:r.Il.fromHex("#797979").transparent(.4),light:r.Il.fromHex("#646464").transparent(.4),hcDark:vi(k,.6),hcLight:vi(k,.4)},a.NC("scrollbarSliderBackground","Scrollbar slider background color.")),Q=g("scrollbarSlider.hoverBackground",{dark:r.Il.fromHex("#646464").transparent(.7),light:r.Il.fromHex("#646464").transparent(.7),hcDark:vi(k,.8),hcLight:vi(k,.8)},a.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),X=g("scrollbarSlider.activeBackground",{dark:r.Il.fromHex("#BFBFBF").transparent(.4),light:r.Il.fromHex("#000000").transparent(.6),hcDark:k,hcLight:k},a.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),J=g("progressBar.background",{dark:r.Il.fromHex("#0E70C0"),light:r.Il.fromHex("#0E70C0"),hcDark:k,hcLight:k},a.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Z=g("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),tt=g("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},a.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),et=g("editorError.border",{dark:null,light:null,hcDark:r.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},a.NC("errorBorder","Border color of error boxes in the editor.")),it=g("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),nt=g("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},a.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),rt=g("editorWarning.border",{dark:null,light:null,hcDark:r.Il.fromHex("#FFCC00").transparent(.8),hcLight:"#"},a.NC("warningBorder","Border color of warning boxes in the editor.")),ot=g("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),st=g("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},a.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),at=g("editorInfo.border",{dark:null,light:null,hcDark:r.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},a.NC("infoBorder","Border color of info boxes in the editor.")),ht=g("editorHint.foreground",{dark:r.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},a.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),lt=g("editorHint.border",{dark:null,light:null,hcDark:r.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},a.NC("hintBorder","Border color of hint boxes in the editor.")),ct=(g("sash.hoverBorder",{dark:_,light:_,hcDark:_,hcLight:_},a.NC("sashActiveBorder","Border color of active sashes.")),g("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:r.Il.black,hcLight:r.Il.white},a.NC("editorBackground","Editor background color."))),dt=g("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:r.Il.white,hcLight:f},a.NC("editorForeground","Editor default foreground color.")),ut=(g("editorStickyScroll.background",{light:ct,dark:ct,hcDark:ct,hcLight:ct},a.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),g("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:r.Il.fromHex("#0F4A85").transparent(.1)},a.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),g("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:r.Il.white},a.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace."))),gt=g("editorWidget.foreground",{dark:f,light:f,hcDark:f,hcLight:f},a.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),ft=g("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:k,hcLight:k},a.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),pt=g("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},a.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),mt=g("quickInput.background",{dark:ut,light:ut,hcDark:ut,hcLight:ut},a.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),_t=g("quickInput.foreground",{dark:gt,light:gt,hcDark:gt,hcLight:gt},a.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),kt=g("quickInputTitle.background",{dark:new r.Il(new r.VS(255,255,255,.105)),light:new r.Il(new r.VS(0,0,0,.06)),hcDark:"#000000",hcLight:r.Il.white},a.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),bt=g("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:r.Il.white,hcLight:"#0F4A85"},a.NC("pickerGroupForeground","Quick picker color for grouping labels.")),vt=g("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:r.Il.white,hcLight:"#0F4A85"},a.NC("pickerGroupBorder","Quick picker color for grouping borders.")),Ct=g("keybindingLabel.background",{dark:new r.Il(new r.VS(128,128,128,.17)),light:new r.Il(new r.VS(221,221,221,.4)),hcDark:r.Il.transparent,hcLight:r.Il.transparent},a.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),St=g("keybindingLabel.foreground",{dark:r.Il.fromHex("#CCCCCC"),light:r.Il.fromHex("#555555"),hcDark:r.Il.white,hcLight:f},a.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),wt=g("keybindingLabel.border",{dark:new r.Il(new r.VS(51,51,51,.6)),light:new r.Il(new r.VS(204,204,204,.4)),hcDark:new r.Il(new r.VS(111,195,223)),hcLight:k},a.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Lt=g("keybindingLabel.bottomBorder",{dark:new r.Il(new r.VS(68,68,68,.6)),light:new r.Il(new r.VS(187,187,187,.4)),hcDark:new r.Il(new r.VS(111,195,223)),hcLight:f},a.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),It=g("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},a.NC("editorSelectionBackground","Color of the editor selection.")),Nt=g("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:r.Il.white},a.NC("editorSelectionForeground","Color of the selected text for high contrast.")),xt=g("editor.inactiveSelectionBackground",{light:vi(It,.5),dark:vi(It,.5),hcDark:vi(It,.7),hcLight:vi(It,.5)},a.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),yt=g("editor.selectionHighlightBackground",{light:Si(It,ct,.3,.6),dark:Si(It,ct,.3,.6),hcDark:null,hcLight:null},a.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Dt=g("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:b,hcLight:b},a.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Tt=g("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},a.NC("editorFindMatch","Color of the current search match.")),Bt=g("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},a.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Et=g("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},a.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),At=g("editor.findMatchBorder",{light:null,dark:null,hcDark:b,hcLight:b},a.NC("editorFindMatchBorder","Border color of the current search match.")),Ot=g("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:b,hcLight:b},a.NC("findMatchHighlightBorder","Border color of the other search matches.")),Ft=g("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:vi(b,.4),hcLight:vi(b,.4)},a.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Pt=(g("searchEditor.findMatchBackground",{light:vi(Bt,.66),dark:vi(Bt,.66),hcDark:Bt,hcLight:Bt},a.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),g("searchEditor.findMatchBorder",{light:vi(Ot,.66),dark:vi(Ot,.66),hcDark:Ot,hcLight:Ot},a.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),g("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},a.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0)),Mt=g("editorHoverWidget.background",{light:ut,dark:ut,hcDark:ut,hcLight:ut},a.NC("hoverBackground","Background color of the editor hover.")),Rt=g("editorHoverWidget.foreground",{light:gt,dark:gt,hcDark:gt,hcLight:gt},a.NC("hoverForeground","Foreground color of the editor hover.")),zt=g("editorHoverWidget.border",{light:ft,dark:ft,hcDark:ft,hcLight:ft},a.NC("hoverBorder","Border color of the editor hover.")),Ht=g("editorHoverWidget.statusBarBackground",{dark:bi(Mt,.2),light:ki(Mt,.05),hcDark:ut,hcLight:ut},a.NC("statusBarBackground","Background color of the editor hover status bar.")),Vt=g("editorLink.activeForeground",{dark:"#4E94CE",light:r.Il.blue,hcDark:r.Il.cyan,hcLight:"#292929"},a.NC("activeLinkForeground","Color of active links.")),Wt=g("editorInlayHint.foreground",{dark:vi($,.8),light:vi($,.8),hcDark:$,hcLight:$},a.NC("editorInlayHintForeground","Foreground color of inline hints")),qt=g("editorInlayHint.background",{dark:vi(G,.6),light:vi(G,.3),hcDark:G,hcLight:G},a.NC("editorInlayHintBackground","Background color of inline hints")),Ut=g("editorInlayHint.typeForeground",{dark:Wt,light:Wt,hcDark:Wt,hcLight:Wt},a.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),jt=g("editorInlayHint.typeBackground",{dark:qt,light:qt,hcDark:qt,hcLight:qt},a.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Gt=g("editorInlayHint.parameterForeground",{dark:Wt,light:Wt,hcDark:Wt,hcLight:Wt},a.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),$t=g("editorInlayHint.parameterBackground",{dark:qt,light:qt,hcDark:qt,hcLight:qt},a.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Kt=g("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},a.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Yt=g("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},a.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Qt=new r.Il(new r.VS(155,185,85,.2)),Xt=new r.Il(new r.VS(255,0,0,.2)),Jt=g("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},a.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Zt=g("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},a.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),te=g("diffEditor.insertedLineBackground",{dark:Qt,light:Qt,hcDark:null,hcLight:null},a.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),ee=g("diffEditor.removedLineBackground",{dark:Xt,light:Xt,hcDark:null,hcLight:null},a.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),ie=g("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),ne=g("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),re=g("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),oe=g("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),se=g("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},a.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),ae=g("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},a.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),he=g("diffEditor.border",{dark:null,light:null,hcDark:k,hcLight:k},a.NC("diffEditorBorder","Border color between the two text editors.")),le=g("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},a.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),ce=g("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),de=g("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ue=g("list.focusOutline",{dark:_,light:_,hcDark:b,hcLight:b},a.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ge=g("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),fe=g("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:r.Il.fromHex("#0F4A85").transparent(.1)},a.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),pe=g("list.activeSelectionForeground",{dark:r.Il.white,light:r.Il.white,hcDark:null,hcLight:null},a.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),me=g("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),_e=g("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:r.Il.fromHex("#0F4A85").transparent(.1)},a.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ke=g("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),be=g("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ve=g("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ce=g("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Se=g("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:r.Il.fromHex("#0F4A85").transparent(.1)},a.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),we=g("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Le=g("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},a.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Ie=g("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:_,hcLight:_},a.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Ne=g("list.focusHighlightForeground",{dark:Ie,light:(xe=fe,ye=Ie,De="#BBE7FF",{op:5,if:xe,then:ye,else:De}),hcDark:Ie,hcLight:Ie},a.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));var xe,ye,De;g("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},a.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),g("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},a.NC("listErrorForeground","Foreground color of list items containing errors.")),g("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},a.NC("listWarningForeground","Foreground color of list items containing warnings."));const Te=g("listFilterWidget.background",{light:ki(ut,0),dark:bi(ut,0),hcDark:ut,hcLight:ut},a.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Be=g("listFilterWidget.outline",{dark:r.Il.transparent,light:r.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},a.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Ee=g("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:k,hcLight:k},a.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Ae=g("listFilterWidget.shadow",{dark:w,light:w,hcDark:w,hcLight:w},a.NC("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),Oe=(g("list.filterMatchBackground",{dark:Bt,light:Bt,hcDark:null,hcLight:null},a.NC("listFilterMatchHighlight","Background color of the filtered match.")),g("list.filterMatchBorder",{dark:Ot,light:Ot,hcDark:k,hcLight:b},a.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),g("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},a.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),Fe=g("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},a.NC("tableColumnsBorder","Table border color between columns.")),Pe=g("tree.tableOddRowsBackground",{dark:vi(f,.04),light:vi(f,.04),hcDark:null,hcLight:null},a.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),Me=(g("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},a.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),g("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,a.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),Re=g("quickInputList.focusForeground",{dark:pe,light:pe,hcDark:pe,hcLight:pe},a.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),ze=g("quickInputList.focusIconForeground",{dark:me,light:me,hcDark:me,hcLight:me},a.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),He=g("quickInputList.focusBackground",{dark:Ci(Me,fe),light:Ci(Me,fe),hcDark:null,hcLight:null},a.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),Ve=g("menu.border",{dark:null,light:null,hcDark:k,hcLight:k},a.NC("menuBorder","Border color of menus.")),We=g("menu.foreground",{dark:H,light:f,hcDark:H,hcLight:H},a.NC("menuForeground","Foreground color of menu items.")),qe=g("menu.background",{dark:z,light:z,hcDark:z,hcLight:z},a.NC("menuBackground","Background color of menu items.")),Ue=g("menu.selectionForeground",{dark:pe,light:pe,hcDark:pe,hcLight:pe},a.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),je=g("menu.selectionBackground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},a.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),Ge=g("menu.selectionBorder",{dark:null,light:null,hcDark:b,hcLight:b},a.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),$e=g("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:k,hcLight:k},a.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),Ke=g("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},a.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Ye=(g("toolbar.hoverOutline",{dark:null,light:null,hcDark:b,hcLight:b},a.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),g("toolbar.activeBackground",{dark:bi(Ke,.1),light:ki(Ke,.1),hcDark:null,hcLight:null},a.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),g("editor.snippetTabstopHighlightBackground",{dark:new r.Il(new r.VS(124,124,124,.3)),light:new r.Il(new r.VS(10,50,100,.2)),hcDark:new r.Il(new r.VS(124,124,124,.3)),hcLight:new r.Il(new r.VS(10,50,100,.2))},a.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),g("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),g("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),g("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new r.Il(new r.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},a.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),g("breadcrumb.foreground",{light:vi(f,.8),dark:vi(f,.8),hcDark:vi(f,.8),hcLight:vi(f,.8)},a.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),g("breadcrumb.background",{light:ct,dark:ct,hcDark:ct,hcLight:ct},a.NC("breadcrumbsBackground","Background color of breadcrumb items.")),g("breadcrumb.focusForeground",{light:ki(f,.2),dark:bi(f,.1),hcDark:bi(f,.1),hcLight:bi(f,.1)},a.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),g("breadcrumb.activeSelectionForeground",{light:ki(f,.2),dark:bi(f,.1),hcDark:bi(f,.1),hcLight:bi(f,.1)},a.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),g("breadcrumbPicker.background",{light:ut,dark:ut,hcDark:ut,hcLight:ut},a.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),r.Il.fromHex("#40C8AE").transparent(.5)),Qe=r.Il.fromHex("#40A6FF").transparent(.5),Xe=r.Il.fromHex("#606060").transparent(.4),Je=.4,Ze=g("merge.currentHeaderBackground",{dark:Ye,light:Ye,hcDark:null,hcLight:null},a.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ti=(g("merge.currentContentBackground",{dark:vi(Ze,Je),light:vi(Ze,Je),hcDark:vi(Ze,Je),hcLight:vi(Ze,Je)},a.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),g("merge.incomingHeaderBackground",{dark:Qe,light:Qe,hcDark:null,hcLight:null},a.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),ei=(g("merge.incomingContentBackground",{dark:vi(ti,Je),light:vi(ti,Je),hcDark:vi(ti,Je),hcLight:vi(ti,Je)},a.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),g("merge.commonHeaderBackground",{dark:Xe,light:Xe,hcDark:null,hcLight:null},a.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),ii=(g("merge.commonContentBackground",{dark:vi(ei,Je),light:vi(ei,Je),hcDark:vi(ei,Je),hcLight:vi(ei,Je)},a.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),g("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},a.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),ni=(g("editorOverviewRuler.currentContentForeground",{dark:vi(Ze,1),light:vi(Ze,1),hcDark:ii,hcLight:ii},a.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),g("editorOverviewRuler.incomingContentForeground",{dark:vi(ti,1),light:vi(ti,1),hcDark:ii,hcLight:ii},a.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),g("editorOverviewRuler.commonContentForeground",{dark:vi(ei,1),light:vi(ei,1),hcDark:ii,hcLight:ii},a.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),g("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},a.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),ri=g("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},a.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),oi=g("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},a.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),si=g("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},a.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),ai=g("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},a.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),hi=g("minimap.errorHighlight",{dark:new r.Il(new r.VS(255,18,18,.7)),light:new r.Il(new r.VS(255,18,18,.7)),hcDark:new r.Il(new r.VS(255,50,50,1)),hcLight:"#B5200D"},a.NC("minimapError","Minimap marker color for errors.")),li=g("minimap.warningHighlight",{dark:nt,light:nt,hcDark:rt,hcLight:rt},a.NC("overviewRuleWarning","Minimap marker color for warnings.")),ci=g("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("minimapBackground","Minimap background color.")),di=g("minimap.foregroundOpacity",{dark:r.Il.fromHex("#000f"),light:r.Il.fromHex("#000f"),hcDark:r.Il.fromHex("#000f"),hcLight:r.Il.fromHex("#000f")},a.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),ui=g("minimapSlider.background",{light:vi(Y,.5),dark:vi(Y,.5),hcDark:vi(Y,.5),hcLight:vi(Y,.5)},a.NC("minimapSliderBackground","Minimap slider background color.")),gi=g("minimapSlider.hoverBackground",{light:vi(Q,.5),dark:vi(Q,.5),hcDark:vi(Q,.5),hcLight:vi(Q,.5)},a.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),fi=g("minimapSlider.activeBackground",{light:vi(X,.5),dark:vi(X,.5),hcDark:vi(X,.5),hcLight:vi(X,.5)},a.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),pi=g("problemsErrorIcon.foreground",{dark:tt,light:tt,hcDark:tt,hcLight:tt},a.NC("problemsErrorIconForeground","The color used for the problems error icon.")),mi=g("problemsWarningIcon.foreground",{dark:nt,light:nt,hcDark:nt,hcLight:nt},a.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),_i=g("problemsInfoIcon.foreground",{dark:st,light:st,hcDark:st,hcLight:st},a.NC("problemsInfoIconForeground","The color used for the problems info icon."));g("charts.foreground",{dark:f,light:f,hcDark:f,hcLight:f},a.NC("chartsForeground","The foreground color used in charts.")),g("charts.lines",{dark:vi(f,.5),light:vi(f,.5),hcDark:vi(f,.5),hcLight:vi(f,.5)},a.NC("chartsLines","The color used for horizontal lines in charts.")),g("charts.red",{dark:tt,light:tt,hcDark:tt,hcLight:tt},a.NC("chartsRed","The red color used in chart visualizations.")),g("charts.blue",{dark:st,light:st,hcDark:st,hcLight:st},a.NC("chartsBlue","The blue color used in chart visualizations.")),g("charts.yellow",{dark:nt,light:nt,hcDark:nt,hcLight:nt},a.NC("chartsYellow","The yellow color used in chart visualizations.")),g("charts.orange",{dark:oi,light:oi,hcDark:oi,hcLight:oi},a.NC("chartsOrange","The orange color used in chart visualizations.")),g("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},a.NC("chartsGreen","The green color used in chart visualizations.")),g("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},a.NC("chartsPurple","The purple color used in chart visualizations."));function ki(t,e){return{op:0,value:t,factor:e}}function bi(t,e){return{op:1,value:t,factor:e}}function vi(t,e){return{op:2,value:t,factor:e}}function Ci(...t){return{op:3,values:t}}function Si(t,e,i,n){return{op:4,value:t,background:e,factor:i,transparency:n}}function wi(t,e){if(null!==t)return"string"==typeof t?"#"===t[0]?r.Il.fromHex(t):e.getColor(t):t instanceof r.Il?t:"object"==typeof t?function(t,e){var i,n,o;switch(t.op){case 0:return null===(i=wi(t.value,e))||void 0===i?void 0:i.darken(t.factor);case 1:return null===(n=wi(t.value,e))||void 0===n?void 0:n.lighten(t.factor);case 2:return null===(o=wi(t.value,e))||void 0===o?void 0:o.transparent(t.factor);case 3:for(const i of t.values){const t=wi(i,e);if(t)return t}return;case 5:return wi(e.defines(t.if)?t.then:t.else,e);case 4:{const i=wi(t.value,e);if(!i)return;const n=wi(t.background,e);return n?i.isDarkerThan(n)?r.Il.getLighterColor(i,n,t.factor).transparent(t.transparency):r.Il.getDarkerColor(i,n,t.factor).transparent(t.transparency):i.transparent(t.factor*t.transparency)}default:throw(0,s.vE)(t)}}(t,e):void 0}const Li="vscode://schemas/workbench-colors",Ii=l.B.as(h.I.JSONContribution);Ii.registerSchema(Li,u.getColorSchema());const Ni=new n.pY((()=>Ii.notifySchemaChanged(Li)),200);u.onDidChangeSchema((()=>{Ni.isScheduled()||Ni.schedule()}))},9554:(t,e,i)=>{i.d(e,{Ks:()=>m,q5:()=>p,s_:()=>v});var n=i(5393),r=i(3046),o=i(4669),s=i(8401),a=i(666),h=i(3580),l=i(1294),c=i(9872),d=i(7781);var u,g;!function(t){t.getDefinition=function(t,e){let i=t.defaults;for(;d.kS.isThemeIcon(i);){const t=f.getIcon(i.id);if(!t)return;i=t.defaults}return i}}(u||(u={})),function(t){t.toJSONObject=function(t){return{weight:t.weight,style:t.style,src:t.src.map((t=>({format:t.format,location:t.location.toString()})))}},t.fromJSONObject=function(t){const e=t=>(0,s.HD)(t)?t:void 0;if(t&&Array.isArray(t.src)&&t.src.every((t=>(0,s.HD)(t.format)&&(0,s.HD)(t.location))))return{weight:e(t.weight),style:e(t.style),src:t.src.map((t=>({format:t.format,location:a.o.parse(t.location)})))}}}(g||(g={}));const f=new class{constructor(){this._onDidChange=new o.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,h.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,h.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${r.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(t,e,i,n){const r=this.iconsById[t];if(r){if(i&&!r.description){r.description=i,this.iconSchema.properties[t].markdownDescription=`${i} $(${t})`;const e=this.iconReferenceSchema.enum.indexOf(t);-1!==e&&(this.iconReferenceSchema.enumDescriptions[e]=i),this._onDidChange.fire()}return r}const o={id:t,description:i,defaults:e,deprecationMessage:n};this.iconsById[t]=o;const s={$ref:"#/definitions/icons"};return n&&(s.deprecationMessage=n),i&&(s.markdownDescription=`${i}: $(${t})`),this.iconSchema.properties[t]=s,this.iconReferenceSchema.enum.push(t),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:t}}getIcons(){return Object.keys(this.iconsById).map((t=>this.iconsById[t]))}getIcon(t){return this.iconsById[t]}getIconSchema(){return this.iconSchema}toString(){const t=(t,e)=>t.id.localeCompare(e.id),e=t=>{for(;d.kS.isThemeIcon(t.defaults);)t=this.iconsById[t.defaults.id];return`codicon codicon-${t?t.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const n=Object.keys(this.iconsById).map((t=>this.iconsById[t]));for(const r of n.filter((t=>!!t.description)).sort(t))i.push(`|<i class="${e(r)}"></i>|${r.id}|${d.kS.isThemeIcon(r.defaults)?r.defaults.id:r.id}|${r.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const r of n.filter((t=>!d.kS.isThemeIcon(t.defaults))).sort(t))i.push(`|<i class="${e(r)}"></i>|${r.id}|`);return i.join("\n")}};function p(t,e,i,n){return f.registerIcon(t,e,i,n)}function m(){return f}c.B.add("base.contributions.icons",f),function(){for(const t of r.lA.getAll())f.registerIcon(t.id,t.definition,t.description)}();const _="vscode://schemas/icons",k=c.B.as(l.I.JSONContribution);k.registerSchema(_,f.getIconSchema());const b=new n.pY((()=>k.notifySchemaChanged(_)),200);f.onDidChange((()=>{b.isScheduled()||b.schedule()}));const v=p("widget-close",r.lA.close,(0,h.NC)("widgetClose","Icon for the close action in widgets."));p("goto-previous-location",r.lA.arrowUp,(0,h.NC)("previousChangeIcon","Icon for goto previous editor location.")),p("goto-next-location",r.lA.arrowDown,(0,h.NC)("nextChangeIcon","Icon for goto next editor location.")),d.kS.modify(r.lA.sync,"spin"),d.kS.modify(r.lA.loading,"spin")},4862:(t,e,i)=>{i.d(e,{Xt:()=>o,YO:()=>r,gJ:()=>s,tJ:()=>n});const n=(0,i(2065).yh)("undoRedoService");class r{constructor(t,e){this.resource=t,this.elements=e}}class o{constructor(){this.id=o._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}o._ID=0,o.None=new o;class s{constructor(){this.id=s._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}s._ID=0,s.None=new s}}]);